---
slug: /184
title: "This Week In React #184: Patching, Expo, React Aria, Headless UI, Strict Mode, DevTools, Next.js, Mitosis, Twofold, Terminosaurus, Docusaurus, MST, Remix-SaaS, VisionCamera, Reanimated, VisionOS, Apollo, Vite, Node, Hono ..."
authors: [slorber, bndkt]
date: 05-08-2024
---

Bonjour à tous !

Nous sommes de retour après une courte pause, couvrant deux semaines d'actualités !

J'espère que vous avez bien récupéré de la sortie de React 19 en version bêta 😄 Mais ce n'est pas fini, nous entrons dans une période passionnante avec React Conf, Vercel Ship, App.js et de nombreuses autres conférences à venir.

Cette semaine, le patch de globaux par React a été un sujet brûlant dans l'écosystème. Nous avons également eu quelques sorties intéressantes liées à React, dont 2 bibliothèques headless majeures.

Comme prévu, Expo SDK 51 est sorti, et il semble que ce soit le bon moment pour essayer la Nouvelle Architecture.

Vous cherchez une super conférence React cet été ? Les billets pour [React Rally](https://reactrally.com/?utm_source=thisweekinreact) sont en vente (12-13 août, 🇺🇸 Utah). Nos lecteurs bénéficient d'une [réduction de 10%](https://ti.to/react-rally/react-rally-2024/discount/TWIR) avec le code "TWIR".

En parlant de réductions, Josh Comeau en propose également une pour son cours phare [The Joy of React](https://www.joyofreact.com/). En plus d'une réduction déjà intéressante, nos lecteurs obtiennent [10% supplémentaires](https://courses.joshwcomeau.com/checkout/joy-of-react/ultimate?couponCode=TWIR) avec le code "TWIR" !

<!-- truncate -->

**💡 [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![Helping engineers flex their product muscle](/emails/issues/183/posthog.jpg)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[Aider les ingénieurs à développer leurs compétences produit](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**Product for Engineers**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) est la newsletter de PostHog dédiée à aider les ingénieurs à améliorer leurs compétences produit. Apprenez quelles questions poser aux utilisateurs, comment créer de nouvelles fonctionnalités qu'ils adorent, et le chemin vers le product market fit.

[**Abonnez-vous gratuitement**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) pour recevoir des conseils triés sur le fil pour créer d'excellents produits, des leçons (et erreurs) tirées de la construction de PostHog, et des analyses approfondies des stratégies des meilleures startups.

---

## ⚛️ React {#react}

[![React Aria release, May 1](/emails/issues/184/reactaria.jpg)](https://react-spectrum.adobe.com/releases/2024-05-01.html)

[**Sortie de React Aria, 1er mai**](https://react-spectrum.adobe.com/releases/2024-05-01.html)

Les ingénieurs d'Adobe ont récemment publié de nombreuses améliorations à leur bibliothèque de composants React accessibles et sans style. Les points forts sont :

- Sous-menu, voir le [billet de blog dédié](https://react-spectrum.adobe.com/blog/creating-a-pointer-friendly-submenu-experience.html)
- 7 nouveaux composants de sélection de couleur
- TreeView en alpha
- DropZone + FileTrigger
- Intégration typée de routeur côté client
- API d'élément onAction/isDisabled
- Meilleur tree shaking (~4x plus léger)

---

[![Headless UI v2.0 for React](/emails/issues/184/headlessui.jpg)](https://tailwindcss.com/blog/headless-ui-v2)

[**Headless UI v2.0 pour React**](https://tailwindcss.com/blog/headless-ui-v2)

L'équipe Tailwind a publié une mise à jour majeure de leur bibliothèque de composants React accessibles et sans style. Les points forts sont :

- Positionnement d'ancrage intégré, utilisant Floating UI
- Nouveaux composants d'éléments de formulaire : Checkbox, Input, Label, Field
- Virtualisation de liste Combobox utilisant TanStack Virtual
- Attributs de données hover/focus/active utilisant React Aria
- Nouveau site de documentation

---

- 💸 [React Universe Conf - Previously React Native EU. Experts from React & React Native under one roof! Use code RUCxTWIR to get a 10% discount.](https://www.reactuniverseconf.com/tickets-2024?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- 💬 [Why doesn't Next.js expose the request and response objects in Layouts?](https://github.com/vercel/next.js/issues/43704#issuecomment-2090798307): Delba explains exposing more APIs would prevent Next.js from optimizing code in the future (notably through Partial Prerendering), and gives us alternatives. This [workaround](https://www.propelauth.com/post/getting-url-in-next-server-components) made me smile: putting request data in a header through a middleware to be able to access it.
- 💬 [Vite RFC - Environment API](https://github.com/vitejs/vite/discussions/16358): This upcoming Vite 6 feature should help support React Server Components in Vite. This could also make Vite a viable choice for React Native, which needs to handle one module graph per native platform.
- 👀 [React DevTools 5.2 PR](https://github.com/facebook/react/pull/29022): components optimized by the React Compiler will show a “✨ Memo” badge, including in the profiler. We can now debug/inspect useFormStatus. There is also work around “Fusebox”, a new codename for React Native DevTools.
- 👀 [Next.js PR - Support React 19 in App and Pages router](https://github.com/vercel/next.js/pull/65058)
- 👀 [React Core PR - Support useFormStatus in progressively-enhanced forms](https://github.com/facebook/react/pull/29019)
- 🐦 [React might patch the Date API to avoid hydration mismatch](https://x.com/acdlite/status/1785691330988986587)
- 🐦 [React 19 will "fire" refs twice under StrictMode](https://twitter.com/sebastienlorber/status/1787814604170485770)
- 🐦 [React 19 beta - Rick Hanlon’s Ask Me Anything](https://twitter.com/rickhanlonii/status/1783906285957587194)
- 🔗 [Remix for Next.js Developers](https://remixfornextdevs.com): Convenient resource with side-by-side code snippets.
- 🗓 [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - 🇳🇱 Amsterdam - 14-18 June - Get a 10% discount with code "TWIR".
- 🗓 [dotJS](https://www.dotjs.io/?utm_source=thisweekinreact) - 🇫🇷 Paris - June 27 - Less than 2 months before the conference, the speaker line-up is announced! 10% discount with code "TWIR"
- 📜 [Why Patching Globals Is Harmful](https://kettanaito.com/blog/why-patching-globals-is-harmful): An interesting read related to the bad practice of patching globals, taking React, Next.js, and Bun as examples. I agree that explicitly imported APIs are better, but it wouldn’t allow React to dedupe RSC fetch requests from third-party npm SDKs.
- 📜 [Modern React testing - Playwright](https://sapegin.me/blog/react-testing-5-playwright/): A great resource to start implementing E2E React tests in your apps, using Playwright, Mock Service Worker, and React Testing Library.
- 📜 [React Strict Mode and Race Condition](https://www.nico.fyi/blog/react-strict-mode-and-race-condition): Highlights a subtle behavior you might encounter if you cancel requests in useEffect with AbortController.
- 📜 [Getting Started with Mitosis - Creating a Cross-Framework Design System](https://www.builder.io/blog/mitosis-get-started): Mitosis allows you to compile a JSX component to React/RN/Angular/Vue/Svelte. It also has a brand new website.
- 📜 [Locality of Behavior in React Components](https://alexkondov.com/locality-of-behavior-react/): Reflection around abstracting vs inlining code in a React component. Things that change together should live together.
- 📜 [How to make edge rendering fast](https://developers.netlify.com/guides/how-to-make-edge-rendering-fast/): Netlify’s CEO takes an edge-rendered Remix app and explains how introducing an extra serverless function + CDN caching could speed up your app.
- 📜 [Combining Pixi-React and HTML with Tunnels](https://jallen.dev/blog/pixi-react-tunnels): When using multiple React renderers, a tunnel library might help you keep things grouped by concern.
- 📜 [Upcoming custom element support in React](https://piccalil.li/blog/upcoming-custom-element-support-in-react/): React 19 beta passes 100% of the Custom Elements Everywhere benchmark. Combining React with custom elements looks like an interesting choice in the future.
- 📜 [Replace Your HTML Entry Point with React](https://danielnagy.me/posts/Post_2mewtbsl6g4c): Uses React to render the entire document in Vite. It’s not so simple, but this can be useful for SSR streaming support.
- 📜 [10 Features Next.js 15 Could Launch](https://notebook.lachlanjc.com/2024-04-17_10_features_nextjs_15_could_launch): Predict possible announcements at Vercel Ship conf.
- 📜 [Nuances of Server Actions in Next.js](https://tigerabrodi.blog/nuances-of-server-actions-in-nextjs)
- 📦 [React Router 6.23 - Data Strategy API (unstable)](https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v6230): Enables new Remix 2.9 Single Fetch feature, firing one request for all loaders instead of one per loader.
- 📦 [Terminosaurus - Graphical UI library for terminals, including React renderer integration](https://mael.dev/terminosaurus/)
- 📦 [Twofold - Framework for building demos with React Server Components](https://twofoldframework.com/)
- 📦 [Mobx-State-Tree 6.0 - hasEnv, TypeScript, perf improvements](https://github.com/mobxjs/mobx-state-tree/discussions/2180)
- 📦 [Zustand-Valtio - Interesting alternative to Zustand + Immer](https://github.com/zustandjs/zustand-valtio)
- 📦 [Hono 4.3 - Hono JSX improves compatibility with React, can render Radix UI primitives](https://github.com/honojs/hono/releases/tag/v4.3.0)
- 📦 [Docusaurus 3.3 - Handle React 18.3 warnings, createSitemapItems, pages plugin improvements](https://docusaurus.io/blog/releases/3.3)
- 📦 [Apollo Client 3.10 - Schema-based testing utilities, client.watchFragment, stable createQueryPreloader](https://www.apollographql.com/blog/whats-new-in-apollo-client-3-10)
- 📦 [use-context-selector 2.0 - Drops React < 18](https://github.com/dai-shi/use-context-selector)
- 📦 [Remix-SaaS - A free, lightweight, production-ready Remix Stack for your next SaaS app](https://github.com/dev-xo/remix-saas)
- 🎥 [Theo - React's New Controversial Override](https://www.youtube.com/watch?v=PAf6NjyCnrI)
- 🎙️ [This Month in React - React 19 beta, Node 22, Expo 51, RN 0.74, Next.js 14.2 …](https://podcasters.spotify.com/pod/show/reactiflux/episodes/TMiR-2024-05-So-many-new-releases--React-19-featureset-e2jbc64)

<SubscribeFormEmbed placement="middle" />

---

## 💸 Commanditaire {#sponsor2}

[![Omlet — un nouvel outil d'analyse de composants pour React](/emails/issues/180/omletad.jpg)](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-second-sponsor-may-2024)

**[Omlet — un nouvel outil d'analyse de composants pour React 🔎](https://omlet.dev/?utm_campaign=partner_this-week-in-react_second-sponsor-may-2024)**

Trop de composants personnalisés ou obsolètes, pas assez de réutilisation ? Pas avec Omlet. Omlet scanne votre base de code et fournit instantanément des graphiques prédéfinis et personnalisés sur :

- Composants inutilisés et dépréciés à supprimer
- Composants similaires ou redondants à consolider
- Composants récemment créés qui indiquent des modèles émergents
- Dépendances des composants afin que vous puissiez estimer et visualiser l'impact des mises à jour du code

Avec ces données, vous pouvez arrêter de deviner quels composants garder, supprimer ou améliorer — et maintenir une base de code plus saine et des bibliothèques plus simplifiées. [Essayez Omlet gratuitement pendant 30 jours](https://omlet.dev/?utm_campaign=partner_this-week-in-react_second-sponsor-may-2024).

---

## 📱 React-Native {#react-native}

Cette section est rédigée par [Benedikt](https://twitter.com/bndkt).

[![Expo SDK 51](/emails/issues/184/expo51.jpg)](https://expo.dev/changelog/2024/05-07-sdk-51)

[**Expo SDK 51**](https://expo.dev/changelog/2024/05-07-sdk-51)

Juste après React Native 0.74 suit la sortie d'Expo SDK 51. Cette version fait surtout avancer l'architecture interne et promeut certains packages précédemment expérimentaux comme nouveaux défauts, alors permettez-moi d'aborder rapidement les sujets que nous avons déjà couverts dans cette newsletter : la prise en charge de la Nouvelle Architecture pour la plupart des modules Expo (il y a encore quelques [problèmes connus](https://docs.expo.dev/guides/new-architecture/#known-issues-in-expo-sdk-libraries)), la prise en charge de Bridgeless, la prise en charge du manifeste de confidentialité d'Apple, les versions « next » des packages camera et sqlite sont maintenant les défauts, Fingerprint n'est plus expérimental. Mais il y a aussi un nouveau package expo-symbols présentant la bibliothèque SF Symbols d'Apple (iOS uniquement), une nouvelle bibliothèque expo-video, la sortie d'Expo Router 3.5 avec prise en charge du segment # dans les URL, et des améliorations à EAS Update (par exemple une interface web pour déployer les mises à jour progressivement). Je m'attends à des annonces plus importantes autour d'Expo Router (RSC 👀) à la prochaine React Conf, donc restez à l'écoute ! Un autre changement significatif est qu'Expo Go, à partir de la version 51, ne prend en charge qu'une seule version du SDK Expo. Cette décision a parfaitement sens pour moi car elle facilite grandement la maintenance de l'application Expo Go et pour la plupart des cas d'utilisation, vous devriez de toute façon utiliser Expo Dev Client.

---

- 💸 [PowerSync – créez des applications local-first avec une gestion d'état simple et une réactivité en temps réel. Non invasif pour l'architecture existante](https://www.powersync.com/?utm_source=newsletter&utm_medium=sponsorship&utm_campaign=this-week-in-react)
- 🐦 [Le résolveur Metro réécrit dans Expo SDK 51 est jusqu'à 6x plus rapide](https://x.com/Baconbrix/status/1785364741751214529)
- 🐦 [Créez des applications iOS natives over-the-air avec Expo 51 bêta !](https://x.com/Baconbrix/status/1783621369743245363)
- 👀 [EAS Build - Mise à jour tarifaire](https://expo.dev/changelog/2024/05-02-fast-failed-builds-exclusion) : Les builds échouant rapidement (dans les 3 premières minutes) sont désormais gratuits, très apprécié !
- 🗓 [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - 🇵🇱 Cracovie - 22-24 mai. Obtenez une [réduction de 10%](https://ti.to/appjs/2024/discount/TWIR) avec le code "TWIR".
- 📜 [Options de bases de données locales React Native : un résumé complet](https://www.powersync.com/blog/react-native-local-database-options) : Le local-first permet des applications très performantes, et de nouvelles solutions émergent. Voici un aperçu des différentes options de bases de données.
- 📜 [React Native Vision Camera x Skia : Nouveautés de la v4](https://www.premieroctet.com/blog/en/react-native-vision-camera-v4-skia) : Je prédis que nous verrons de nouvelles expériences interactives folles avec RN Vision Camera et les processeurs de trames Skia !
- 📜 [Effets de survol iPad dans React Native 0.74](https://www.oskarkwasniewski.dev/blog/react-native-ipad-hover-effects) : iPadOS a une manière spécifique de mettre en évidence quand le périphérique d'entrée (ex. le Pencil) survole un élément d'interface ; voici comment l'utiliser dans RN).
- 📜 [Modules Rust dans React Native](https://ospfranco.com/post/2024/05/08/react-native-rust-module-guide/)
- 📦 [Reanimated 3.9 - Transitions d'écran, useScrollViewOffset fonctionne désormais sur le Web, support de React Native 0.74 et du mode Bridgeless, améliorations de stabilité des transitions d'éléments partagés](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.9.0)
- 📦 [React Native 0.74.1 - Agrégation des manifests de confidentialité](https://github.com/facebook/react-native/releases/tag/v0.74.1)
- 📦 [React Native 0.73.8 Ajout du manifeste de confidentialité au template](https://github.com/facebook/react-native/releases/tag/v0.73.8)
- 📦 [React Native VisionOS 0.74](https://github.com/callstack/react-native-visionos/releases/tag/v0.74.0-visionos)
- 📦 [NativeWindUI - Nouvelle bibliothèque de composants avec éléments gratuits et payants](https://nativewindui.com/)
- 🎥 [Simon Grimm - IDE React Native Bêta](https://www.youtube.com/watch?v=eOWxKkHakyY)
- 🎥 [Szymon Rybczak - Boostez vos animations avec Rive](https://youtube.com/watch?v=2Mn1a_iAj6g)
- 🎙️ [RNR 296 - La NASA utilise Ignite !?!](https://reactnativeradio.com/episodes/rnr-296-nasa-uses-ignite)
- 🎙️ [Rocket Ship 40 - De Next.js à React Native avec Kitze](https://share.transistor.fm/s/47610b15)

---

## 🔀 Autres {#other}

- 👀 [Nouveautés de la plateforme web en avril - Popover, Intl.Segmenter, align-content, parseHTMLUnsafe…](https://web.dev/blog/web-platform-04-2024)
- 📜 [Le manuel du développeur Front End / ingénieur 2024](https://frontendmasters.com/blog/front-end-developer-handbook-2024/)
- 📜 [Types marqués TypeScript](https://prosopo.io/articles/typescript-branding/)
- 📦 [Node 22.1 - Nouvelle option de mise en cache du code sur disque](https://nodejs.org/en/blog/release/v22.1.0?utm_content=291781984&utm_medium=social&utm_source=twitter&hss_channel=tw-91985735)
- 📦 [Node 20.3 - Le mode Watch est maintenant stable](https://nodejs.org/en/blog/release/v20.13.0)
- 📦 [Vitest 1.6 - Performances, drapeau –standalone, drapeau Benchmark –compare](https://github.com/vitest-dev/vitest/releases/tag/v1.6.0)
- 📦 [Module Federation 2.0 - Découplé de Webpack, prise en charge de Rspack, sécurité de type](https://module-federation.io/blog/announcement.html)

---

## 🤭 Fun {#fun}

[![alt](/emails/issues/184/meme.jpg)](https://twitter.com/sebastienlorber/status/1786399152550597114)

À plus ! 👋