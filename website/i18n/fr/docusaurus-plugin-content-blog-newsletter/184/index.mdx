---
slug: /184
title: "This Week In React #184: Patching, Expo, React Aria, Headless UI, Strict Mode, DevTools, Next.js, Mitosis, Twofold, Terminosaurus, Docusaurus, MST, Remix-SaaS, VisionCamera, Reanimated, VisionOS, Apollo, Vite, Node, Hono ..."
authors: [slorber, bndkt]
date: 05-08-2024
---

Bonjour Ã  tous !

Nous sommes de retour aprÃ¨s une courte pause, couvrant deux semaines d'actualitÃ©s !

J'espÃ¨re que vous avez bien rÃ©cupÃ©rÃ© de la sortie de React 19 en version bÃªta ğŸ˜„ Mais ce n'est pas fini, nous entrons dans une pÃ©riode passionnante avec React Conf, Vercel Ship, App.js et de nombreuses autres confÃ©rences Ã  venir.

Cette semaine, le patch de globaux par React a Ã©tÃ© un sujet brÃ»lant dans l'Ã©cosystÃ¨me. Nous avons Ã©galement eu quelques sorties intÃ©ressantes liÃ©es Ã  React, dont 2 bibliothÃ¨ques headless majeures.

Comme prÃ©vu, Expo SDK 51 est sorti, et il semble que ce soit le bon moment pour essayer la Nouvelle Architecture.

Vous cherchez une super confÃ©rence React cet Ã©tÃ© ? Les billets pour [React Rally](https://reactrally.com/?utm_source=thisweekinreact) sont en vente (12-13 aoÃ»t, ğŸ‡ºğŸ‡¸ Utah). Nos lecteurs bÃ©nÃ©ficient d'une [rÃ©duction de 10%](https://ti.to/react-rally/react-rally-2024/discount/TWIR) avec le code "TWIR".

En parlant de rÃ©ductions, Josh Comeau en propose Ã©galement une pour son cours phare [The Joy of React](https://www.joyofreact.com/). En plus d'une rÃ©duction dÃ©jÃ  intÃ©ressante, nos lecteurs obtiennent [10% supplÃ©mentaires](https://courses.joshwcomeau.com/checkout/joy-of-react/ultimate?couponCode=TWIR) avec le code "TWIR" !

<!-- truncate -->

**ğŸ’¡ [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Helping engineers flex their product muscle](/emails/issues/183/posthog.jpg)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[Aider les ingÃ©nieurs Ã  dÃ©velopper leurs compÃ©tences produit](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**Product for Engineers**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) est la newsletter de PostHog dÃ©diÃ©e Ã  aider les ingÃ©nieurs Ã  amÃ©liorer leurs compÃ©tences produit. Apprenez quelles questions poser aux utilisateurs, comment crÃ©er de nouvelles fonctionnalitÃ©s qu'ils adorent, et le chemin vers le product market fit.

[**Abonnez-vous gratuitement**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) pour recevoir des conseils triÃ©s sur le fil pour crÃ©er d'excellents produits, des leÃ§ons (et erreurs) tirÃ©es de la construction de PostHog, et des analyses approfondies des stratÃ©gies des meilleures startups.

---

## âš›ï¸ React {#react}

[![React Aria release, May 1](/emails/issues/184/reactaria.jpg)](https://react-spectrum.adobe.com/releases/2024-05-01.html)

[**Sortie de React Aria, 1er mai**](https://react-spectrum.adobe.com/releases/2024-05-01.html)

Les ingÃ©nieurs d'Adobe ont rÃ©cemment publiÃ© de nombreuses amÃ©liorations Ã  leur bibliothÃ¨que de composants React accessibles et sans style. Les points forts sont :

- Sous-menu, voir le [billet de blog dÃ©diÃ©](https://react-spectrum.adobe.com/blog/creating-a-pointer-friendly-submenu-experience.html)
- 7 nouveaux composants de sÃ©lection de couleur
- TreeView en alpha
- DropZone + FileTrigger
- IntÃ©gration typÃ©e de routeur cÃ´tÃ© client
- API d'Ã©lÃ©ment onAction/isDisabled
- Meilleur tree shaking (~4x plus lÃ©ger)

---

[![Headless UI v2.0 for React](/emails/issues/184/headlessui.jpg)](https://tailwindcss.com/blog/headless-ui-v2)

[**Headless UI v2.0 pour React**](https://tailwindcss.com/blog/headless-ui-v2)

L'Ã©quipe Tailwind a publiÃ© une mise Ã  jour majeure de leur bibliothÃ¨que de composants React accessibles et sans style. Les points forts sont :

- Positionnement d'ancrage intÃ©grÃ©, utilisant Floating UI
- Nouveaux composants d'Ã©lÃ©ments de formulaire : Checkbox, Input, Label, Field
- Virtualisation de liste Combobox utilisant TanStack Virtual
- Attributs de donnÃ©es hover/focus/active utilisant React Aria
- Nouveau site de documentation

---

- ğŸ’¸ [React Universe Conf - Previously React Native EU. Experts from React & React Native under one roof! Use code RUCxTWIR to get a 10% discount.](https://www.reactuniverseconf.com/tickets-2024?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- ğŸ’¬ [Why doesn't Next.js expose the request and response objects in Layouts?](https://github.com/vercel/next.js/issues/43704#issuecomment-2090798307): Delba explains exposing more APIs would prevent Next.js from optimizing code in the future (notably through Partial Prerendering), and gives us alternatives. This [workaround](https://www.propelauth.com/post/getting-url-in-next-server-components) made me smile: putting request data in a header through a middleware to be able to access it.
- ğŸ’¬ [Vite RFC - Environment API](https://github.com/vitejs/vite/discussions/16358): This upcoming Vite 6 feature should help support React Server Components in Vite. This could also make Vite a viable choice for React Native, which needs to handle one module graph per native platform.
- ğŸ‘€ [React DevTools 5.2 PR](https://github.com/facebook/react/pull/29022): components optimized by the React Compiler will show a â€œâœ¨ Memoâ€ badge, including in the profiler. We can now debug/inspect useFormStatus. There is also work around â€œFuseboxâ€, a new codename for React Native DevTools.
- ğŸ‘€ [Next.js PR - Support React 19 in App and Pages router](https://github.com/vercel/next.js/pull/65058)
- ğŸ‘€ [React Core PR - Support useFormStatus in progressively-enhanced forms](https://github.com/facebook/react/pull/29019)
- ğŸ¦ [React might patch the Date API to avoid hydration mismatch](https://x.com/acdlite/status/1785691330988986587)
- ğŸ¦ [React 19 will "fire" refs twice under StrictMode](https://twitter.com/sebastienlorber/status/1787814604170485770)
- ğŸ¦ [React 19 beta - Rick Hanlonâ€™s Ask Me Anything](https://twitter.com/rickhanlonii/status/1783906285957587194)
- ğŸ”— [Remix for Next.js Developers](https://remixfornextdevs.com): Convenient resource with side-by-side code snippets.
- ğŸ—“ [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - ğŸ‡³ğŸ‡± Amsterdam - 14-18 June - Get a 10% discount with code "TWIR".
- ğŸ—“ [dotJS](https://www.dotjs.io/?utm_source=thisweekinreact) - ğŸ‡«ğŸ‡· Paris - June 27 - Less than 2 months before the conference, the speaker line-up is announced! 10% discount with code "TWIR"
- ğŸ“œ [Why Patching Globals Is Harmful](https://kettanaito.com/blog/why-patching-globals-is-harmful): An interesting read related to the bad practice of patching globals, taking React, Next.js, and Bun as examples. I agree that explicitly imported APIs are better, but it wouldnâ€™t allow React to dedupe RSC fetch requests from third-party npm SDKs.
- ğŸ“œ [Modern React testing - Playwright](https://sapegin.me/blog/react-testing-5-playwright/): A great resource to start implementing E2E React tests in your apps, using Playwright, Mock Service Worker, and React Testing Library.
- ğŸ“œ [React Strict Mode and Race Condition](https://www.nico.fyi/blog/react-strict-mode-and-race-condition): Highlights a subtle behavior you might encounter if you cancel requests in useEffect with AbortController.
- ğŸ“œ [Getting Started with Mitosis - Creating a Cross-Framework Design System](https://www.builder.io/blog/mitosis-get-started): Mitosis allows you to compile a JSX component to React/RN/Angular/Vue/Svelte. It also has a brand new website.
- ğŸ“œ [Locality of Behavior in React Components](https://alexkondov.com/locality-of-behavior-react/): Reflection around abstracting vs inlining code in a React component. Things that change together should live together.
- ğŸ“œ [How to make edge rendering fast](https://developers.netlify.com/guides/how-to-make-edge-rendering-fast/): Netlifyâ€™s CEO takes an edge-rendered Remix app and explains how introducing an extra serverless function + CDN caching could speed up your app.
- ğŸ“œ [Combining Pixi-React and HTML with Tunnels](https://jallen.dev/blog/pixi-react-tunnels): When using multiple React renderers, a tunnel library might help you keep things grouped by concern.
- ğŸ“œ [Upcoming custom element support in React](https://piccalil.li/blog/upcoming-custom-element-support-in-react/): React 19 beta passes 100% of the Custom Elements Everywhere benchmark. Combining React with custom elements looks like an interesting choice in the future.
- ğŸ“œ [Replace Your HTML Entry Point with React](https://danielnagy.me/posts/Post_2mewtbsl6g4c): Uses React to render the entire document in Vite. Itâ€™s not so simple, but this can be useful for SSR streaming support.
- ğŸ“œ [10 Features Next.js 15 Could Launch](https://notebook.lachlanjc.com/2024-04-17_10_features_nextjs_15_could_launch): Predict possible announcements at Vercel Ship conf.
- ğŸ“œ [Nuances of Server Actions in Next.js](https://tigerabrodi.blog/nuances-of-server-actions-in-nextjs)
- ğŸ“¦ [React Router 6.23 - Data Strategy API (unstable)](https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v6230): Enables new Remix 2.9 Single Fetch feature, firing one request for all loaders instead of one per loader.
- ğŸ“¦ [Terminosaurus - Graphical UI library for terminals, including React renderer integration](https://mael.dev/terminosaurus/)
- ğŸ“¦ [Twofold - Framework for building demos with React Server Components](https://twofoldframework.com/)
- ğŸ“¦ [Mobx-State-Tree 6.0 - hasEnv, TypeScript, perf improvements](https://github.com/mobxjs/mobx-state-tree/discussions/2180)
- ğŸ“¦ [Zustand-Valtio - Interesting alternative to Zustand + Immer](https://github.com/zustandjs/zustand-valtio)
- ğŸ“¦ [Hono 4.3 - Hono JSX improves compatibility with React, can render Radix UI primitives](https://github.com/honojs/hono/releases/tag/v4.3.0)
- ğŸ“¦ [Docusaurus 3.3 - Handle React 18.3 warnings, createSitemapItems, pages plugin improvements](https://docusaurus.io/blog/releases/3.3)
- ğŸ“¦ [Apollo Client 3.10 - Schema-based testing utilities, client.watchFragment, stable createQueryPreloader](https://www.apollographql.com/blog/whats-new-in-apollo-client-3-10)
- ğŸ“¦ [use-context-selector 2.0 - Drops React < 18](https://github.com/dai-shi/use-context-selector)
- ğŸ“¦ [Remix-SaaS - A free, lightweight, production-ready Remix Stack for your next SaaS app](https://github.com/dev-xo/remix-saas)
- ğŸ¥ [Theo - React's New Controversial Override](https://www.youtube.com/watch?v=PAf6NjyCnrI)
- ğŸ™ï¸ [This Month in React - React 19 beta, Node 22, Expo 51, RN 0.74, Next.js 14.2 â€¦](https://podcasters.spotify.com/pod/show/reactiflux/episodes/TMiR-2024-05-So-many-new-releases--React-19-featureset-e2jbc64)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Commanditaire {#sponsor2}

[![Omlet â€” un nouvel outil d'analyse de composants pour React](/emails/issues/180/omletad.jpg)](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-second-sponsor-may-2024)

**[Omlet â€” un nouvel outil d'analyse de composants pour React ğŸ”](https://omlet.dev/?utm_campaign=partner_this-week-in-react_second-sponsor-may-2024)**

Trop de composants personnalisÃ©s ou obsolÃ¨tes, pas assez de rÃ©utilisation ? Pas avec Omlet. Omlet scanne votre base de code et fournit instantanÃ©ment des graphiques prÃ©dÃ©finis et personnalisÃ©s sur :

- Composants inutilisÃ©s et dÃ©prÃ©ciÃ©s Ã  supprimer
- Composants similaires ou redondants Ã  consolider
- Composants rÃ©cemment crÃ©Ã©s qui indiquent des modÃ¨les Ã©mergents
- DÃ©pendances des composants afin que vous puissiez estimer et visualiser l'impact des mises Ã  jour du code

Avec ces donnÃ©es, vous pouvez arrÃªter de deviner quels composants garder, supprimer ou amÃ©liorer â€” et maintenir une base de code plus saine et des bibliothÃ¨ques plus simplifiÃ©es. [Essayez Omlet gratuitement pendant 30 jours](https://omlet.dev/?utm_campaign=partner_this-week-in-react_second-sponsor-may-2024).

---

## ğŸ“± React-Native {#react-native}

Cette section est rÃ©digÃ©e par [Benedikt](https://twitter.com/bndkt).

[![Expo SDK 51](/emails/issues/184/expo51.jpg)](https://expo.dev/changelog/2024/05-07-sdk-51)

[**Expo SDK 51**](https://expo.dev/changelog/2024/05-07-sdk-51)

Juste aprÃ¨s React Native 0.74 suit la sortie d'Expo SDK 51. Cette version fait surtout avancer l'architecture interne et promeut certains packages prÃ©cÃ©demment expÃ©rimentaux comme nouveaux dÃ©fauts, alors permettez-moi d'aborder rapidement les sujets que nous avons dÃ©jÃ  couverts dans cette newsletter : la prise en charge de la Nouvelle Architecture pour la plupart des modules Expo (il y a encore quelques [problÃ¨mes connus](https://docs.expo.dev/guides/new-architecture/#known-issues-in-expo-sdk-libraries)), la prise en charge de Bridgeless, la prise en charge du manifeste de confidentialitÃ© d'Apple, les versions Â« next Â» des packages camera et sqlite sont maintenant les dÃ©fauts, Fingerprint n'est plus expÃ©rimental. Mais il y a aussi un nouveau package expo-symbols prÃ©sentant la bibliothÃ¨que SF Symbols d'Apple (iOS uniquement), une nouvelle bibliothÃ¨que expo-video, la sortie d'Expo Router 3.5 avec prise en charge du segment # dans les URL, et des amÃ©liorations Ã  EAS Update (par exemple une interface web pour dÃ©ployer les mises Ã  jour progressivement). Je m'attends Ã  des annonces plus importantes autour d'Expo Router (RSC ğŸ‘€) Ã  la prochaine React Conf, donc restez Ã  l'Ã©coute ! Un autre changement significatif est qu'Expo Go, Ã  partir de la version 51, ne prend en charge qu'une seule version du SDK Expo. Cette dÃ©cision a parfaitement sens pour moi car elle facilite grandement la maintenance de l'application Expo Go et pour la plupart des cas d'utilisation, vous devriez de toute faÃ§on utiliser Expo Dev Client.

---

- ğŸ’¸ [PowerSync â€“ crÃ©ez des applications local-first avec une gestion d'Ã©tat simple et une rÃ©activitÃ© en temps rÃ©el. Non invasif pour l'architecture existante](https://www.powersync.com/?utm_source=newsletter&utm_medium=sponsorship&utm_campaign=this-week-in-react)
- ğŸ¦ [Le rÃ©solveur Metro rÃ©Ã©crit dans Expo SDK 51 est jusqu'Ã  6x plus rapide](https://x.com/Baconbrix/status/1785364741751214529)
- ğŸ¦ [CrÃ©ez des applications iOS natives over-the-air avec Expo 51 bÃªta !](https://x.com/Baconbrix/status/1783621369743245363)
- ğŸ‘€ [EAS Build - Mise Ã  jour tarifaire](https://expo.dev/changelog/2024/05-02-fast-failed-builds-exclusion) : Les builds Ã©chouant rapidement (dans les 3 premiÃ¨res minutes) sont dÃ©sormais gratuits, trÃ¨s apprÃ©ciÃ© !
- ğŸ—“ [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - ğŸ‡µğŸ‡± Cracovie - 22-24 mai. Obtenez une [rÃ©duction de 10%](https://ti.to/appjs/2024/discount/TWIR) avec le code "TWIR".
- ğŸ“œ [Options de bases de donnÃ©es locales React Native : un rÃ©sumÃ© complet](https://www.powersync.com/blog/react-native-local-database-options) : Le local-first permet des applications trÃ¨s performantes, et de nouvelles solutions Ã©mergent. Voici un aperÃ§u des diffÃ©rentes options de bases de donnÃ©es.
- ğŸ“œ [React Native Vision Camera x Skia : NouveautÃ©s de la v4](https://www.premieroctet.com/blog/en/react-native-vision-camera-v4-skia) : Je prÃ©dis que nous verrons de nouvelles expÃ©riences interactives folles avec RN Vision Camera et les processeurs de trames Skia !
- ğŸ“œ [Effets de survol iPad dans React Native 0.74](https://www.oskarkwasniewski.dev/blog/react-native-ipad-hover-effects) : iPadOS a une maniÃ¨re spÃ©cifique de mettre en Ã©vidence quand le pÃ©riphÃ©rique d'entrÃ©e (ex. le Pencil) survole un Ã©lÃ©ment d'interface ; voici comment l'utiliser dans RN).
- ğŸ“œ [Modules Rust dans React Native](https://ospfranco.com/post/2024/05/08/react-native-rust-module-guide/)
- ğŸ“¦ [Reanimated 3.9 - Transitions d'Ã©cran, useScrollViewOffset fonctionne dÃ©sormais sur le Web, support de React Native 0.74 et du mode Bridgeless, amÃ©liorations de stabilitÃ© des transitions d'Ã©lÃ©ments partagÃ©s](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.9.0)
- ğŸ“¦ [React Native 0.74.1 - AgrÃ©gation des manifests de confidentialitÃ©](https://github.com/facebook/react-native/releases/tag/v0.74.1)
- ğŸ“¦ [React Native 0.73.8 Ajout du manifeste de confidentialitÃ© au template](https://github.com/facebook/react-native/releases/tag/v0.73.8)
- ğŸ“¦ [React Native VisionOS 0.74](https://github.com/callstack/react-native-visionos/releases/tag/v0.74.0-visionos)
- ğŸ“¦ [NativeWindUI - Nouvelle bibliothÃ¨que de composants avec Ã©lÃ©ments gratuits et payants](https://nativewindui.com/)
- ğŸ¥ [Simon Grimm - IDE React Native BÃªta](https://www.youtube.com/watch?v=eOWxKkHakyY)
- ğŸ¥ [Szymon Rybczak - Boostez vos animations avec Rive](https://youtube.com/watch?v=2Mn1a_iAj6g)
- ğŸ™ï¸ [RNR 296 - La NASA utilise Ignite !?!](https://reactnativeradio.com/episodes/rnr-296-nasa-uses-ignite)
- ğŸ™ï¸ [Rocket Ship 40 - De Next.js Ã  React Native avec Kitze](https://share.transistor.fm/s/47610b15)

---

## ğŸ”€ Autres {#other}

- ğŸ‘€ [NouveautÃ©s de la plateforme web en avril - Popover, Intl.Segmenter, align-content, parseHTMLUnsafeâ€¦](https://web.dev/blog/web-platform-04-2024)
- ğŸ“œ [Le manuel du dÃ©veloppeur Front End / ingÃ©nieur 2024](https://frontendmasters.com/blog/front-end-developer-handbook-2024/)
- ğŸ“œ [Types marquÃ©s TypeScript](https://prosopo.io/articles/typescript-branding/)
- ğŸ“¦ [Node 22.1 - Nouvelle option de mise en cache du code sur disque](https://nodejs.org/en/blog/release/v22.1.0?utm_content=291781984&utm_medium=social&utm_source=twitter&hss_channel=tw-91985735)
- ğŸ“¦ [Node 20.3 - Le mode Watch est maintenant stable](https://nodejs.org/en/blog/release/v20.13.0)
- ğŸ“¦ [Vitest 1.6 - Performances, drapeau â€“standalone, drapeau Benchmark â€“compare](https://github.com/vitest-dev/vitest/releases/tag/v1.6.0)
- ğŸ“¦ [Module Federation 2.0 - DÃ©couplÃ© de Webpack, prise en charge de Rspack, sÃ©curitÃ© de type](https://module-federation.io/blog/announcement.html)

---

## ğŸ¤­ Fun {#fun}

[![alt](/emails/issues/184/meme.jpg)](https://twitter.com/sebastienlorber/status/1786399152550597114)

Ã€ plus ! ğŸ‘‹