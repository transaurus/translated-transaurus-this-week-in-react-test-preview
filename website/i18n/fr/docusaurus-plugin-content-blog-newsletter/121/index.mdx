---
slug: /121
title: "This Week In React #121: Next.js, experimental_cache, CSS-in-JS, Qwikify, Typesafety, 3D, Vitest Preview, Outstatic, Remix, React-Native..."
authors: [slorber]
date: 10-25-2022
---

Bonjour à tous !

La semaine dernière, j'ai fait une erreur : j'ai envoyé l'édition 220 au lieu de la 120 😅. Personne ne l'a remarqué, ce n'est probablement pas grave !

C'est la saison des conférences : le replay de ViteConf est disponible, React Advanced vient de se terminer, et d'autres sont à venir.

La conférence Next.js commence dans quelques heures. Nous aurons probablement une annonce de Next.js 13, ainsi que des mises en page imbriquées, et d'autres choses super cool qui commencent par Turbo 🤭. Parlons-en la semaine prochaine.

Nous avons également tous les hébergeurs qui acceptent d'améliorer leur support Next.js en même temps : Netlify, Cloudflare, Microsoft...

Ne manquez pas la saison 5 des vidéos React-Native de William Candillon qui commence aujourd'hui !

J'ai enregistré un [épisode de podcast sur Docusaurus 2.0 avec PodRocket](https://podrocket.logrocket.com/docusaurus) le mois dernier. J'ai totalement oublié d'en parler 😅. Je veux faire plus d'épisodes de podcast à l'avenir, alors invitez-moi ! 😉

<!-- truncate -->

**💡 [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![Sizzy - le navigateur pour les développeurs](/emails/issues/220/sizzy.jpg)](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact)

Comment se fait-il que les professionnels de tous les autres secteurs aient des outils spécialisés, mais que les développeurs web soient encore coincés à utiliser le navigateur que leur grand-mère utilise pour faire ses achats sur Amazon ?

Si vous ouvrez localhost:3000 dans un autre navigateur que Sizzy, vous perdez des heures de votre précieux temps.

**Avant Sizzy :** le développement web vous stresse, le design responsive est difficile, vous avez une quantité écrasante d'onglets et d'applications ouverts.

**Après Sizzy :** tous les outils dont vous avez besoin sont au même endroit, le design responsive est un jeu d'enfant, fini le changement de contexte.

Vous pouvez [le télécharger ici](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact) et l'essayer gratuitement pendant 14 jours !

---

## ⚛️ React {#react}

**[Pourquoi nous rompons avec le CSS-in-JS](https://dev.to/srmagura/why-were-breaking-up-wiht-css-in-js-4g9b)**

Sam est un mainteneur d'Emotion, l'une des bibliothèques CSS-in-JS les plus populaires. Il explique les avantages et les inconvénients du CSS-in-JS, en se concentrant sur les problèmes des bibliothèques avec runtime. Pour son entreprise Spot, le coût de la sérialisation des styles était trop élevé. Ils ont remplacé Emotion par des modules Sass (modules CSS + Sass) avec un système utilitaire CSS. Sur Docusaurus, nous utilisons les modules CSS et je confirme que c'est une bonne alternative sans runtime et relativement simple. L'expérience développeur (DX) n'est pas aussi bonne mais reste tout à fait acceptable.

Cet article a lancé de nombreuses discussions intéressantes. On sait depuis un moment que les bibliothèques CSS-in-JS avec runtime causent des problèmes de performance. [Dan Abramov confirme](https://twitter.com/dan_abramov/status/1584835028986793984) et [ne veut utiliser aucun runtime sur le nouveau site de documentation de React](https://github.com/reactjs/reactjs.org/issues/5115). Ryan Florence mentionne [des problèmes de performance avec Chakra](https://twitter.com/ryanflorence/status/1582835729360572416), qui utilise Emotion.

Tailwind reste une bonne alternative. Pour moi, il peut être classé dans la catégorie CSS-in-JS sans runtime, notamment dans un contexte React où le style Tailwind est appliqué via JSX. Certains questionnent sa [maintenabilité](https://twitter.com/hi__mayank/status/1584261503670448128), mais en pratique cela fonctionne plutôt bien.

**[Qwik React](https://qwik.builder.io/qwikcity/integrations/react/)**

Qwik est un framework SPA innovant qui [évite les problèmes de performance liés à l'hydratation côté client](https://www.builder.io/blog/hydration-is-pure-overhead). Il peut désormais s'intégrer avec React via une fonction `qwikify$()` pour encapsuler n'importe quel composant React existant. Les directives `client:` (inspirées d'Astro) permettent de contrôler quand le composant React sera hydraté avec une grande granularité. La démo intègre Material UI dans une application Qwik. Voir aussi [cette vidéo](https://www.youtube.com/watch?v=fLH28rDu97I). Je pense que c'est une bonne solution pour éviter d'adopter entièrement ce nouveau framework, et de l'essayer progressivement. Nous pouvons également conserver les propriétés multiplateformes de React tout en adoptant Qwik pour améliorer les performances web.

**[Fully Typed Web Apps](https://www.epicweb.dev/fully-typed-web-apps)**

Kent C. Dodds explique l'intérêt d'avoir une sécurité de type de bout en bout, de la base de données à l'interface utilisateur, à travers différentes frontières : réseau, stockage local, base de données... Il aborde la validation (schémas, gardes de type), la génération de types (Prisma) et les conventions (Remix). Il explique comment cette expérience est possible avec Remix grâce à l'inférence : il est préférable d'utiliser `typeof` plutôt que `as`.

**[Building an interactive WebGL experience in Next.js](https://vercel.com/blog/building-an-interactive-webgl-experience-in-next-js)**

Vercel explique comment ils ont créé une [expérience d'inscription immersive impressionnante pour la conférence Next.js](https://nextjs.org/conf), basée sur React-Three-Fiber. Cela reste complexe à comprendre sans expérience en 3D / WebGL / Three.js, mais la décomposition en étapes successives est intéressante et donne un aperçu de l'état d'esprit du développement créatif.

- 👀 [Pull-Request de l'API React Cache](https://github.com/facebook/react/pull/25506): expose une nouvelle API `React.experimental_cache`
- 📖 [Nouveau doc bêta - cloneElement](https://twitter.com/dan_abramov/status/1582814754426433537)
- 📦 [Vitest Preview](https://www.vitest-preview.com/): permet de déboguer visuellement les tests Vitest. Petit frère de [Jest Preview](https://www.jest-preview.com/).
- 📦 [Outstatic - Un CMS statique pour Next.js](https://outstatic.com/): nouveau CMS basé sur Git qui s'intègre parfaitement à Next.js. Éditeur convivial avec capacité d'upload d'images.
- 📜 [Netlify - Routes API planifiées et en arrière-plan pour Next.js](https://www.netlify.com/blog/new-background-scheduled-api-routes-nextjs/): Netlify utilise ses fonctions d'arrière-plan pour appeler les API Next.js basées sur des expressions cron.
- 📜 [Prise en charge de Next.js Edge Runtime par Cloudflare Pages](https://blog.cloudflare.com/next-on-pages/): Cloudflare supporte désormais Next.js via le runtime `experimental-edge` fonctionnant sur Cloudflare Workers (contrairement au runtime Node.js). Leur solution s'appuie sur l'[API Vercel Build Output](https://vercel.com/blog/build-output-api), ouvrant la voie à une meilleure portabilité des frameworks edge-first entre clouds.
- 📜 [Microsoft - Extension du support Next.js dans Azure Static Web Apps](https://techcommunity.microsoft.com/t5/apps-on-azure-blog/extending-next-js-support-in-azure-static-web-apps/ba-p/3627975): Azure supporte désormais le SSR Next.js (auparavant : uniquement SSG).
- 📜 [Conserver les saisies après soumission de formulaire dans Remix](https://sergiodxa.com/articles/persist-inputs-after-a-form-submit-in-remix): propose une amélioration progressive pour préserver les valeurs de formulaire après soumission. 2 solutions : retourner les valeurs dans l'action Remix ou utiliser la session flash.
- 📜 [Motifs de composants Layout par curryfication dans Next.js](https://creativedesignsguru.com/currying-nextjs-layout/): suggère de paramétrer le `getLayout` de Next.js pour créer des variantes sans démontage/remontage. Astuce utile aujourd'hui, potentiellement moins pertinente avec les futurs layouts imbriqués.
- 📜 [Lancer vs. Retourner des réponses dans Remix](https://sergiodxa.com/articles/throwing-vs-returning-responses-in-remix)
- 📜 [Leçons apprises en migrant vers Recoil.js](https://kitemaker.co/blog/lessons-learned-from-moving-to-recoil)
- 📜 [Couches API distinctes dans les apps React](https://profy.dev/article/react-architecture-api-layer)
- 🎥 [Le nouveau hook use de React est-il un piège ?](https://www.youtube.com/watch?v=ytXM05PVcFU)
- 🎥 [React Advanced London 2022 - Jour 1](https://www.youtube.com/watch?v=1x7mI_xuVVo)
- 🧵 [Lottie vs Rive](https://twitter.com/guidorosso/status/1582086637328031745): Lottie est populaire dans l'écosystème React mais son concurrent Rive semble bien plus performant à l'exécution.
- 🐦 [Code Zustand en un tweet](https://twitter.com/dai_shi/status/1583082766081531905)
- 🔗 [Nouveau site web pour Storybook](https://twitter.com/storybookjs/status/1583175829009289216)

<SubscribeFormEmbed />

---

## 💸 Sponsorisé {#sponsor2}

[![Sunsama - Comment des milliers d'ingénieurs logiciels restent productifs sans s'épuiser](/emails/issues/121/sunsama.jpg)](https://www.sunsama.com/a/this-week-in-react)

**[Comment des milliers d'ingénieurs logiciels restent productifs sans s'épuiser](https://www.sunsama.com/a/this-week-in-react)**

Vous savez que les résultats de votre travail comptent plus que les heures passées. **[Sunsama](https://www.sunsama.com/a/this-week-in-react)** est le secret de milliers de développeurs qui l'utilisent pour travailler moins mais accomplir plus.

Éliminez le changement incessant d'onglets grâce à leur intégration JIRA, Github et Notion. Planifiez votre journée et créez de l'espace pour vos loisirs et projets personnels.

Le meilleur dans tout ça ? Ils proposent un **[essai gratuit de 14 jours](https://www.sunsama.com/a/this-week-in-react)** (sans carte nécessaire) pour que vous puissiez commencer à accomplir plus dès aujourd'hui.

---

## 📱 React-Native {#react-native}

- 🎥 [Headspace Player - "Peut-on le faire en React Native ?"](https://www.youtube.com/watch?v=pErnuAx5GjE) : la saison 5 vient de commencer aujourd'hui 🤗
- 🤫 [Des rumeurs circulent sur Expo SDK 47](https://twitter.com/tsapeta/status/1582831949030522881) : un SDK prometteur !
- 🗣 [La nouvelle architecture est là… et maintenant ? 3.0](https://twitter.com/Kelset/status/1583416697741975552) : diapositives de la conférence React Advanced par Lorenzo (Microsoft).
- 📈 [Benchmarks de performance React Native](https://twitter.com/almouro/status/1584628478963777537) : Alexandre effectue des benchmarks quotidiens comparant les performances des anciennes et nouvelles architectures dans divers scénarios.
- 📖 [Documentation Reassure](https://callstack.github.io/reassure/) : Reassure dispose d'un tout nouveau site de documentation Docusaurus 🤗
- 📖 [Mises à jour de la documentation Expo - nouveau guide d'intégration du plugin Flipper](https://twitter.com/amanhimself/status/1583202477469765633)
- 📦 [create-react-native-library 0.25](https://twitter.com/satya164/status/1583462129235263490) : modèle de module Turbo Kotlin
- 📦 [Expo Router 0.0.31](https://twitter.com/Baconbrix/status/1582875434567409664)
- 📦 [Expo Router 0.0.33](https://twitter.com/Baconbrix/status/1584289284713947136)
- 📦 [Realm JavaScript v11 - Prise en charge Hermes, Realm React, Flipper et bien plus](https://www.mongodb.com/developer/products/realm/realm-javascript-v11-react-native/)
- 🎙️ [RNR 249 - Réflexions d'un mainteneur Redux sur RTK vs MST](https://reactnativeradio.com/episodes/rnr-249-a-redux-maintainers-thoughts-on-rtk-vs-mst)

---

## 🧑‍💻 Emplois {#jobs}

🧑‍💼 [**Ingénieur Produit chez Causal, Remote/Londres/NY, 150-250k$**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal est une startup de série A (soutenue par Coatue/Accel) développant un outil tout-en-un pour manipuler des nombres et visualiser des données. Nous recherchons des ingénieurs React expérimentés capables de relever des défis complexes d'UX/performance.

🧑‍💼 [**G2i - Emplois React Native 100% distants**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

Nous avons plusieurs postes ouverts pour développeurs spécialisés en React Native ! Rémunération ~160k$ + 10% de bonus. Expérience en production RN requise et résidence aux États-Unis. Contactez [@gabe_g2i](https://twitter.com/gabe_g2i) en mentionnant This Week in React.

💡 [Comment publier une offre ?](https://thisweekinreact.com/sponsor)

---

## 🔀 Autre {#other}

- [Let’s talk about web components](https://bradfrost.com/blog/post/lets-talk-about-web-components/) : Lecture intéressante de Brad Frost sur les Web Components, qui ne sont pas nécessairement incompatibles avec React mais peuvent le compléter (ex : système de design dans une app React). Les difficultés actuelles (SSR) seront finalement surmontées.
- [Replit App](https://twitter.com/amasad/status/1582754714575257600) : nouvelle application pour coder sur votre téléphone (réalisée avec [Expo](https://twitter.com/amasad/status/1582968657675661314)). Contient des templates pour coder en Next.js.
- [Introducing Node.js 19](https://www.redhat.com/en/blog/introducing-nodejs-19) - Note : Node.js 18 devient LTS aujourd'hui !
- [Introducing Stately Studio 1.0](https://stately.ai/blog/introducing-stately-studio-10) : éditeur de machines à états XState
- [Vite 4 plans](https://github.com/vitejs/vite/discussions/10570) : mise à niveau vers Rollup 3, compatibilité es2020...
- [ViteConf 2022 replay](https://viteconf.org/2022/replay)
- [Turborepo 1.6 - Use Turborepo in non-monorepos](https://twitter.com/turborepo/status/1583518617970233346)
- [Solid 1.6](https://twitter.com/solid_js/status/1583016386984480768)
- [Futuristic CSS](https://www.smashingmagazine.com/2022/10/futuristic-css/)
- [Is There Too Much CSS Now?](https://css-tricks.com/is-there-too-much-css-now/)
- [npm bin script confusion: Abusing ‘bin’ to hijack ‘node’ command](https://socket.dev/blog/npm-bin-script-confusion)
- [Tailwind CSS v3.2: Dynamic breakpoints, multi-config, and container queries](https://twitter.com/adamwathan/status/1582793658168152065)
- [Tailwind CSS v3.2: revisiting my “feature creep” warning](https://www.brycewray.com/posts/2022/10/tailwind-css-v3-2-revisiting-feature-creep-warning/)
- [Can I DevTools - Compare the features of browsers DevTools. ](https://canidev.tools)
- [Vercel - Regional Edge Functions](https://vercel.com/blog/regional-execution-for-ultra-low-latency-rendering-at-the-edge)
- [Deno - Which serverless edge platform has the fastest git deployments?](https://deno.com/blog/fastest-git-deploys-to-the-edge)
- [Cloudflare Workers and micro-frontends: made for one another](https://blog.cloudflare.com/better-micro-frontends/)
- [Blink: Intent to Ship: CSS Color Module Level 4 + color-mix()](https://twitter.com/intenttoship/status/1583110354074116096)
- [Release Notes for Safari Technology Preview 156](https://webkit.org/blog/13394/release-notes-for-safari-technology-preview-156/)
- [WebKit Features in Safari 16.1](https://webkit.org/blog/13399/webkit-features-in-safari-16-1/)
- [JavaScript metaprogramming with the 2022-03 decorators API](https://2ality.com/2022/10/javascript-decorators.html)

---

## 🤭 Amusant {#fun}

[![Mème - VSCode fonctionnant sur une iWatch](/emails/issues/121/meme.png)](https://twitter.com/rohanpdofficial/status/1583455633134977026)