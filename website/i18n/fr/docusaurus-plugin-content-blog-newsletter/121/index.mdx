---
slug: /121
title: "This Week In React #121: Next.js, experimental_cache, CSS-in-JS, Qwikify, Typesafety, 3D, Vitest Preview, Outstatic, Remix, React-Native..."
authors: [slorber]
date: 10-25-2022
---

Bonjour Ã  tous !

La semaine derniÃ¨re, j'ai fait une erreur : j'ai envoyÃ© l'Ã©dition 220 au lieu de la 120 ğŸ˜…. Personne ne l'a remarquÃ©, ce n'est probablement pas grave !

C'est la saison des confÃ©rences : le replay de ViteConf est disponible, React Advanced vient de se terminer, et d'autres sont Ã  venir.

La confÃ©rence Next.js commence dans quelques heures. Nous aurons probablement une annonce de Next.js 13, ainsi que des mises en page imbriquÃ©es, et d'autres choses super cool qui commencent par Turbo ğŸ¤­. Parlons-en la semaine prochaine.

Nous avons Ã©galement tous les hÃ©bergeurs qui acceptent d'amÃ©liorer leur support Next.js en mÃªme temps : Netlify, Cloudflare, Microsoft...

Ne manquez pas la saison 5 des vidÃ©os React-Native de William Candillon qui commence aujourd'hui !

J'ai enregistrÃ© un [Ã©pisode de podcast sur Docusaurus 2.0 avec PodRocket](https://podrocket.logrocket.com/docusaurus) le mois dernier. J'ai totalement oubliÃ© d'en parler ğŸ˜…. Je veux faire plus d'Ã©pisodes de podcast Ã  l'avenir, alors invitez-moi ! ğŸ˜‰

<!-- truncate -->

**ğŸ’¡ [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Sizzy - le navigateur pour les dÃ©veloppeurs](/emails/issues/220/sizzy.jpg)](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact)

Comment se fait-il que les professionnels de tous les autres secteurs aient des outils spÃ©cialisÃ©s, mais que les dÃ©veloppeurs web soient encore coincÃ©s Ã  utiliser le navigateur que leur grand-mÃ¨re utilise pour faire ses achats sur Amazon ?

Si vous ouvrez localhost:3000 dans un autre navigateur que Sizzy, vous perdez des heures de votre prÃ©cieux temps.

**Avant Sizzy :** le dÃ©veloppement web vous stresse, le design responsive est difficile, vous avez une quantitÃ© Ã©crasante d'onglets et d'applications ouverts.

**AprÃ¨s Sizzy :** tous les outils dont vous avez besoin sont au mÃªme endroit, le design responsive est un jeu d'enfant, fini le changement de contexte.

Vous pouvez [le tÃ©lÃ©charger ici](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact) et l'essayer gratuitement pendant 14 jours !

---

## âš›ï¸ React {#react}

**[Pourquoi nous rompons avec le CSS-in-JS](https://dev.to/srmagura/why-were-breaking-up-wiht-css-in-js-4g9b)**

Sam est un mainteneur d'Emotion, l'une des bibliothÃ¨ques CSS-in-JS les plus populaires. Il explique les avantages et les inconvÃ©nients du CSS-in-JS, en se concentrant sur les problÃ¨mes des bibliothÃ¨ques avec runtime. Pour son entreprise Spot, le coÃ»t de la sÃ©rialisation des styles Ã©tait trop Ã©levÃ©. Ils ont remplacÃ© Emotion par des modules Sass (modules CSS + Sass) avec un systÃ¨me utilitaire CSS. Sur Docusaurus, nous utilisons les modules CSS et je confirme que c'est une bonne alternative sans runtime et relativement simple. L'expÃ©rience dÃ©veloppeur (DX) n'est pas aussi bonne mais reste tout Ã  fait acceptable.

Cet article a lancÃ© de nombreuses discussions intÃ©ressantes. On sait depuis un moment que les bibliothÃ¨ques CSS-in-JS avec runtime causent des problÃ¨mes de performance. [Dan Abramov confirme](https://twitter.com/dan_abramov/status/1584835028986793984) et [ne veut utiliser aucun runtime sur le nouveau site de documentation de React](https://github.com/reactjs/reactjs.org/issues/5115). Ryan Florence mentionne [des problÃ¨mes de performance avec Chakra](https://twitter.com/ryanflorence/status/1582835729360572416), qui utilise Emotion.

Tailwind reste une bonne alternative. Pour moi, il peut Ãªtre classÃ© dans la catÃ©gorie CSS-in-JS sans runtime, notamment dans un contexte React oÃ¹ le style Tailwind est appliquÃ© via JSX. Certains questionnent sa [maintenabilitÃ©](https://twitter.com/hi__mayank/status/1584261503670448128), mais en pratique cela fonctionne plutÃ´t bien.

**[Qwik React](https://qwik.builder.io/qwikcity/integrations/react/)**

Qwik est un framework SPA innovant qui [Ã©vite les problÃ¨mes de performance liÃ©s Ã  l'hydratation cÃ´tÃ© client](https://www.builder.io/blog/hydration-is-pure-overhead). Il peut dÃ©sormais s'intÃ©grer avec React via une fonction `qwikify$()` pour encapsuler n'importe quel composant React existant. Les directives `client:` (inspirÃ©es d'Astro) permettent de contrÃ´ler quand le composant React sera hydratÃ© avec une grande granularitÃ©. La dÃ©mo intÃ¨gre Material UI dans une application Qwik. Voir aussi [cette vidÃ©o](https://www.youtube.com/watch?v=fLH28rDu97I). Je pense que c'est une bonne solution pour Ã©viter d'adopter entiÃ¨rement ce nouveau framework, et de l'essayer progressivement. Nous pouvons Ã©galement conserver les propriÃ©tÃ©s multiplateformes de React tout en adoptant Qwik pour amÃ©liorer les performances web.

**[Fully Typed Web Apps](https://www.epicweb.dev/fully-typed-web-apps)**

Kent C. Dodds explique l'intÃ©rÃªt d'avoir une sÃ©curitÃ© de type de bout en bout, de la base de donnÃ©es Ã  l'interface utilisateur, Ã  travers diffÃ©rentes frontiÃ¨res : rÃ©seau, stockage local, base de donnÃ©es... Il aborde la validation (schÃ©mas, gardes de type), la gÃ©nÃ©ration de types (Prisma) et les conventions (Remix). Il explique comment cette expÃ©rience est possible avec Remix grÃ¢ce Ã  l'infÃ©rence : il est prÃ©fÃ©rable d'utiliser `typeof` plutÃ´t que `as`.

**[Building an interactive WebGL experience in Next.js](https://vercel.com/blog/building-an-interactive-webgl-experience-in-next-js)**

Vercel explique comment ils ont crÃ©Ã© une [expÃ©rience d'inscription immersive impressionnante pour la confÃ©rence Next.js](https://nextjs.org/conf), basÃ©e sur React-Three-Fiber. Cela reste complexe Ã  comprendre sans expÃ©rience en 3D / WebGL / Three.js, mais la dÃ©composition en Ã©tapes successives est intÃ©ressante et donne un aperÃ§u de l'Ã©tat d'esprit du dÃ©veloppement crÃ©atif.

- ğŸ‘€ [Pull-Request de l'API React Cache](https://github.com/facebook/react/pull/25506): expose une nouvelle API `React.experimental_cache`
- ğŸ“– [Nouveau doc bÃªta - cloneElement](https://twitter.com/dan_abramov/status/1582814754426433537)
- ğŸ“¦ [Vitest Preview](https://www.vitest-preview.com/): permet de dÃ©boguer visuellement les tests Vitest. Petit frÃ¨re de [Jest Preview](https://www.jest-preview.com/).
- ğŸ“¦ [Outstatic - Un CMS statique pour Next.js](https://outstatic.com/): nouveau CMS basÃ© sur Git qui s'intÃ¨gre parfaitement Ã  Next.js. Ã‰diteur convivial avec capacitÃ© d'upload d'images.
- ğŸ“œ [Netlify - Routes API planifiÃ©es et en arriÃ¨re-plan pour Next.js](https://www.netlify.com/blog/new-background-scheduled-api-routes-nextjs/): Netlify utilise ses fonctions d'arriÃ¨re-plan pour appeler les API Next.js basÃ©es sur des expressions cron.
- ğŸ“œ [Prise en charge de Next.js Edge Runtime par Cloudflare Pages](https://blog.cloudflare.com/next-on-pages/): Cloudflare supporte dÃ©sormais Next.js via le runtime `experimental-edge` fonctionnant sur Cloudflare Workers (contrairement au runtime Node.js). Leur solution s'appuie sur l'[API Vercel Build Output](https://vercel.com/blog/build-output-api), ouvrant la voie Ã  une meilleure portabilitÃ© des frameworks edge-first entre clouds.
- ğŸ“œ [Microsoft - Extension du support Next.js dans Azure Static Web Apps](https://techcommunity.microsoft.com/t5/apps-on-azure-blog/extending-next-js-support-in-azure-static-web-apps/ba-p/3627975): Azure supporte dÃ©sormais le SSR Next.js (auparavant : uniquement SSG).
- ğŸ“œ [Conserver les saisies aprÃ¨s soumission de formulaire dans Remix](https://sergiodxa.com/articles/persist-inputs-after-a-form-submit-in-remix): propose une amÃ©lioration progressive pour prÃ©server les valeurs de formulaire aprÃ¨s soumission. 2 solutions : retourner les valeurs dans l'action Remix ou utiliser la session flash.
- ğŸ“œ [Motifs de composants Layout par curryfication dans Next.js](https://creativedesignsguru.com/currying-nextjs-layout/): suggÃ¨re de paramÃ©trer le `getLayout` de Next.js pour crÃ©er des variantes sans dÃ©montage/remontage. Astuce utile aujourd'hui, potentiellement moins pertinente avec les futurs layouts imbriquÃ©s.
- ğŸ“œ [Lancer vs. Retourner des rÃ©ponses dans Remix](https://sergiodxa.com/articles/throwing-vs-returning-responses-in-remix)
- ğŸ“œ [LeÃ§ons apprises en migrant vers Recoil.js](https://kitemaker.co/blog/lessons-learned-from-moving-to-recoil)
- ğŸ“œ [Couches API distinctes dans les apps React](https://profy.dev/article/react-architecture-api-layer)
- ğŸ¥ [Le nouveau hook use de React est-il un piÃ¨ge ?](https://www.youtube.com/watch?v=ytXM05PVcFU)
- ğŸ¥ [React Advanced London 2022 - Jour 1](https://www.youtube.com/watch?v=1x7mI_xuVVo)
- ğŸ§µ [Lottie vs Rive](https://twitter.com/guidorosso/status/1582086637328031745): Lottie est populaire dans l'Ã©cosystÃ¨me React mais son concurrent Rive semble bien plus performant Ã  l'exÃ©cution.
- ğŸ¦ [Code Zustand en un tweet](https://twitter.com/dai_shi/status/1583082766081531905)
- ğŸ”— [Nouveau site web pour Storybook](https://twitter.com/storybookjs/status/1583175829009289216)

<SubscribeFormEmbed />

---

## ğŸ’¸ SponsorisÃ© {#sponsor2}

[![Sunsama - Comment des milliers d'ingÃ©nieurs logiciels restent productifs sans s'Ã©puiser](/emails/issues/121/sunsama.jpg)](https://www.sunsama.com/a/this-week-in-react)

**[Comment des milliers d'ingÃ©nieurs logiciels restent productifs sans s'Ã©puiser](https://www.sunsama.com/a/this-week-in-react)**

Vous savez que les rÃ©sultats de votre travail comptent plus que les heures passÃ©es. **[Sunsama](https://www.sunsama.com/a/this-week-in-react)** est le secret de milliers de dÃ©veloppeurs qui l'utilisent pour travailler moins mais accomplir plus.

Ã‰liminez le changement incessant d'onglets grÃ¢ce Ã  leur intÃ©gration JIRA, Github et Notion. Planifiez votre journÃ©e et crÃ©ez de l'espace pour vos loisirs et projets personnels.

Le meilleur dans tout Ã§a ? Ils proposent un **[essai gratuit de 14 jours](https://www.sunsama.com/a/this-week-in-react)** (sans carte nÃ©cessaire) pour que vous puissiez commencer Ã  accomplir plus dÃ¨s aujourd'hui.

---

## ğŸ“± React-Native {#react-native}

- ğŸ¥ [Headspace Player - "Peut-on le faire en React Native ?"](https://www.youtube.com/watch?v=pErnuAx5GjE) : la saison 5 vient de commencer aujourd'hui ğŸ¤—
- ğŸ¤« [Des rumeurs circulent sur Expo SDK 47](https://twitter.com/tsapeta/status/1582831949030522881) : un SDK prometteur !
- ğŸ—£ [La nouvelle architecture est lÃ â€¦ et maintenant ? 3.0](https://twitter.com/Kelset/status/1583416697741975552) : diapositives de la confÃ©rence React Advanced par Lorenzo (Microsoft).
- ğŸ“ˆ [Benchmarks de performance React Native](https://twitter.com/almouro/status/1584628478963777537) : Alexandre effectue des benchmarks quotidiens comparant les performances des anciennes et nouvelles architectures dans divers scÃ©narios.
- ğŸ“– [Documentation Reassure](https://callstack.github.io/reassure/) : Reassure dispose d'un tout nouveau site de documentation Docusaurus ğŸ¤—
- ğŸ“– [Mises Ã  jour de la documentation Expo - nouveau guide d'intÃ©gration du plugin Flipper](https://twitter.com/amanhimself/status/1583202477469765633)
- ğŸ“¦ [create-react-native-library 0.25](https://twitter.com/satya164/status/1583462129235263490) : modÃ¨le de module Turbo Kotlin
- ğŸ“¦ [Expo Router 0.0.31](https://twitter.com/Baconbrix/status/1582875434567409664)
- ğŸ“¦ [Expo Router 0.0.33](https://twitter.com/Baconbrix/status/1584289284713947136)
- ğŸ“¦ [Realm JavaScript v11 - Prise en charge Hermes, Realm React, Flipper et bien plus](https://www.mongodb.com/developer/products/realm/realm-javascript-v11-react-native/)
- ğŸ™ï¸ [RNR 249 - RÃ©flexions d'un mainteneur Redux sur RTK vs MST](https://reactnativeradio.com/episodes/rnr-249-a-redux-maintainers-thoughts-on-rtk-vs-mst)

---

## ğŸ§‘â€ğŸ’» Emplois {#jobs}

ğŸ§‘â€ğŸ’¼ [**IngÃ©nieur Produit chez Causal, Remote/Londres/NY, 150-250k$**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal est une startup de sÃ©rie A (soutenue par Coatue/Accel) dÃ©veloppant un outil tout-en-un pour manipuler des nombres et visualiser des donnÃ©es. Nous recherchons des ingÃ©nieurs React expÃ©rimentÃ©s capables de relever des dÃ©fis complexes d'UX/performance.

ğŸ§‘â€ğŸ’¼ [**G2i - Emplois React Native 100% distants**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

Nous avons plusieurs postes ouverts pour dÃ©veloppeurs spÃ©cialisÃ©s en React Native ! RÃ©munÃ©ration ~160k$ + 10% de bonus. ExpÃ©rience en production RN requise et rÃ©sidence aux Ã‰tats-Unis. Contactez [@gabe_g2i](https://twitter.com/gabe_g2i) en mentionnant This Week in React.

ğŸ’¡ [Comment publier une offre ?](https://thisweekinreact.com/sponsor)

---

## ğŸ”€ Autre {#other}

- [Letâ€™s talk about web components](https://bradfrost.com/blog/post/lets-talk-about-web-components/) : Lecture intÃ©ressante de Brad Frost sur les Web Components, qui ne sont pas nÃ©cessairement incompatibles avec React mais peuvent le complÃ©ter (ex : systÃ¨me de design dans une app React). Les difficultÃ©s actuelles (SSR) seront finalement surmontÃ©es.
- [Replit App](https://twitter.com/amasad/status/1582754714575257600) : nouvelle application pour coder sur votre tÃ©lÃ©phone (rÃ©alisÃ©e avec [Expo](https://twitter.com/amasad/status/1582968657675661314)). Contient des templates pour coder en Next.js.
- [Introducing Node.js 19](https://www.redhat.com/en/blog/introducing-nodejs-19) - Note : Node.js 18 devient LTS aujourd'hui !
- [Introducing Stately Studio 1.0](https://stately.ai/blog/introducing-stately-studio-10) : Ã©diteur de machines Ã  Ã©tats XState
- [Vite 4 plans](https://github.com/vitejs/vite/discussions/10570) : mise Ã  niveau vers Rollup 3, compatibilitÃ© es2020...
- [ViteConf 2022 replay](https://viteconf.org/2022/replay)
- [Turborepo 1.6 - Use Turborepo in non-monorepos](https://twitter.com/turborepo/status/1583518617970233346)
- [Solid 1.6](https://twitter.com/solid_js/status/1583016386984480768)
- [Futuristic CSS](https://www.smashingmagazine.com/2022/10/futuristic-css/)
- [Is There Too Much CSS Now?](https://css-tricks.com/is-there-too-much-css-now/)
- [npm bin script confusion: Abusing â€˜binâ€™ to hijack â€˜nodeâ€™ command](https://socket.dev/blog/npm-bin-script-confusion)
- [Tailwind CSS v3.2: Dynamic breakpoints, multi-config, and container queries](https://twitter.com/adamwathan/status/1582793658168152065)
- [Tailwind CSS v3.2: revisiting my â€œfeature creepâ€ warning](https://www.brycewray.com/posts/2022/10/tailwind-css-v3-2-revisiting-feature-creep-warning/)
- [Can I DevTools - Compare the features of browsers DevTools. ](https://canidev.tools)
- [Vercel - Regional Edge Functions](https://vercel.com/blog/regional-execution-for-ultra-low-latency-rendering-at-the-edge)
- [Deno - Which serverless edge platform has the fastest git deployments?](https://deno.com/blog/fastest-git-deploys-to-the-edge)
- [Cloudflare Workers and micro-frontends: made for one another](https://blog.cloudflare.com/better-micro-frontends/)
- [Blink: Intent to Ship: CSS Color Module Level 4 + color-mix()](https://twitter.com/intenttoship/status/1583110354074116096)
- [Release Notes for Safari Technology Preview 156](https://webkit.org/blog/13394/release-notes-for-safari-technology-preview-156/)
- [WebKit Features in Safari 16.1](https://webkit.org/blog/13399/webkit-features-in-safari-16-1/)
- [JavaScript metaprogramming with the 2022-03 decorators API](https://2ality.com/2022/10/javascript-decorators.html)

---

## ğŸ¤­ Amusant {#fun}

[![MÃ¨me - VSCode fonctionnant sur une iWatch](/emails/issues/121/meme.png)](https://twitter.com/rohanpdofficial/status/1583455633134977026)