---
slug: /191
title: "This Week In React #191: React-Router, Remix, React Query, Suspense, Compiler, Remotion, CodeHike, next-safe-action, Framer-Motion, React-Admin, StyleX, Mobx, FlashList, RN native bridging, Expo, TypeScript, State of JS, Node ..."
authors: [slorber]
date: 06-26-2024
---

Bonjour à tous !

Cette semaine, il semble que nous entrions enfin dans la saison estivale/des vacances et le rythme des annonces majeures de React ralentit. Nous ferons également une courte pause estivale, sauterons 2 numéros et serons de retour le 17 juillet.

Côté React, nous continuons d'avoir du contenu intéressant lié au débat sur Suspense de la semaine dernière. Une nouvelle fonctionnalité de React Router vous permet de diviser votre arbre de routes par code splitting.

Côté React Native, il semble que l'équipe tente de publier la v0.75 en RC, mais rencontre quelques obstacles, mais elle devrait probablement sortir bientôt.

La nouvelle la plus excitante pour moi est la sortie stable de TypeScript 5.5 : c'est une excellente version, notamment pour l'inférence de types de prédicats ! Les résultats de l'enquête State of JS sont également disponibles si vous souhaitez explorer les tendances JS.

<!-- truncate -->

**💡 [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 Partenaire {#sponsor1}

[![The Category-Defining React Grid for Your Enterprise](/emails/issues/190/advertfinal.jpg)](https://1771technologies.com/graphitegrid)

**[La Grille React Définissant la Catégorie pour Votre Entreprise](https://1771technologies.com/graphitegrid)**

Les grilles de données sont des composants complexes des applications web, mais les solutions actuelles sont inefficaces, nécessitent beaucoup de maintenance et ont de mauvaises performances. [Graphite Grid](https://1771technologies.com/graphitegrid) transforme le paysage avec deux fonctionnalités clés : le rendu retargetable et l'état réactif par signaux.

**Graphite Grid** sépare l'état de la grille de la logique d'affichage, permettant à un modèle d'état unifié unique de prendre en charge diverses cibles de rendu, de manière déclarative ou impérative. Il inclut un moteur de rendu **DOM et Canvas**, offrant aux développeurs des options flexibles et hautes performances 🚀.

Graphite Grid est déclaratif et cohérent, exploitant les signaux d'état pour assurer une intégration transparente avec votre application. Conçu **pour React**, c'est la seule grille de données JavaScript construite avec les primitives de gestion d'état de React. [Essayez-la maintenant !](https://1771technologies.com/graphitegrid/demo)

---

## ⚛️ React {#react}

[![React-Router 6.24 - Découverte de Routes Paresseuse](/emails/issues/191/rr.jpg)](https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v6240)

**📦 [React-Router 6.24 - Découverte de Routes Paresseuse](https://github.com/remix-run/react-router/blob/main/CHANGELOG.md#v6240)**

Cette version de React Router inclut un nouveau hook `unstable_patchRoutesOnMiss` qui sera appelé lorsque React Router ne trouve aucune route correspondante. Il vous permet de charger des routes supplémentaires et d'implémenter le code splitting pour vos routes au lieu de toutes les conserver dans un module monolithique unique. Une fonctionnalité bienvenue pour les grandes applications avec des milliers de routes, qui n'ont plus besoin de toutes les charger à l'avance, retardant l'hydratation.

Remix était censé faire une pause, mais apparemment pas encore ! 📦 [Remix 2.10](https://remix.run/docs/en/main/start/changelog#v2100) est sorti et exploite déjà cette nouvelle fonctionnalité de React Router en l'exposant via une fonctionnalité pratique [“Fog of War”](https://remix.run/docs/en/main/guides/fog-of-war) que vous pouvez activer avec un simple drapeau `future.unstable_fogOfWar`. Une optimisation de découverte précoce a également été implémentée pour éviter les cascades.

---

- 💸 [Meilisearch — Build fast, typo-tolerant search with React](https://dub.sh/ueC2f57)
- 👀 [React.dev PR - Add branding context menu](https://github.com/reactjs/react.dev/pull/6986): Right-click the website navbar logo to access the official svgs and brand colors of React.
- 👀 [Next.js PR draft - `nextConfig.requiredEnv`](https://github.com/vercel/next.js/pull/67187)
- 👀 [Next.js PR draft - type check for `env`](https://github.com/vercel/next.js/pull/67157s)
- 🐦 [Joe Savona - "Some thoughts on the suspense changes from 19 RC"](https://x.com/en_JS/status/1803480672327311425): To avoid situations such as past week’s Suspense drama, the React team is working on changes to get feedback earlier (working groups, RFC, canary…).
- 🐦 [Lee Robinsin - "Here's where we're headed with caching in Next.js"](https://x.com/leeerob/status/1803824227704877236): “Our goal is to make all async operations (like doing a `fetch`) opt into dynamic rendering”, “We believe Partial Prerendering will become the default”.
- 🗓️ [React Rally](https://reactrally.com/?utm_source=thisweekinreact) - 🇺🇸Utah - 12-13, August - Get a 10% discount with code "TWIR". There’s a React Server Components [workshop](https://reactrally.com/workshop) with Kent C. Dodds
- 📨 [ECMAScript News - Discover our partners' newsletter to keep up to date with ES, TC39, JS tooling, and runtimes](https://ecmascript.news/?utm_source=thisweekinreact)
- 📜 [Component, colocation, composition: A note on the state of React](https://bobaekang.com/blog/component-colocation-composition/): The recent Suspense drama highlights the gap between React’s component-oriented vision and its current limitations.
- 📜 [From markdown to video - Animated code walkthroughs with Code Hike and Remotion](https://v1.codehike.org/blog/remotion): If you have seen recent code animation videos of Matt Pocock or Delba, here’s a great article and demos to understand how it works.
- 📜 [Understanding React Compiler](https://tonyalicea.dev/blog/understanding-react-compiler/): Explains how the React compiler work, starting from the basics (transpiler, AST, memoization), then analyzing the compiler output of a concrete example.
- 📜 [Wait for pending: A (not great) alternative Suspense algorithm](https://dev.to/alexandereardon/wait-for-pending-a-not-great-alternative-suspense-algorithm-1gdl): Explores the possibility of a different algorithm for Suspense, with different tradeoffs.
- 📜 [How to make draggable Framer Motion elements snap to breakpoints](https://sinja.io/blog/framer-motion-drag-snap-points): Interactive article implementation snap points on top of Framer Motion, including inertia/velocity support.
- 📜 [Mobx Memoizes Components (You don't need React Compiler)](https://www.mikejohnson.dev/posts/2024/06/mobx-react-compiler): Takes an existing demo using the React compiler and turns it into an optimized Mobx app with minimal changes. MobX prevents re-renders by auto-tracking dependencies. Note this [Mobx issue](https://github.com/mobxjs/mobx/issues/3874) explains why Mobx (based on proxies) is not compatible with the compiler, and lib creator also confirms it’s already optimized.
- 📜 [Web Workers, Comlink, Vite and TanStack Query](https://johnnyreilly.com/web-workers-comlink-vite-tanstack-query): React Query being an “async state manager”, it also works well to offload expensive work from the main thread.
- 📜 [Storybook - Visual testing: The greatest trick in UI development](https://storybook.js.org/blog/visual-testing-is-the-greatest-trick-in-ui-development/): I agree that too many devs miss out on visual regression testing. It has a really great ROI, considering how easy it is to add to an existing Storybook. As this article shows, covering the same component with React Testing Library requires more work.
- 📜 [Communication Between Client Components in Next.js](https://www.thisdot.co/blog/communication-between-client-components-in-next-js): With RSCs, new challenges emerged to make 2 client components communicate, and you might not be able to lift the state up unless the parent is also a client component. This article proposes 3 solutions: using a Provider, search params, and server state.
- 📜 [How to Validate Form in Remix with clientAction](https://sergiodxa.com/tutorials/validate-form-in-remix-with-clientaction): Using the new Remix `clientAction` export can nicely complete the server `action` validation and progressively enhance your form with local errors.
- 📜 [Type-safe TanStack Query with OpenAPI](https://ruanmartinelli.com/blog/tanstack-query-openapi): Shows how to create generic React Query hooks (`useGetQuery`, `usePostMutation`...) that are fully typed according to an OpenAPI specification.
- 📜 [How To Use Google Sheets as a Database With React via Next.js](https://thenewstack.io/how-to-use-google-sheets-as-a-database-with-react-and-ssr/)
- 📜 [Is it ok to pass setState as a prop in React?](https://tigerabrodi.blog/is-it-ok-to-pass-setstate-as-a-prop-in-react)
- 📦 [StyleX 0.7 - CLI (experimental), Literal names for CSS variables](https://stylexjs.com/blog/v0.7.0): New CLI transforms an entire folder and can be an alternative to the bundler integration.
- 📦 [Next-Safe-Action 7.0 - Type safe and validated Server Actions](https://github.com/TheEdoRan/next-safe-action/releases/tag/v7.0.0): See also the [v6 to v7 migration guide](https://next-safe-action.dev/docs/migrations/v6-to-v7).
- 📦 [Astro 4.11 - 500 page improvements, `<Code>` component Shiki transformer](https://astro.build/blog/astro-4110/)
- 📦 [React-Admin 5.0 - Improves on UI, DX, app init, Data Providers, forms…](https://marmelab.com/blog/2024/06/20/react-admin-v5.html)
- 📦 [Shopify Hydrogen Update - Visual Editor, Optimistic Cart, Vite stable, RichText component, SEO meta export…](https://hydrogen.shopify.dev/update/summer-editions-24-announcing-the-hydrogen-visual-editor-and-a-ton-of-dx-improvements)
- 📦 [stan-js - Minimalistic state management library](https://codemask-labs.github.io/stan-js/)
- 🎥 [Jack Herrington - React 19's useOptimistic: everything you need to know](https://www.youtube.com/watch?v=QWVr7uDyBXE)
- 🎥 [Theo - I Used To Hate Next.js…](https://www.youtube.com/watch?v=6q1eL7IcKzw)
- 🎥 [Dave Gray - Nextjs Server Actions Just Got Better (using next-safe-action)](https://www.youtube.com/watch?v=ahB3DgUMs1A)
- 🎥 [Ryan Carniato - Facing Frontend's Existential Crisis, React Summit 2024](https://www.youtube.com/watch?v=nzbV0YgSBuo)
- 🎙️ [Syntax - What’s Next for NextJS with Tim Neutkens](https://www.youtube.com/watch?v=fXugpgknScY)

<SubscribeFormEmbed placement="middle" />

---

## 💸 Partenaire {#sponsor2}

[![WorkOS : Plateforme d'identité moderne pour les SaaS B2B](/emails/issues/189/WorkOS.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)

**[WorkOS : Plateforme d'identité moderne pour les SaaS B2B](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)**

Avec WorkOS, vous pouvez commencer à vendre à des entreprises avec seulement quelques lignes de code.

🔐 WorkOS prend en charge une solution complète de gestion des utilisateurs avec **SSO, SCIM, RBAC et FGA**.

🏗️ Les API sont **flexibles, faciles à utiliser et modulaires**. Choisissez ce dont vous avez besoin et intégrez en quelques minutes.

🎨 Le design et l'expérience utilisateur sont primordiaux. De la qualité de notre documentation à l'intégration de vos utilisateurs, nous **supprimons toute complexité inutile pour les développeurs**.

✨ La gestion des utilisateurs est **gratuite jusqu'à 1 million d'utilisateurs actifs mensuels (MAU)** et inclut la protection contre les bots, l'usurpation d'identité, l'authentification multifacteur (MFA) et plus encore.

🤝 WorkOS est utilisé par des centaines de startups leaders comme **Perplexity**, **Vercel** et **Webflow**.

Protégez votre pile d'authentification pour l'avenir avec [WorkOS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024) 🚀

---

## 📱 React-Native {#react-native}

Cette section est rédigée par [Benedikt](https://twitter.com/bndkt).

- 💸 [WithFrame - Composants React Native prêts à l'emploi](https://withfra.me/?utm_source=thisweekinreact&utm_medium=email&utm_campaign=quick-link--4)
- 🐦 [Marc Rousavy explique comment obtenir des logs ou crashs pertinents dans RN pour créer des issues dans des libs open source](https://x.com/mrousavy/status/1805637303726973437)
- 🗓️ [The Geek Conf](https://www.thegeekconf.com/?utm_source=thisweekinreact) - 🇩🇪 Berlin - 18 & 25 juillet - Obtenez 10% de réduction avec le code "TWIR". Mo Khazali — Responsable Mobile chez Theodo UK, Matteo Collina — CTO de Platformatic.dev et Siddharth Kshetrapal — Ingénieur logiciel principal chez GitHub interviendront !
- 🗓 [Chain React Conf](https://chainreactconf.com/?utm_source=thisweekinreact) - 🇺🇸 Portland, OR - 17-19 juillet. La conférence américaine React Native est de retour avec des talks engageants et des ateliers pratiques ! Bénéficiez de 15% de réduction avec le code "TWIR"
- 👀 [Revert "Make the New Architecture the default"](https://github.com/facebook/react-native/commit/37e8fa113ef6a8be7cd057b2bf6ffaa4ae6439d9) : il semble que l'activation par défaut de la New Arch pourrait être reportée et ne fera finalement pas partie de la v0.75 ?
- 👀 [PR Shopify FlashList - Support de la nouvelle architecture fusionné (mais pas encore publié)](https://github.com/Shopify/flash-list/pull/550)
- 👀 [Fishjam Cloud - Nouveau projet de Software Mansion pour apporter le streaming vidéo à React Native](https://cloud.fishjam.stream/)
- 👀 [expo-router-native-intent-demo - Utilisation de l'API +native-intent dans Expo Router pour supporter la fonctionnalité "Copier dans l'app" sur iOS](https://github.com/EvanBacon/expo-router-native-intent-demo)
- 📜 [Guide client pour les modules React Native](https://ospfranco.com/client-guide-to-react-native-modules/) : Oscar explique en détail les différences, avantages et inconvénients des différentes méthodes d'exposition des modules natifs à React Native, et aide à choisir la meilleure solution selon le contexte.
- 📜 [Pont entre React Native et Rust via JSI](https://ditto.live/blog/bridging-react-native-and-rust-via-jsi) : Un article de Ditto, moteur de synchronisation de données écrit en Rust, sur leur pontage entre la logique core (en Rust) et RN via JSI.
- 📜 [IA/ML on-device dans React Native](https://blog.swmansion.com/on-device-ai-ml-in-react-native-137918d0331b) : Des prouesses fascinantes, inimaginables il y a peu. Création de filtres caméra temps réel avec IA embarquée dans RN.
- 📜 [Du web au natif avec React Native et Expo](https://expo.dev/blog/from-web-to-native-with-react-native-and-expo) : Décrit le parcours d'un dev web ayant construit sa première app mobile avec RN/Expo.
- 📜 [Comme Google, BAM croit en Kotlin Multiplatform](https://www.bam.tech/article/just-as-google-bam-believes-in-kotlin-multiplatform) : La société principalement orientée RN trouve CMP/KMP convaincant parmi les solutions cross-plateformes et en explique avantages/limites.
- 📜 [Expo - Date limite de migration FCM v1 repoussée au 20 juillet](https://expo.dev/blog/fcm-v1-migration-deadline-changed-to-july-20th)
- 🎥 [Simon Grimm - Apps TV avec React Native](https://www.youtube.com/watch?v=4S7Ftg58Yeg)
- 🎥 [JavaScript Mastery - Cours gratuit de 4h30 sur React Native pour débutants en 2024](https://www.youtube.com/watch?v=ZBCUegTZF7M)

---

## 🔀 Autres {#other}

- 📊 [State of JavaScript 2023 - Résultats de l'enquête](https://2023.stateofjs.com/en-US)
- 📜 [Comment JavaScript améliore enfin l'expérience des modules](https://thenewstack.io/how-javascript-is-finally-improving-the-module-experience/)
- 📜 [Des conditionnelles inline en CSS, maintenant ?](https://lea.verou.me/blog/2024/css-conditionals-now/)
- 📜 [Les extensions GitHub Copilot sont tout ce dont vous avez besoin](https://code.visualstudio.com/blogs/2024/06/24/extensions-are-all-you-need)
- 📜 [MDN - Nouvelles méthodes JavaScript pour Set](https://developer.mozilla.org/en-US/blog/javascript-set-methods/)
- 📦 [TypeScript 5.5 - Prédicats de type inférés, affinage pour l'accès indexé, JSDoc @import](https://devblogs.microsoft.com/typescript/announcing-typescript-5-5/)
- 📦 [farm - Outil de build web extrêmement rapide compatible Vite, écrit en Rust](https://github.com/farm-fe/farm)
- 📦 [Node 20.15 - Plans de test, –inspect-await](https://nodejs.org/en/blog/release/v20.15.0)
- 📦 [node-swift - Créer des modules Node en Swift](https://github.com/kabiroberai/node-swift)
- 🎥 [Matt Pocock - TypeScript 5.5 est une tuerie](https://www.youtube.com/watch?v=sciBO_IaxTw)

---

## 🤭 Fun {#fun}

[![alt](/emails/issues/191/meme.jpg)](https://x.com/ccccjjjjeeee/status/1804814043359621254)

À plus ! 👋