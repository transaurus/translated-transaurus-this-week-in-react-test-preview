---
slug: /142
title: "This Week In React #142: JSX, React-Query, Server Components, Next.js, Million, OpenNext, Ariakit, Expo-Image, React-Three-Fiber, TS 5.1, Node.js 20, WebGPU..."
authors: [slorber]
date: 04-18-2023
---

Bonjour à tous !

Cette semaine, TypeScript 5.1 est sorti en version bêta avec de nombreuses améliorations liées à JSX et React !

React-Query prévoit de supprimer les callbacks de requête dans la version 5, et cette idée ne plaît pas à tout le monde.

Pour les développeurs React-Native, ne manquez pas [React-Native-Connection](https://reactnativeconnection.io/) le 1er juin à Paris ! J'ai participé au comité de sélection des conférences, et nous venons de [publier la programmation complète](https://twitter.com/sebastienlorber/status/1648269027318411264) avec des intervenants internationaux et locaux. 10% de réduction avec le code "REACTHEBDO".

<!-- truncate -->

**💡 [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![React-admin](/emails/issues/141/react_admin.png)](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)

**[React-admin - Le framework open-source pour les applications B2B](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)**

Construisez-vous actuellement un panneau d'administration avec React ? Si oui, nous avons une excellente nouvelle pour vous ! En utilisant React-admin, un framework open-source pour les applications B2B, vous pouvez vous épargner des jours de codage ! 🤩

Avec React-admin, vous pouvez non seulement gagner un temps précieux, mais aussi devenir un meilleur développeur ! Vous n'avez pas à nous croire sur parole. Plus de 20 000 développeurs l'utilisent quotidiennement et en attestent l'efficacité. Si vous êtes curieux des retours d'expérience, consultez le témoignage de l'ONG [Caritas](https://marmelab.com/blog/2022/07/07/react-admin-caritas.html).

Rejoignez notre communauté dynamique et notre serveur [Discord](https://discord.com/invite/jR3D6SdQ) pour rester informé des dernières mises à jour de React-admin et bénéficier du soutien d'un réseau de développeurs expérimentés.

Qu'attendez-vous ? Commencez à utiliser React-admin maintenant, c'est gratuit 😉, et faites passer votre développement au niveau supérieur ! 🚀

---

## ⚛️ React {#react}

[![TypeScript 5.1 beta](/emails/issues/142/ts5.1.jpg)](https://devblogs.microsoft.com/typescript/announcing-typescript-5-1-beta/)

**[TypeScript 5.1 (bêta) + React](https://devblogs.microsoft.com/typescript/announcing-typescript-5-1-beta/)**

Une version majeure de TypeScript qui permettra à React de déclarer ses propres types JSX valides. Il est prévu d'utiliser cette nouvelle fonctionnalité dès que possible dans les typedefs React, qui ont déjà été [forkés](https://github.com/DefinitelyTyped/DefinitelyTyped/pull/65126) pour continuer à supporter les anciennes versions (TypeScript ≤ 5.0).

Il y a de bonnes raisons d'adopter TypeScript 5.1+ dès que possible. Cela déverrouille notamment :

- la possibilité d'utiliser un React Server Component `async` dans JSX sans erreurs TypeScript ni [contournement](https://gist.github.com/cramforce/b5e3f0b103f841d2e5e429b1d5ac4ded).
- la possibilité de retourner tous les types valides pour `ReactNode` (string, tableau, booléen...) sans besoin d'un fragment ([détails](https://twitter.com/sebastienlorber/status/1648619398259769344)).
- d'autres améliorations intéressantes autour de JSX : attributs avec espace de noms et édition liée (VSCode).

---

[![Casser intentionnellement l'API de React Query](/emails/issues/142/rq.jpg)](https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose)

**[Casser intentionnellement l'API de React Query](https://tkdodo.eu/blog/breaking-react-querys-api-on-purpose)**

React-Query supprimera les callbacks (`onSuccess`, `onError`, `onSettled`) du hook `useQuery` dans la version 5. Dominik explique ce choix et propose des alternatives mieux adaptées aux cas courants, comme l'affichage d'une notification. Une décision controversée mais nécessaire car ces API étaient souvent mal utilisées. Note : les callbacks sont conservés pour `useMutation`.

---

- 🧵 [Dan Abramov - "good rule of thumb. for any “server components”](https://twitter.com/dan_abramov/status/1647203329854799872): explains the minimum requirements for a proper Server Components implementation, taking full advantage of their potential. Presents the limitations of Qwik and Remix models.
- 👀 [Dan Abramov has a "story to tell" at Remix Conf ("React from Another Dimension")](https://twitter.com/remix_run/status/1646177445454950400)
- 👀 [Next.js ships its own copy of React](https://twitter.com/devongovett/status/1647728887927906304): copy used only when using App Router.
- 👀 [Use Storybook with Rspack](https://twitter.com/rspack_dev/status/1646164228598792196)
- 👀 [WebGPU in React-Three-Fiber demo](https://twitter.com/CantBeFaraz/status/1647811509014216710)
- ⚡ [SpiderMonkey Newsletter (Firefox 112-113)](https://spidermonkey.dev/blog/2023/04/14/newsletter-firefox-112-113.html): "We’re working on improving performance for popular web frameworks such as React".
- 📜 [Animating View Transitions](https://www.patterns.dev/posts/view-transitions): explains how to use the new View Transition API (Chrome 111+) in a React context with Next.js App Router, and in a MPA context. Interesting, but the proposed React integration doesn't look ideal.
- 📜 [An Animated Guide to Reacts Optional Parameters](https://julesblom.com/writing/react-optional-parameters): interactive article that presents some features of React APIs that we use less often.
- 📜 [Next over Remix](https://bradgarropy.com/blog/next-over-remix): feedback from a dev who had planned to switch to Remix, but finally stayed with Next.js.
- 📜 [Building a blog with Next.js 13 and React Server Components](https://maxleiter.com/blog/build-a-blog-with-nextjs-13): uses all the latest Next.js features to create a modern blog.
- 📜 [React forwardRef(): How to Pass Refs to Child Components](https://dmitripavlutin.com/react-forwardref/)
- 📜 [Is React the New WordPress?](https://www.seancdavis.com/posts/is-react-the-new-wordpress/)
- 📜 [Becoming an Astro maintainer](https://www.elian.codes/blog/23-04-12-becoming-an-astro-maintainer/)
- 📜 [Display Warning for Unsaved Form Data on Page Exit](https://claritydev.net/blog/display-warning-for-unsaved-form-data-on-page-exit)
- 📜 [Mastering React: Techniques to Take Your UI to the Next Level](https://blog.bitsrc.io/mastering-react-techniques-to-take-your-ui-to-the-next-level-a5002173904f)
- 📜 [What's new in the new Storybook](https://www.mariasimo.codes/storybook-7-new-release)
- 📜 [Full-stack Web Apps Without React](https://remotesynthesis.com/blog/full-stack-without-react/)
- 🎥 [Must Know React Portability Patterns](https://www.youtube.com/watch?v=yi8UCnXPu8U): good advices to reduce coupling of your code to a particular framework.
- 🎥 [Maybe Create React App Isn't Dead?](https://www.youtube.com/watch?v=A2kWoKnpy1U)
- 📦 [Ariakit 0.1.0](https://github.com/ariakit/ariakit/releases/tag/%40ariakit%2Freact%400.1.0): new way of managing state based on component stores. Motivations in this [RFC](https://github.com/ariakit/ariakit/issues/1875): less re-renders, becoming framework-agnostic...
- 📦 [Million.js 2.2.1 - Support for hooks and non-primitives](https://twitter.com/aidenybai/status/1646238355427041285). This [thread](https://twitter.com/aidenybai/status/1647005716350406656) gives interesting explanations about the difference between React and Million reconciliation.
- 📦 [OpenNext 1.0](https://github.com/serverless-stack/open-next/releases/tag/v1.0.0): aims to make Next.js more portable thanks to serverless adapter.
- 📦 [Astro 2.3](https://twitter.com/astrodotbuild/status/1646593124997779465)
- 📦 [React-Three-Next - starter updated - App Router support](https://twitter.com/onirenaud/status/1646139899291254786)
- 📦 [React-Three-Fiber AutoFocus DOF](https://github.com/ektogamat/AutoFocusDOF)

<SubscribeFormEmbed />

---

## 💸 Sponsor {#sponsor2}

[![Tina.io est un CMS headless pour les sites basés sur Markdown](/emails/issues/140/tinacms.jpg)](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)

**[Tina.io est un CMS headless pour les sites basés sur Markdown](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)**

- Interface d'édition pour vos fichiers Markdown
- Interface pour les composants MDX
- Prend en charge le rendu statique (SSG) et côté serveur (SSR)
- Option pour l'édition visuelle (prévisualisation en direct)
- Construit avec des blocs réutilisables

Tester un site de démarrage

- [Docusaurus](https://github.com/tinacms/tinasaurus) (Github)
- [Next.js + Tailwind avec édition visuelle](https://github.com/tinacms/tina-cloud-starter) (Github)

Ou exécutez  `npx create-tina-app@latest`  puis visitez `localhost:3000/admin`

Regardez la [vidéo de démonstration de 4 min](https://www.youtube.com/watch?v=zRkeKSZjlyw)

---

## 📱 React-Native {#react-native}

- 👀 [Mouvement de survol bientôt disponible dans React Native Gesture Handler](https://twitter.com/breskin67/status/1646511002933153794) : future API multiplateforme avec support pour iOS, Android, web.
- 👀 [Démo de performance d'image](https://twitter.com/nightstomp/status/1647231665222176769) : montre l'impact négatif des images trop volumineuses sur les applications React Native.
- 📦 [Expo-Image 1.2.0 - Support de ThumbHash](https://twitter.com/tsapeta/status/1646875246362861569)
- 📦 [React-Native-Widget-Extension](https://twitter.com/bndkt/status/1648431242025766912)
- 📦 [AnimateReactNative](https://www.animatereactnative.com/) : plus de 100 animations par Catalin Miron (produit payant).
- 🧵 [Mises à jour de la documentation Expo](https://twitter.com/amanhimself/status/1646959895995105281)
- 🧵 [Jamon Holmgren - "Vous voulez savoir à quel point il est facile d'extraire des clés API d'une appli iPhone compilée ?"](https://twitter.com/jamonholmgren/status/1647305506053320704)
- 🎥 [Song of Bloom - « Peut-on le faire en React Native ? »](https://www.youtube.com/watch?v=PfCQEA72ljU)
- 🎥 [Routage basé sur les fichiers dans React Native avec Expo Router](https://www.youtube.com/watch?v=RglRiycD0oQ)
- 👥 [React-Native-Connection](https://reactnativeconnection.io/) (Paris, 1er juin) nous offre -10% sur les entrées (code "REACTHEBDO").
- 👥 [App.js](https://appjs.co/) (Cracovie, 10-12 mai) nous offre [-20% sur les ateliers](https://ti.to/appjs/2023/discount/ThisWeekinReact20) (code "ThisWeekinReact20").
- 👥 [Chain React](https://chainreactconf.com/) (Portland, 18-19 mai) nous offre -10% sur les entrées (code "thisweekinreact").

---

## 🧑‍💻 Emplois {#jobs}

🧑‍💼 [**Passionfroot - Ingénieur Full-stack Senior (Remix) - 160k€+, Berlin/distanciel**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

La mission de Passionfroot est d'autonomiser les entreprises indépendantes de demain via YouTube, Podcasts, réseaux sociaux et newsletters. Rejoignez-nous pour construire un outil qui permettra aux créateurs du monde entier de bâtir des entreprises évolutives et durables.

🧑‍💼 [**Callstack - Développeur React Native Senior - 100% distanciel, 21-32k PLN nets en B2B, mensuel**](https://www.callstack.com/senior-react-native-developer)

Voulez-vous travailler sur les applications les plus utilisées au monde ? Souhaitez-vous co-créer la technologie React Native ? Rejoignez l'équipe de leaders React & React Native de Callstack. Consultez notre site pour plus de détails. Nous attendons votre candidature - montrez-nous ce que vous savez faire !

🧑‍💼 [**G2i - Emplois React Native 100% distanciels**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

Nous avons plusieurs postes ouverts pour des développeurs spécialisés en React Native ! Rémunération ~160k$ plus 10% de bonus. Vous devez avoir une expérience en production avec RN et être basé aux États-Unis. DM [@gabe_g2i](https://twitter.com/gabe_g2i) pour en savoir plus et n'oubliez pas de mentionner This Week in React.

💡 [Comment publier une offre ?](https://thisweekinreact.com/sponsor)

---

## 🔀 Autres {#other}

- [Node.js 20 Now Available](https://openjsf.org/blog/2023/04/18/node-js-20-now-available/) : avec test runner stable, modèle de permissions, compilation en binaire exécutable...
- [pretty-ts-errors](https://github.com/yoavbls/pretty-ts-errors) : excellente idée pour améliorer l'expérience développeur (DX) TypeScript dans VSCode.
- [total-typescript/shoehorn - Partial mocks in TypeScript](https://github.com/total-typescript/shoehorn)
- [Chrome ships WebGPU](https://developer.chrome.com/blog/webgpu-release/) : dans Chrome 113+.
- [WebGPU Fundamentals](https://webgpufundamentals.org/)
- [Turborepo 1.9](https://twitter.com/turborepo/status/1646238976196444162)

---

## 🤭 Amusant {#fun}

[![alt](/emails/issues/142/meme.jpg)](https://twitter.com/thekitze/status/1646511070801203202)

À plus ! 👋