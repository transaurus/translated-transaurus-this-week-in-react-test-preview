---
slug: /145
title: "This Week In React #145: Next.js, Server Actions, useFormStatus, useOptimistic, App Router, Canaries, Ink, ReasonML, Redwood, Reanimated, VisionCamera..."
authors: [slorber]
date: 05-09-2023
---

Bonjour à tous !

Comme prévu, une nouvelle version de Next.js est disponible. Certaines innovations React sont mieux documentées dans la documentation Next.js que dans celle de React, comme l'`action` des formulaires ou les deux nouveaux hooks `useFormStatus` et `useOptimistic`.

De nombreuses conférences ont lieu en ce moment. Remix Conf et App.js débutent aujourd'hui : de belles annonces sont attendues.

La [React-Native-Connection](https://reactnativeconnection.io/) (Paris, 1er juin) approche également dans quelques semaines, avec une réduction de -20% en utilisant le code "REACTHEBDO" !

Je prévois de sauter l'édition de la semaine prochaine. Prochaine parution le 24 mai 👋

<!-- truncate -->

**💡 [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 Commanditaire {#sponsor1}

[![Start UI](/emails/issues/144/start_ui.jpg)](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)

**[Start UI [web] - Starter d'application web UI opinioné](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)**

Notre **starter d'application web UI gratuit et open source** offre un moyen rapide et facile de démarrer votre prochain projet. Il inclut **les meilleures pratiques et des outils prêts pour la production** pour vous aider à commencer immédiatement, vous faisant gagner du temps et des efforts dans la phase de configuration initiale.

Livré avec des **fonctionnalités intégrées** telles que 🔐 Authentification, 📱Disposition réactive, 🧑‍💻 Gestion des utilisateurs, 🇫🇷 Internationalisation et support de droite à gauche, 🌚 Mode sombre, 🎛 Composants avancés pour un développement facile. Essayez l'[application de démonstration](https://demo.start-ui.com).

Prêt à l'emploi avec **TypeScript**, **NextJS**, Chakra UI, TanStack Query, Storybook et plus encore.

[🚀 Start UI [web] sur GitHub](https://web.start-ui.com)

---

## ⚛️ React {#react}

[![Next.js 13.4](/emails/issues/145/nextjs.jpg)](https://nextjs.org/blog/next-13-4)

**[Next.js 13.4](https://nextjs.org/blog/next-13-4)**

Une version majeure pour Next.js, avec :

- App Router (stable) : le nouveau routeur basé sur Suspense et Server Components est prêt pour la production
- Turbopack (bêta) : le nouveau bundler se stabilise en développement, le build de production arrive bientôt
- Server Actions (alpha) : l'intégration Next.js des dernières innovations React

L'article de blog montre de nombreuses différences notables avec l'ancien routeur : conventions, layouts imbriqués, hydratation sélective, composants serveur, découpage de code...

Il dévoile également les nouvelles innovations React pour gérer les mutations et soumissions de formulaires, dont l'intégration dans Next.js donne naissance aux Server Actions. Cela simplifie grandement les interactions avec le serveur sans créer de route API, en utilisant des formulaires compatibles avec [l'amélioration progressive](https://twitter.com/acdlite/status/1654159613950828546). Il est désormais possible de créer et distribuer des composants React full-stack.

Notez qu'il est prématuré d'adopter les Server Actions en production. Elles sont en alpha, et pourraient exposer involontairement un secret capturé dans une closure de Server Action au client. Détails ici :

- 🧵 [Thread](https://twitter.com/tomus_sherman/status/1654198731313500174) : alerte sur ce problème
- 🐦 Problème reconnu par [Sebastian Markbåge](https://twitter.com/sebmarkbage/status/1654212899097960448) et [Andrew Clark](https://twitter.com/acdlite/status/1654317374777032704) qui proposent de chiffrer les variables.
- 🎥 [Next's Server Actions Might Not Be That Safe...](https://www.youtube.com/watch?v=fdKcbyEK66M)

**Autres liens utiles :**

- 📖 [New Next.js documentation](https://twitter.com/leeerob/status/1654181055740497939): the new beta doc is deployed in production. I advise in particular to read [React Essentials](https://nextjs.org/docs/getting-started/react-essentials).
- 👀 [useOptimistic](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions#experimental-useoptimistic) and [useFormStatus](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions#experimental-useformstatus): new React experimental hooks.
- 📜 [Next.js 13.4 on Vercel](https://vercel.com/changelog/next-js-13-4)
- 📜 [Introducing the Vercel Data Cache: Optimized caching for React Server Components](https://vercel.com/changelog/introducing-vercel-data-cache)
- 🧵 [Guillermo Rauch - "I re-designed rauchg.com with App Router"](https://twitter.com/rauchg/status/1652093972117073920): interesting feedback.
- 🎥 [Introducing Next.js App Router](https://www.youtube.com/watch?v=DrxiNfbr63s)

---

- 🧑‍🎓 [TotalTypeScript - React with TypeScript tutorial](https://www.totaltypescript.com/tutorials/react-with-typescript): free tutorial by Matt Pocock, the TypeScript wizard.
- 🎨 [The Rendering Journey of a React component](https://alexsidorenko.com/react-journey): step-by-step visualization of re-rendering.
- 📜 [React Canaries: Enabling Incremental Feature Rollout Outside Meta](https://react.dev/blog/2023/05/03/react-canaries): the React team presenting a new canary release channel which allows frameworks to adopt new React features before their official stable release. The canary releases are stable enough to be adopted in production. This is what Next.js App Router uses now, but also what Meta and React-Native always relied on.
- 📜 [React Server Components, Next.js App Router and examples](https://addyosmani.com/blog/react-server-components-app-router/): Addy Osmani shares his notes and reflections on Server Components. A good overview, as well as many examples of open-source apps. Also lists reasons to stop using Create-React-App.
- 📜 [5 Lessons Learned From Taking Next.js App Router to Production](https://www.inngest.com/blog/5-lessons-learned-from-taking-next-js-app-router-to-production): feedback from Inngest who successfully migrated a CRA app to Next.js and App Router. There are some interesting details about caching or search parameters.
- 📜 [Server-side rendering React in OCaml](https://sancho.dev/blog/server-side-rendering-react-in-ocaml): Ahrefs devs use Reason-React. They reimplemented `ReactDOMServer.renderToString` in OCaml to be able to run the SSR natively and solve some of their issues. Their SSR is now 10x faster than Node.js and 6x faster than Bun. The idea of running SSR natively is very interesting, but it will take a lot of work to support the latest innovations like streaming and Server Components.
- 📜 [HTMX is the Future](https://quii.dev/HTMX_is_the_Future): a critique of SPA frameworks, in particular React. Proposes to use an alternative: HTMX and hypermedia responses. I find it interesting for backend devs who want to add interactivity without doing JavaScript, but not sure that it scales that well.
- 📜 [Context, Composition, and Flexibility](https://kyleshevlin.com/context-composition-and-flexibility): proposes to use the React context to activate an alternative rendering of a component on a whole subtree.
- 📜 [My Struggle With Remix](https://redd.one/blog/my-struggle-with-remix): interesting feedback. The author still loves Remix, but presents some challenges encountered while using it.
- 📜 [Pull to refresh from scratch as a React hook](https://www.strictmode.io/articles/react-pull-to-refresh)
- 📜 [Creating an interactive spotlight border with CSS and React](https://www.julienthibeaut.xyz/blog/create-spotlight-border-with-react-css)
- 📦 [Redwood 5.0](https://community.redwoodjs.com/t/redwood-v5-0-0-is-now-available/4830): React 18, TypeScript v5 and observability.
- 📦 [Ink UI - Themable UI components for your next CLI](https://twitter.com/vadimdemedes/status/1655567427885846534): great example of the React cross-platform abilities. It's possible to render to the terminal, and even create UI libs for that particular ecosystem.
- 📦 [OpenNext 1.2.0 - geolocation in middleware](https://twitter.com/fanjiewang/status/1654192897678295040)
- 📦 [Zact - Zod Server ACTions](https://github.com/pingdotgg/zact)
- 📦 [Astro 2.4](https://astro.build/blog/astro-240/)
- 📦 [server-only](https://www.npmjs.com/package/server-only): official React package to prevent the import of server code into Client Components (see [Next.js docs](https://nextjs.org/docs/getting-started/react-essentials#keeping-server-only-code-out-of-client-components-poisoning)).
- 📦 [shadcn UI - Table and Data Table components](https://twitter.com/shadcn/status/1656019263394836480)
- 📦 [Million.js 2.3.1 - Astro support (beta)](https://twitter.com/aidenybai/status/1655088722222923776)
- 📊 [State of React 2023 - Preliminary Discussions](https://github.com/Devographics/surveys/issues/85): there might be a survey dedicated to React this year.
- 👀 [RSCs on Rspack](https://twitter.com/_hyf0/status/1655538017669648385)
- 👀 [Edit audio with Remotion](https://twitter.com/JNYBGR/status/1655853159623917568)
- 🎥 [Always Bet On React](https://www.youtube.com/watch?v=TnyslkPfXaM)
- 🎥 [I'm Done With React](https://www.youtube.com/watch?v=Zt8mO_Aqzw8)
- 🎥 [Should You Learn React in 2023? - Interview with React Summit Speakers Tru Narla and Jordan Gensler](https://www.youtube.com/watch?v=5xRqP-M8MkM)
- 👥 [React Summit](https://reactsummit.com/?utm_source=email&utm_medium=thisweekinreact) (Amsterdam, June 2-6) is offering us -5% on tickets (code "ThisWeekInReact5") and -10% on [workshops](https://reactsummit.com/react-workshops) (code "THISWEEKINREACT")

<SubscribeFormEmbed />

---

## 💸 Partenaire {#sponsor2}

[![Nylas](/emails/issues/144/nylas_2.png)](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)

**[OpenAI + Nylas Fireside Chat : IA générative](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)**

Vous souhaitez découvrir l'avenir de l'IA générative ? Le 17 mai, [OpenAI et Nylas organiseront un fireside chat ouvert à tous](https://info.nylas.com/firesidechat-openai-registrationpage.html?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-Webinar&utm_content=march-9-issue&utm_term=) avec Evan Morikawa, Responsable Ingénierie Appliquée chez OpenAI, et Christine Spang, CTO et cofondatrice de Nylas. Ils discuteront des défis du déploiement d'IA à grande échelle, de la prochaine étape de maturité de l'IA, et bien plus encore. [Ne manquez pas cet événement](https://info.nylas.com/firesidechat-openai-registrationpage.html?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-Webinar&utm_content=march-9-issue&utm_term=).

---

## 📱 React-Native {#react-native}

- 📖 [Nouvelle documentation bêta de Reanimated](https://twitter.com/swmansion/status/1655930596093472774) : nouvelle documentation interactive Docusaurus avec de nombreux exemples implémentés en React-Native-Web.
- 🎨 [Démo VisionCamera + Skia + TensorFlow](https://twitter.com/mrousavy/status/1654143459849121792) : c'est impressionnant ce qu'on peut réaliser aujourd'hui avec React-Native. Le rendu Skia et les modèles TensorFlow peuvent être mis à jour via une mise à jour Over-The-Air.
- 🎨 [Démo Reanimated 3 + Expo Router + Shared Element Transitions](https://twitter.com/kacperkapusciak/status/1654434612825792513)
- 📜 [Meilleurs conseils et astuces pour E2E Maestro avec React Native](https://dev.to/retyui/best-tips-tricks-for-e2e-maestro-with-react-native-2kaa)
- 📜 [React Native run-android : Comment tester différents types d'appareils](https://www.testim.io/blog/react-native-run-android/)
- 👥 [App.js](https://appjs.co/) (Cracovie, 10-12 mai) nous offre [-20% sur les ateliers](https://ti.to/appjs/2023/discount/ThisWeekinReact20) (code "ThisWeekinReact20").
- 👥 [Chain React](https://chainreactconf.com/) (Portland, 18-19 mai) nous offre -10% sur les entrées (code "thisweekinreact").
- 👥 [React-Native-Connection](https://reactnativeconnection.io/) (Paris, 1er juin) nous offre -10% sur les entrées (code "REACTHEBDO").

---

## 🧑‍💻 Emplois {#jobs}

🧑‍💼 [**Passionfroot - Ingénieur Full-stack Senior (Remix) - €160k+, Berlin/distant**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

La mission de Passionfroot est d'autonomiser les entreprises indépendantes de demain via YouTube, les podcasts, les réseaux sociaux et les newsletters. Rejoignez-nous pour construire un outil qui permettra aux créateurs mondiaux de développer des entreprises évolutives et durables.

🧑‍💼 [**Callstack - Développeur React Native Senior - Télétravail complet, 21-32k PLN net sur B2B, mensuel**](https://www.callstack.com/senior-react-native-developer)

Vous voulez travailler sur les applications les plus utilisées au monde ? Vous souhaitez co-créer la technologie React Native ? Rejoignez l'équipe de leaders React & React Native chez Callstack. Consultez notre site pour plus de détails. Nous attendons votre candidature avec impatience - montrez-nous ce que vous savez faire !

🧑‍💼 [**G2i - Emplois React Native 100% distants**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

Nous avons plusieurs postes ouverts pour des développeurs spécialisés en React Native ! La rémunération est d'environ 160k plus 10% de bonus. Vous devez avoir une expérience en production avec RN et être basé aux États-Unis. DM [@gabe_g2i](https://twitter.com/gabe_g2i) pour en savoir plus et n'oubliez pas de mentionner This Week in React.

💡 [Comment publier une offre ?](https://thisweekinreact.com/sponsor)

---

## 🔀 Autre {#other}

- [Rendu côté client du HTML et de l'interactivité](https://web.dev/client-side-rendering-of-html-and-interactivity/)
- [Diagnostiquer les interactions lentes en laboratoire](https://web.dev/diagnose-slow-interactions-in-the-lab/)
- [Je veux parler de WebGPU](https://cohost.org/mcc/post/1406157-i-want-to-talk-about)
- [Animer des éléments au défilement avec les animations pilotées par le défilement](https://developer.chrome.com/articles/scroll-driven-animations/)
- [Différences de Cumulative Layout Shift entre les données de labo et de terrain](https://www.debugbear.com/blog/cls-lab-field-differences)
- [Angular v16](https://blog.angular.io/angular-v16-is-here-4d7a28ec680d)
- [Nx v16](https://blog.nrwl.io/nx-16-is-here-69584ec87053#68c6)
- [Vitest 0.31](https://twitter.com/sheremet_va/status/1653827712576880645)

---

## 🤭 Fun {#fun}

[![alt](/emails/issues/145/meme.jpg)](https://twitter.com/markdalgleish/status/1654259858668163072)

À plus ! 👋