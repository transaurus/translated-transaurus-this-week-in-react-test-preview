---
slug: /169
title: "This Week In React #169: useMemo, 2 Reacts, Next.js, Remix, JS Rising Stars, Docusaurus, Astro, Fresnel, Mutative, JSX emails, Expo usage, React-Native releases, Reanimated, VisionCamera, TypeScript, Rspack, Biome..."
authors: [slorber, bndkt]
date: 01-09-2024
---

大家好！

本周我们将一睹React和记忆化（memoization）的未来，以及大量Lee Robinson的相关内容 😄

Expo在React-Native生态系统和应用商店中表现强劲 💪

[JavaScript Rising Stars 2023](https://risingstars.js.org/2023/en) 已经发布。今年我有机会对React部分进行了评论。shadcn/ui和Bun席卷全球。我也感谢Theo在他相关的[趋势分析视频](https://www.youtube.com/watch?v=5lkMs_WEoto)中推荐了我的通讯：欢迎最近订阅的各位 🙏

巴黎2024不仅是奥运会：我们也重回React会议世界的中心！
自React Europe结束后，巴黎一直缺乏大型React会议。现在终于有3场即将举行的精彩会议来弥补 👌

- 📅 3月22日 - [React Paris](https://react.paris/) - React Brussels和BeJS背后的团队将在巴黎举办一场新会议，强大的演讲阵容已于今日公布！

- 📅 4月22-23日 - [React Connection](https://reactconnection.io/) + [React-Native Connection](https://reactnativeconnection.io/) - 去年我协助组织的半日React-Native会议取得了巨大成功。因此今年它将回归，成为为期1天+1天的会议，让远道而来更加值得。CFP开放至2月3日。

我会尽量参加这两场会议，期待在那里见到你们中的一些人！

<!-- truncate -->

**💡 [在Twitter上查看这份通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![Nlux ― 一个用于创建对话式AI Web应用的全新React/JS库](/emails/issues/169/nlux.png)](https://nlux.ai/?c-twr1-h)

**[Nlux ― 一个用于创建对话式AI Web应用的全新React/JS库](https://nlux.ai/?c-twr1-h)**

[NLUX](https://nlux.ai?c-twr1-p1) _(Natural Language User Experience的缩写)_ 是一个新的[开源](https://github.com/nluxai/nlux) React/Javascript库，它可以轻松地将像ChatGPT这样强大的大语言模型（LLM）集成到你的Web应用或网站中。只需几行代码，你就能添加对话式AI功能并与你喜欢的LLM进行交互。

主要特点 🌟 包括：

- **数分钟内构建AI聊天界面** - 仅用几行代码即可创建高质量的对话式AI界面。
- **React组件和钩子** - 使用`<AiChat />`作为UI，`useAdapter`钩子便于集成。
- **灵活的LLM适配器** - 支持`ChatGPT`和`HuggingFace`，并提供API为任何LLM**创建你自己的适配器**。
- **可定制的聊天角色** - 配置机器人和用户的图片、名称及描述，实现个性化交互。
- **零依赖** - 轻量级代码库，除LLM前端库外零依赖。

更多信息、示例和文档请访问[Nlux.ai](https://nlux.ai?c-twr1-p2)

---

## ⚛️ React {#react}

[![React.use和React.useMemo的未来——context选择器的强大替代方案](/emails/issues/169/useMemo.jpg)](https://interbolt.org/blog/react-use-selector-optimization/)

**[React.use 和 React.useMemo 的未来 —— 一种强大的上下文选择器替代方案](https://interbolt.org/blog/react-use-selector-optimization/)**

Colin 解释了 React context 如何导致性能问题、上下文选择器 API 的缺失，以及他如何借助 Daishi Kato 的用户态 [use-context-selector](https://github.com/dai-shi/use-context-selector) 实现优化了应用的性能。

最精彩的部分是对[近期 Twitter 讨论](https://twitter.com/sebastienlorber/status/1741218919732429108)的精辟总结。Dan Abramov 指出上下文选择器难以组合使用。Andrew Clark 则分享了扩展 `useMemo()` 的计划，允许在其中调用其他钩子。该特性将与[任何可用类型](https://github.com/acdlite/rfcs/blob/first-class-promises/text/0000-first-class-support-for-promises.md#other-usable-types)（当前支持 context 和 promise，未来可能支持 Observable 和 store？）的 use 钩子协同工作，同时兼容[第三方钩子](https://twitter.com/BenJ_Ayc0/status/1742499230525067408)！这将以高性能且可组合的方式解决细粒度选择问题，并与即将到来的 React Forget 编译器完美兼容。

---

[![两个 React](/emails/issues/169/2reacts.jpg)](https://overreacted.io/the-two-reacts/)

**[两个 React](https://overreacted.io/the-two-reacts/)**

Dan Abramov 的精彩论述，他有力论证了代码在本地运行（即时反馈）与远程运行（贴近数据源）的双重价值。他提出了新的 React 范式：`UI = f(data, state)`，其中 `f` 代表整个 React 应用，运行在两个独立环境中。

文章最终抛出一个深刻问题，含蓄地质疑：为解决此问题，你是否会创造 React 服务端组件？

> 是否存在某种方式，能在你我设备间拆分组件的同时保留 React 的核心优势？我们能否组合并嵌套来自不同环境的组件？这将如何运作？

---

- 💸 [From Dreamweaver to JSX: The Evolution of Visual Dev Tools for the Web](https://mightymeld.com/blog/browser-dev-tools-understand-code?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=link1)
- 🌟 [2023 JavaScript Rising Stars](https://risingstars.js.org/2023/en): see my comment on the [React section](https://risingstars.js.org/2023/en#section-react).
- 🐦 [Next.js can now run with HTTPS locally](https://twitter.com/leeerob/status/1743709145386131906)
- 📖 [Remix Docs - new Client Data guide](https://remix.run/docs/en/main/guides/client-data)
- 📜 [Common mistakes with the Next.js App Router and how to fix them](https://vercel.com/blog/common-mistakes-with-the-next-js-app-router-and-how-to-fix-them): Lee Robinson is in touch with hundreds of Next.js devs and gathered the most common mistakes. Also available as a [video](https://www.youtube.com/watch?v=RBM03RihZVs). TIL that the redirect function returns a never type and throws a Next.js specific error, surprising design.
- 📜 [How I'm Writing CSS in 2024](https://leerob.io/blog/css): Lee Robinson likes CSS in 2024. He describes constraints that make a great UX/DX, and the role of a build step, compiler, or streaming. He recommends CSS Modules, Tailwind CSS, or StyleX.
- 📜 [Increasingly miffed about the state of React releases](https://macwright.com/2024/01/03/miffed-about-react): No stable release for 550d considered harmful.
- 📜 [Executing Dangerously Injected Scripts Inside React Components](https://macarthur.me/posts/script-tags-in-react): Interesting technique to bypass security limitations and execute scripts injected through dangerouslySetInnerHTML, using Document Fragments.
- 📜 [28 Advanced NextJS features everyone should know](https://codedrivendevelopment.com/posts/rarely-known-nextjs-features): List and comments on various lesser-known features the author did not encounter in any app he worked on.
- 📜 [Things I would change about React to increase DX](https://codedrivendevelopment.com/posts/things-i-would-change-about-react): List React pain points I can agee with, and make rough propositions to fix them (not all of them are great nor possible IMHO).
- 📜 [Harmful complexity: using React for static content](https://gomakethings.com/harmful-complexity-using-react-for-static-content/): Interesting opinion, but I hope to prove the author wrong and believe React is nice for static content, particularly with RSCs.
- 📜 [A new blog for 2024](https://chrisnicholas.dev/blog/a-new-blog-for-2024): Using moderns tools such as Catalyst, TWC, Contentlayer, Tailwind, Next.js
- 📜 [How to Set Up Soft Navigation Reporting in a React App](https://www.debugbear.com/blog/soft-navigations-react-tutorial): Shows usage of the Google web-vitals npm package in a CRA app.
- 📜 [Introducing Superglue: React ❤️ Rails](https://thoughtbot.com/blog/introducing-superglue): “Superglue makes React and Redux as productive as Hotwire, Turbo and Stimulus”
- 📜 [How Lee Robinson created his Guestbook, and you can do it too](https://bejamas.io/blog/how-to-create-a-guestbook/?ck_subscriber_id=887776054)
- 📜 [2024 Predictions by JavaScript Frontend Framework Maintainers](https://thenewstack.io/2024-predictions-by-javascript-frontend-framework-maintainers/)
- 📦 [Fresnel 7.0 - React 18 support - SSR compatible approach for responsive layouts for React](https://github.com/artsy/fresnel/releases/tag/v7.0.0)
- 📦 [@tanstack/router-vite-plugin - Vite alternative to the router CLI](https://tanstack.com/router/v1/docs/api/router-vite-plugin)
- 📦 [Docusaurus 3.1 - built-in broken anchors detectors, `parseFrontMatter` hook](https://docusaurus.io/blog/releases/3.1)
- 📦 [Astro 4.1 - Accessibility audit rules, client:visible rootMargin, custom cookie encoding](https://astro.build/blog/astro-410/)
- 📦 [Mutative 1.0 - Efficient immutable updates, 10x faster than Immer](https://dev.to/unadlib/announcing-mutative-10-a-new-era-in-efficient-immutable-updates-nml)
- 📦 [JSX email 1.7 - A fork of react-email that keeps being improved](https://github.com/shellscape/jsx-email)
- 🔨 [Palettify - Get an instant preview for your theme - supports shadcn/ui and soon MUI](https://palettify.co/)
- 🔗 [Remix Resources - Community templates, stacks and libraries](https://remix.run/resources)
- 🎥 [Jack Herrington - HTMX For React Developers in 10 Minutes](https://www.youtube.com/watch?v=r0XBULqzsT0)
- 🎥 [Lee Robinson - React Server Components: the Good, the Bad, and the Ugly](https://www.youtube.com/watch?v=8DyzsSWNcDE)
- 🎥 [Remix Singles - "Trellix" - Cookies, Auth, and Drag & Drop](https://www.youtube.com/watch?v=RTHzZVbTl6c&list=PLXoynULbYuED9b2k5LS44v9TQjfXifwNu): 15 short videos by the Remix team, building a Trello clone (see the [demo app](https://trellix.fly.dev/)).

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助 {#sponsor2}

[![支持 Next.js、Remix 和 Gatsby 的内联可视化编辑 CMS](/emails/issues/169/reactbricks.jpg)](https://reactbricks.com?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

**[支持 Next.js、Remix 和 Gatsby 的内联可视化编辑 CMS](https://reactbricks.com?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)**

通过 CLI [**一分钟创建项目**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)，将可视化模块定义为 React 组件，使用任意 CSS 框架精准传达品牌视觉。

内容编辑者能像使用文字处理器般直观组合页面，同时完全遵循设计规范。

React Bricks 具备企业级功能：数字资产管理、高级 SEO、协作工作流、定时发布、多语言支持、外部数据源集成、审批流程、单点登录、多环境管理、备份与变更历史。

获 The Weather Channel、Deel.com、La Banque Postale 等企业客户及全球超 8,500 用户信赖。  
[**立即开始！**](https://reactbricks.com/sign-up?utm_source=twir&utm_campaign=twir_2024&utm_medium=email)

---

## 📱 React-Native {#react-native}

[![2024 年谁在使用 Expo 开源项目](/emails/issues/169/expo.jpg)](https://evanbacon.dev/blog/expo-2024)

**[2024年谁在使用Expo开源项目](https://evanbacon.dev/blog/expo-2024)**

Evan Bacon收集了1,599个使用Expo库（因此也使用React Native）的应用程序名单。该名单包括必胜客、汉堡王、微软、Discord、Shopify、NFL、Walgreens、亚马逊、CNN等家喻户晓的品牌。虽然React Native的蓬勃发展对我们来说并非新闻，但看到它在App Store顶级应用中扮演的重要角色仍然令人振奋。

---

- 💸 [Galaxies.dev - 精通React Native并使用代码GALAXIES24在PRO版享25%折扣](https://galaxies.dev?utm_source=thisweekinreact.com)
- 👀 [提案：为iPad/Apple Vision Pro设计的悬停样式API](https://github.com/react-native-community/discussions-and-proposals/pull/750) iPad支持为鼠标/触控板用户提供悬停效果，这对苹果即将推出的Vision Pro也将非常有用——当用户注视导航元素时会自动高亮显示。
- 📜 [Reanimated入门指南](https://www.reactiive.io/articles/introduction-to-reanimated)：一篇很好的入门文章，帮助理解RN最流行动画库背后的概念：共享值、重动画样式、动画视图。
- 📦 [React-Native v0.73.2 + v0.72.9 + v0.71.15](https://github.com/facebook/react-native/issues/42180)：新版本修复了iOS构建中的"Error installing boost Verification checksum"错误等问题。
- 📦 [react-native-vision-camera 3.7.0](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.7.0)：现在包含Expo配置插件，可轻松启用完全原生的QR/条码扫描器。
- 🎥 [Theo - 弃用React Native](https://www.youtube.com/watch?v=gntZth3mIbM)：标题党但内容翔实，讲述从"原生"React Native迁移到Expo的过程。
- 🎥 [Szymon Rybczak - 将React服务端组件引入React Native](https://portal.gitnation.org/contents/brining-react-server-components-to-react-native)
- 🎥 [Simon Grimm - 2024年React Native技术栈](https://www.youtube.com/watch?v=Xwk4rcB6qVQ)

---

## 🔀 其他 {#other}

- 👀 [TypeScript 5.4迭代计划 - `NoInfer<T>`、throw表达式...](https://github.com/microsoft/TypeScript/issues/56948)
- 📜 [Daniel Rosenwasser谈TypeScript及2024年展望](https://thenewstack.io/daniel-rosenwasser-on-typescript-and-whats-ahead-in-2024/)
- 📜 [工程师对Web开发的离奇误解](https://birtles.blog/2024/01/06/weird-things-engineers-believe-about-development/)
- 📜 [网站与Web应用的分野并不存在](https://jakelazaroff.com/words/the-website-vs-web-app-dichotomy-doesnt-exist/)
- 📜 [Interop 2024的公众投票](https://frontendmasters.com/blog/the-popular-vote-of-interop-2024/)
- 📦 [Biome 1.5 - 97% Prettier兼容性 + 2024路线图](https://biomejs.dev/blog/roadmap-2024/)
- 📦 [Node 20.11 - 改进test_runner、import.meta、性能...](https://nodejs.org/en/blog/release/v20.11.0)
- 📦 [Rspack 0.5 - 模块联邦](https://www.rspack.dev/blog/announcing-0.5)

---

## 🤭 趣味 {#fun}

[![alt](/emails/issues/169/meme.jpg)](https://twitter.com/sebastienlorber/status/1744853546556649773)

下次见！👋