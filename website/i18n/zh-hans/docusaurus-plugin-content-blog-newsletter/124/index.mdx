---
slug: /124
title: "This Week In React #124: FLIP, Lifecycle, Next.js, TypeScript, Vanilla-Extract, LiveView, Remix, GitHub, Race Conditions, Fontpie, Remotion..."
authors: [slorber]
date: 11-15-2022
---

大家好！

经过几周的密集发布，React 生态系统在重大公告方面稍有放缓。

我们仍然有一些非常棒的文章出炉。Next.js 的 TypeScript 插件看起来太棒了！

GitHub Universe 大会已经结束。GitHub 似乎越来越多地使用 React，在某些视图中，以及通过基于 MDX 的 GitHub Blocks。

<!-- truncate -->

**💡 [在 Twitter 上查看本期简报](https://slo.im/thread) - 视觉格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![FlyCode 让 React 应用无需编码即可编辑，基于 Git](/emails/issues/124/flycode.jpg)](https://bit.ly/3UPwAoJ)

**[FlyCode 让 React 应用无需编码即可编辑，基于 Git](https://bit.ly/3UPwAoJ)**

[FlyCode](https://bit.ly/3wWSi00) (YC S22) 能在几分钟内让 React 网页应用变得可编辑，使产品和 UX 团队能更快迭代和发布产品，而无需等待（或占用）开发人员的时间。

FlyCode 会读取您的常规 React 代码，找出文本、图片、设计令牌和分析事件，然后让非技术人员协作编辑并提交拉取请求（他们不需要访问 GitHub！）。

- 节省开发时间
- 无需代码集成，直接读取您的代码！
- 基于 GitHub，机器人扫描代码并创建拉取请求
- 使用您自己的技术栈和组件
- 保留代码库所有权

您可以从这里开始：[flycode.com/developers](https://www.flycode.com/developers)

---

## ⚛️ React 技术 {#react}

[![Framer 的 Magic Motion 内部揭秘](/emails/issues/124/framer-motion.png)](https://www.nan.fyi/magic-motion)

**[Framer 的 Magic Motion 内部揭秘](https://www.nan.fyi/magic-motion)**

一篇精彩的交互式文章，解释了什么是布局动画。它深入解构了 FLIP 技术，该技术通过 CSS 变换（位置、缩放）优化这类过渡的性能。我们逐步重现了 Framer Motion 的布局动画系统。

关于同一主题，还推荐阅读[关于 Framer Motion 布局动画的一切](https://blog.maximeheckel.com/posts/framer-motion-layout-animations/)。

---

[![使用 Hooks 的 React 组件时间线](/emails/issues/124/timeline.jpg)](https://julesblom.com/writing/react-hook-component-timeline)

**[使用 Hooks 的 React 组件时间线](https://julesblom.com/writing/react-hook-component-timeline)**

一个交互式图表，展示了 React 组件的生命周期，包括 hooks、refs 和 DOM 更新/绘制（移动端不可用）。还包含知识测试题和大量引用/参考。

---

[![Next.js 13](/emails/issues/124/nextjs13ts.jpg)](https://twitter.com/delba_oliveira/status/1592209522281439232)

**[Next.js 13 TypeScript 插件](https://twitter.com/delba_oliveira/status/1592209522281439232)**

舒丁正在开发一个 TypeScript 语言服务插件（[源码](https://github.com/vercel/next.js/blob/canary/packages/next/server/next-typescript.ts)），该插件通过提供文档支持、新型错误提示以及针对 Next.js 和服务器组件的自动补全功能，显著提升了 Next.js 的开发者体验。这很好地弥补了 TypeScript 中[无法对 ES 模块导出进行类型声明](https://github.com/microsoft/TypeScript/issues/38511)的缺陷，该功能是众多框架作者迫切需要的特性。

---

[![使用 vanilla-extract 编写高性能 CSS](/emails/issues/124/vanilla-extract.png)](https://www.lekoarts.de/javascript/writing-performant-css-with-vanilla-extract)

**[使用 vanilla-extract 编写高性能 CSS](https://www.lekoarts.de/javascript/writing-performant-css-with-vanilla-extract)**

一篇关于 [vanilla-extract](https://vanilla-extract.style/) 的详尽文章，这是由 Mark Dalgleish（CSS Modules 创建者）基于 TypeScript 开发的无运行时 CSS-in-JS 库。文中还提及了其原子 CSS 层 [Sprinkles](https://vanilla-extract.style/documentation/packages/sprinkles/)。通过 React 实例演示了 Tailwind UI 组件的复现过程，并与 Tailwind 及其他 CSS-in-JS 方案进行了全面对比。虽然功能强大，但实现确实不太简单 😅 值得进一步研究。

---

- 📖 React beta docs: [class component API ref (WIP)](https://twitter.com/dan_abramov/status/1592262830304251908)
- 🐙 [GitHub UI using React](https://twitter.com/rauchg/status/1591464351990697984) ([Hacker News thread](https://news.ycombinator.com/item?id=33576722)): GitHub seems to use React more and more. They also have a React design system: [Primer React](https://primer.style/react/). The upcoming feature [GitHub Blocks](https://blocks.githubnext.com/) which allows to make the README interactive is also [implemented with MDX](https://twitter.com/idangazit/status/1590726137638195200)
- 📜 [Fetching data in React: the case of lost Promises](https://www.developerway.com/posts/fetching-in-react-lost-promises): well-illustrated interactive article on the race conditions that can occur when making requests. Gives several techniques to avoid them. I also wrote an [article](https://sebastienlorber.com/handling-api-request-race-conditions-in-react) on the subject 😜 (both are worth reading, quite complementary)
- 📜 [A Love Letter to React](https://fly.io/blog/love-letter-react/): the creator of Phoenix (Elixir framework) explains how he was inspired by React to create LiveView: a solution to add interactivity on server-side rendered HTML. LiveView reminds me a lot of Remix!
- 📜 [Open Development for Remix](https://remix.run/blog/open-development): Remix wants the project to be community driven. Everything becomes public: [roadmap](https://github.com/orgs/remix-run/projects/5/views/1)/process, and planning meetings streamed on Youtube.
- 📜 [Type-safe environment variables on both client and server with Remix](https://dev.to/gugaguichard/type-safe-environment-variables-on-both-client-and-server-with-remix-54l5): interesting solution parsing env variables with Zod and exposing some of them to the client, including type-safety and autocomplete.
- 📜 [Chromatic - Interaction tests for user behavior](https://www.chromatic.com/blog/interaction-tests-for-user-behavior/): Storybook interaction tests are now integrated with Chromatic SaaS
- 📜 [React Server vs Client components in Next.js 13](https://kulkarniankita.com/react/react-server-client-components)
- 📜 [What is a state manager](https://www.reatom.dev/general/what-is-state-manager)
- 📜 [A novel schema-first approach to building forms](https://www.vazco.eu/blog/a-novel-schema-first-approach-to-building-forms)
- 📜 [Creating fluffy trees with Three.js (part 1)](https://douges.dev/blog/threejs-trees-1)
- 📊 [I compared deploy speeds for Reflame, Vercel, Netlify, Cloudflare Pages on the same repo](https://blog.reflame.app/i-compared-deploy-speeds-for-reflame-vercel-netlify-cloudflare-pages-on-the-same-repo): the marketing around "instant deploy" is not always true.
- 💰 [Remotion - We raised CHF 180k to simplify programmatic video!](https://www.remotion.dev/blog/seed-funding): I bring my modest contribution 🤭
- 🐦 [Comparison between Next.js 12 and the Next.js 13 experimental `app` dir!](https://twitter.com/lydiahallie/status/1591120215189749760)
- 🗣 [RemixConf 2023 CFP Open](https://twitter.com/remix_run/status/1590513919902507008)
- 📦 [Fontpie](https://github.com/pixel-point/fontpie): new CLI solution to avoid custom font layout shifts (see this [demo](https://twitter.com/alex_barashkov/status/1590329974409469952) to understand). It makes techniques used in `next/font` framework-agnostic.
- 📦 [Remix-Vite](https://github.com/sudomf/remix-vite): adds Hot Module Replacement support to Remix
- 📦 [craco 7.0](https://github.com/dilanx/craco/releases/tag/v7.0.0): allows to customize CRA - CRA v5 support
- 📦 [Redwood 3.3](https://github.com/redwoodjs/redwood/releases/tag/v3.3.0)
- 📦 [Rockpack 3.0 - create-react-app on steroids + SSR](https://github.com/AlexSergey/rockpack)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![refine - 100% 开源的无头 React 框架，用于构建 CRUD 应用](/emails/issues/124/refine.jpg)](https://s.refine.dev/github)

**[refine - 100% 开源的无头 React 框架，用于构建 CRUD 应用](https://s.refine.dev/github)**

refine 能与您偏好的任何自定义设计或 UI 框架无缝协作。为方便起见，它内置了与 Ant Design、Material UI、Mantine 和 Chakra UI 的开箱即用集成。该框架消除了 CRUD 操作所需的重复性任务，并为关键部分（如身份验证、访问控制、路由、网络通信、状态管理和国际化）提供行业标准解决方案。

---

## 📱 React-Native {#react-native}

- 📜 [Expo-router 与远程代码](https://medium.com/@dan_tamas/expo-router-and-remote-code-e49f31a33b73)：演示如何结合 [react-native-wormhole](https://github.com/cawfree/react-native-wormhole) 和 Expo Router 实现远程 URL 加载 React Native 组件，这与[React Native 服务器组件](https://twitter.com/Baconbrix/status/1585058874864062466)理念高度相关。
- 🧵 [Expo Modules API 讨论串](https://twitter.com/tsapeta/status/1590353202402115584)：Tomasz Sapeta 分享了关于使用 Swift/Kotlin 创建现代原生模块的新 Expo API 信息，包括未来对 [SwiftUI](https://twitter.com/tsapeta/status/1591003968649728001)/Jetpack Compose 的支持计划。
- 📦 [React-Native 0.70.6](https://twitter.com/CipolleschiR/status/1592573159215337472)
- 📦 [Moti 0.21](https://twitter.com/FernandoTheRojo/status/1592264186960257027)
- 📦 [JestNative v5.2 匹配器 - toHaveAccessibilityState()](https://twitter.com/mdj_dev/status/1590724369835524096)
- 🎙️ [React Native 播客第 18 期 - 模块联邦](https://www.callstack.com/podcasts/module-federation)
- 🎙️ [RNR 252 - Ionic 的 React Native Portals 与 Josh Thomas](https://reactnativeradio.com/episodes/rnr-252-ionics-react-native-portals-with-josh-thomas)

---

## 🧑‍💻 工作机会 {#jobs}

🧑‍💼 [**Causal 产品工程师，远程/伦敦/纽约，$150-250k**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal 是一家获得 A 轮融资的初创公司（由 Coatue/Accel 支持），致力于构建处理数字和可视化数据的一体化工具。我们正在寻找能够解决复杂 UX/性能挑战的资深 React 工程师。

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们开放了多个专注于 React Native 的开发职位！薪酬约 16 万美元外加 10% 奖金。应聘者需具备 RN 生产环境经验且居住在美国。请私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解更多信息，并务必提及 This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [TypeScript 4.9](https://devblogs.microsoft.com/typescript/announcing-typescript-4-9/)：新增 satisfies 语法！
- [TypeScript satisfies 运算符](https://tomdohnal.com/posts/typescript-satisfies-keyword)：satisfies 的另一个用法示例
- [Qwik 案例展示](https://qwik.builder.io/showcase/)：卓越的 Lighthouse 评分
- [SolidStart 发布：SolidJS 框架](https://www.solidjs.com/blog/introducing-solidstart)：SolidJS 元框架现已进入测试版。它借鉴了 React 生态的灵感并带来创新理念。另见 [Fireship - SolidStart 介绍](https://www.youtube.com/watch?v=DVWu2b7mvFg)
- [Parcel 2.8](https://twitter.com/devongovett/status/1590378157747875840)：在打包、性能、HMR 和代码分割等方面的重大改进
- [Deno 1.28 - 新增 130 万个模块](https://deno.com/blog/v1.28)：兼顾安全性的 npm 兼容方案。另见此[视频](https://twitter.com/deno_land/status/1592274094963462144)
- [可扩展 CSS 的演进](https://frontendmastery.com/posts/the-evolution-of-scalable-css/)：回顾 CSS 技术的发展历程，包括 React 推广的 CSS-in-JS
- [为什么需要 JavaScript 生成器函数？](https://jrsinclair.com/articles/2022/why-would-anyone-need-javascript-generator-functions/)
- [Stylify - 更快地编写 CSS](https://stylifycss.com/)
- [GitHub Universe 2022 新特性全览](https://github.blog/2022-11-09-everything-new-from-github-universe-2022/)
- [2022 Octoverse - 开源软件现状](https://octoverse.github.com/)
- [通过 Chrome 分支实现 HTML 转 SVG](https://fathy.fr/html2svg)
- [stc 本周动态 第1期](https://kdy1.dev/posts/2022/11/stc-update-1)
- [Chromium 中的 Change Array By Copy](https://twitter.com/robpalmer2/status/1591174422802890754)
- [ultrahtml 1.0 发布](https://github.com/natemoo-re/ultrahtml)
- [Cypress 组件测试正式发布及 Cypress 11 性能优化](https://www.cypress.io/blog/2022/11/08/announcing-cypress-11/)
- [GreenFrame - 测量网站碳足迹](https://marmelab.com/blog/2022/11/09/greenframe-open-source.html)
- [Doctolib - 为 30+ 设计师和 200+ 开发者维护设计系统的 10 个经验](https://medium.com/doctolib/10-lessons-i-learned-owning-on-a-design-system-for-30-product-designers-and-200-developers-c2986e4dbb6f)
- [Node.js 安全最佳实践](https://nodejs.org/en/docs/guides/security/)

---

## 🤭 趣闻 {#fun}

[![梗图 - 突发：JavaScript 因冒充真实编程语言被 Twitter 封禁](/emails/issues/124/meme.png)](https://twitter.com/lukaseder/status/1590301562525876225)