---
slug: /183
title: "This Week In React #183: Vercel Edge, React Native 0.74 + IDE, refs, patching fetch(), Remix Single Fetch, RSCs, Signals, Redwood, Zustand Slices, XState, VisionCamera 4, NewArch, VisionOS..."
authors: [slorber, bndkt]
date: 04-24-2024
---

大家好！

本周 React Native 成为焦点！不过 Vercel 的相关动态和 React 核心团队的 PR 同样值得关注。

本周早些时候，我参加了在巴黎举行的 React/RN Connection 会议。很高兴在那里见到你们中的一些人！

巴黎的派对尚未结束。时隔多年，盛大的 [**dotJS 大会**](https://www.dotjs.io/?utm_source=thisweekinreact) 将于 6 月 27 日重返巴黎。目前已公布重量级演讲嘉宾阵容，包括 Mark Dalgleish、Malte Ubl、Charlie Gerard、James Q Quick、Ben Lesh 等。最后一批常规票发售中，使用我的优惠码 "TWIR" 可享 9 折。

由于会议缘故，我今天才有时间处理通讯。感谢我的合著者 [Benedikt](https://twitter.com/bndkt) 接手并完成了本周大部分工作！🙏

下周通讯将迎来应得的休刊。我们将在 5 月 8 日回归。

<!-- truncate -->

**💡 [在 Twitter 查看本通讯](https://slo.im/thread) - 视觉版式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![帮助提升产品技能的通讯](/emails/issues/183/posthog.jpg)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[帮助提升产品技能的通讯](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**工程师的产品之道**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) 是 PostHog 的通讯专栏，致力于帮助工程师提升产品技能。学习如何向用户提问、构建用户喜爱的新功能，以及实现产品市场契合的路径。

[**免费订阅**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir) 获取构建优秀产品的精选建议、PostHog 开发的经验教训，以及顶级初创企业策略的深度解析。

---

## ⚛️ React {#react}

[![Vercel 将所有边缘渲染回退到 Node.js](/emails/issues/183/r183.jpg)](https://x.com/leeerob/status/1780705942734331983)

🐦 [Vercel 将所有边缘渲染回退到 Node.js](https://x.com/leeerob/status/1780705942734331983)

Vercel 产品副总裁 Lee Rob 在 X 平台解释，Vercel 正“将所有边缘渲染回退到 Node.js”。如果您使用 Vercel（甚至可能未使用），会注意到 Vercel 长期推行“边缘”概念。一方面，边缘意味着计算在靠近访问 Vercel 托管网站用户的位置运行；另一方面，这表示计算运行于基于 V8 而非 Node.js 的“边缘运行时”。尽管在终端用户附近运行计算的概念颇具吸引力，但当数据需从中心位置加载时（常见场景），其优势迅速消失。同时，开发团队常需适配边缘运行时有限的 API 子集。Vercel 现已得出结论：整体而言，开发人员面临的挑战超过了有限收益，因此回归集中式 Node.js 运行时。我们赞赏其透明度！如需更多细节，Theo 制作了相关[视频](https://youtu.be/lAGE-k1Zfrg?si=5SP4hyoFkixTsh-y)。

---

- 💸 [Clerk's prebuilt UI components give you a beautiful, fully-functional user management experience in minutes. Start for free!](https://go.clerk.com/AlkHHq8)
- 👀 [React Core PR - React 19 will not patch fetch() anymore!](https://github.com/facebook/react/pull/28896): the controversial `fetch()` patch to deduplicate requests in RSCs is now removed from React core. You might see it as a good thing, but keep in mind you will now need to deduplicate requests yourself manually with `React.cache`.
- 👀 [React Core PR - Don't minify symbols in production builds](https://github.com/facebook/react/pull/28881): React 19 production builds will preserve variable/function names and should become easier to read/debug. You can still minify it yourself if you want to, but using HTTP gzip compression should be enough to compensate for the extra size.
- 👀 [React Docs PR - Add documentation for ref cleanup function](https://github.com/reactjs/react.dev/pull/6770): React 19 ref functions can now return a cleanup function (🐦 [preview](https://twitter.com/sebastienlorber/status/1783108366459375675)). This should also help users using string refs (removed in v19) and classes to migrate thanks to automated codemods.
- 👀 [Remix POC - Remix + Hono + Vite](https://github.com/yusukebe/hono-and-remix-on-vite)
- 🗓 [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - 🇳🇱 Amsterdam - 14-18 June - Get a 10% discount with code "TWIR". Awesome lineup including Evan Bacon, Kent C. Dodds, Theo, Tim Neutkens, Mark Erikson, Fred Schott and so many others!
- 📜 [HTML attributes vs DOM properties](https://jakearchibald.com/2024/attributes-vs-properties/): A great deep dive into subtle DOM behaviors and design decisions, including how frameworks like React or Vue handle the difference. Also explains how React 19 will improve support for Web Components.
- 📜 [Redwood - Building a new docs site with RSC](https://redwoodjs.com/blog/building-a-new-docs-site-with-rsc): Redwood is dogfooding Redwood by showing how to build a docs site with it, based on MDX and RSCs.
- 📜 [Deploy a new Remix app to Cloudflare Pages:](https://www.jacobparis.com/content/remix-cloudflare-pages) A lot has recently changed (and improved!) about how Remix can be deployed to CF Pages. This is a good guide on the state of the art.
- 📜 [Improving INP in React and Next.js](https://www.thisdot.co/blog/improving-inp-in-react-and-next-js): Interaction to Next Paint has recently replaced First Input Delay (FID) as a core web vital; this post details how to optimize it.
- 📜 [Did Signals Just Land in React?](https://thenewstack.io/did-signals-just-land-in-react/): Spoiler Alert: No, they didn't. But there’s still a way to try signals in React.
- 📜 [Vercel - Building an interactive 3D event badge with React Three Fiber](https://vercel.com/blog/building-an-interactive-3d-event-badge-with-react-three-fiber)
- 📜 [Getting the Current URL in Next.js Server Components](https://www.propelauth.com/post/getting-url-in-next-server-components)
- 📜 [How to manifest streamlined authentication: AWS Cognito in a React app](https://evilmartians.com/chronicles/how-to-manifest-streamlined-authentication-aws-cognito-in-a-react-app)
- 📜 [Localized link tags for SEO in Remix](https://react-japan.dev/en/blog/localized-link-tags-for-seo-in-remix)
- 📜 [How Solid Made Me A Better React Developer](https://www.brenelz.com/posts/how-solid-made-me-a-better-react-developer/)
- 📜 [Boosting Performance with Next.js and React Server Components - A GeekyAnts Case Study](https://geekyants.com/blog/boosting-performance-with-nextjs-and-react-server-components-a-geekyantscom-case-study)
- 📜 [How to Simplify Global State Management in React Using Jotai](https://thenewstack.io/how-to-simplify-global-state-management-in-react-using-jotai/)
- 📦 [Remix 2.9 - Single Fetch (unstable)](https://github.com/remix-run/remix/blob/main/CHANGELOG.md)
- 📦 [StyleX - 0.6.1 - Typed variables, fallback values, ESLint plugin](https://stylexjs.com/blog/v0.6.1)
- 📦 [Hydrogen April 2024 release - Analytics preview, stable Vite support, SEO updates, full-page caching](https://hydrogen.shopify.dev/update/april-2024)
- 📦 [Zustand-Slices - Assemble slices into a single store](https://github.com/zustandjs/zustand-slices)
- 📦 [Spoiled - Realistic Spoiler component for React.js](https://github.com/molefrog/spoiled)
- 🎙️ [Off The Main Thread Podcast: Putting React In The Browser](https://offthemainthread.tech/episode/putting-react-in-the-browser/)
- 🎥 [Jack Herrington - JS Built-in Signals In React and Svelte today!](https://www.youtube.com/watch?v=HSVcZa5yTKE)
- 🎥 [Ben Holmes - Vercel got it wrong](https://www.youtube.com/watch?v=_dtyYDwHAIc): Interesting take on the “edge” topic by Ben Holmes, detailing Cloudflare’s approach.

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![NLUX ― 简化添加 AI 功能的新 React 库](/emails/issues/183/nlux.jpg)](https://nlux.dev/?c-twr2-h)

**[NLUX ― 简化添加 AI 功能的新 React 库](https://nlux.dev/?c-twr2-h)**

[NLUX](https://nlux.dev?c-twr2-p1) 是一款[开源](https://github.com/nluxai/nlux) React 库，能够极其简便地将 ChatGPT 等强大语言模型(LLMs)集成到您的 Web 应用或网站中。仅需几行代码，即可添加对话式 AI 功能。

主要功能 🌟 包括：

- **几分钟内构建 AI 聊天界面** - 通过少量代码创建高质量的对话式 AI 界面
- **React 组件和钩子** - 使用 UI 组件 `<AiChat />` 和集成钩子 `useChatAdapter`
- **灵活适配器** - 支持 `ChatGPT`、`LangChain` 和 `HuggingFace`，并提供 API 以**为任何后端创建自定义适配器**
- **以最优方式同步 UI 状态与 AI 后端**
- **Markdown 流式处理** - 实时渲染 LLM 生成的 Markdown
- **零依赖** - 轻量级代码库

更多信息、示例和文档请访问 [nlux.dev](https://nlux.dev?c-twr2-p1)

---

## 📱 React-Native {#react-native}

[![React Native 0.74 发布，React Native IDE 进入测试版](/emails/issues/183/rn183.jpg)](https://reactnative.dev/blog/2024/04/22/release-0.74)

📦 [React Native 0.74 发布](https://reactnative.dev/blog/2024/04/22/release-0.74)

本周发布了 React Native 0.74，这是社区的重要里程碑！新版本在使用新架构(New Architecture)的项目中默认启用"无桥模式(bridgeless mode)"（下一个版本 0.75 中，新架构本身也将成为默认设置）。两者在需要时仍可关闭，但它们显然代表着 React Native 的未来方向。尤其在过去几个月，大量库已添加了对两者的支持。此外，RN 0.74 还包含 Yoga 3.0。虽然破坏性变更和弃用很少，但仍建议查阅[发布说明](https://reactnative.dev/blog/2024/04/22/release-0.74)。

📦 [React Native IDE 进入测试阶段](https://ide.swmansion.com/)

本周另一激动人心的消息是 Software Mansion 团队开发的 React Native IDE 开启封闭测试。您现在可注册获取 IDE 的早期访问权限。团队已上线产品页面，且[文档](https://ide.swmansion.com/docs/getting-started)已公开供查阅。

---

- 💸 [React Native 分析工具 —— Omlet 是用于分析组件使用情况的新工具。查看趋势以改进代码并提升组件采用率。](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-rn-ql-apr-2024)
- 🐦 [在即将推出的 React Native IDE 中，右键点击即可检查组件层次结构并跳转到源码？](https://x.com/kzzzf/status/1781334337960493100)
- 🐦 [又一周，Evan Bacon 的又一个大胆尝试：预编译 React Native](https://x.com/Baconbrix/status/1782454818851663918)
- 🗓 [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - 🇵🇱 克拉科夫 - 5月22日至24日。使用代码 "TWIR" 获取[10% 折扣](https://ti.to/appjs/2024/discount/TWIR)。
- 📜 [新 Expensify 应用中的 New Architecture 迁移实践](https://blog.swmansion.com/sunrising-new-architecture-in-the-new-expensify-app-729d237a02f5)：看到复杂的开源应用适配 New Arch 非常棒。值得研究的优秀案例！
- 📜 [React Native 的 Apple 隐私清单](https://dev.to/dannyhw/apple-privacy-manifest-for-react-native-29fk)：之前提过 Apple 隐私清单要求；终于有博文完整总结该主题。
- 📜 [Expo 博客：通过 expo-quick-actions 防止用户删除你的应用](https://expo.dev/blog/expo-quick-actions)
- 📜 [使用手绘 SVG 创建 React Native "弧形底部导航栏"](https://kyleshevlin.com/react-native-curved-bottom-bar-with-handwritten-svg/)
- 📜 [使用 React Native 探索 VisionOS 应用开发](https://geekyants.com/blog/exploring-visionos-apps-with-react-native)
- 📜 [微软即将停用 App Center：React Native 开发者的替代方案](https://shift.infinite.red/microsoft-is-retiring-app-center-heres-what-react-native-developers-should-use-instead-c2a8786f971e)
- 📦 [React Native VisionCamera V4：使用 Skia 直接在相机帧上绘制，修复大量 Android 问题](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v4.0.0)：还有精彩[demo](https://github.com/mrousavy/FaceBlurApp)展示功能！
- 📦 [react-native-svg 15.2.0 新增对 New Architecture 下 RN 0.74 的支持](https://github.com/software-mansion/react-native-svg/releases/tag/v15.2.0)
- 🎙️ [RNR 294 - 再见，App Center！](https://reactnativeradio.com/episodes/rnr-294-rip-app-center-and-other-news)
- 🎙 [Rocket Ship 39 - 获奖信用卡应用 Yonder 与 Henry Moulton](https://podcast.galaxies.dev/episodes/039-award-winning-credit-card-app-yonder-with-henry-moulton)
- 🎥 [React Native Show 播客：Coffee Talk 18 - React Native 0.74 发布幕后](https://www.youtube.com/watch?v=bLHubdUE2Ew)
- 🎥 [Simon Grimm - 使用 Supabase Realtime 和 Skia 实现 React Native 多人功能](https://www.youtube.com/watch?v=rqbu-nGkOgw)
- 🎥 [Oscar Franco - React Native 无桥模式入门指南](https://www.youtube.com/watch?v=K5HBIKAjZ4U)

---

## 🔀 其他 {#other}

- 🐦 [Fetch API 现已内置超时支持功能](https://x.com/goenning/status/1781290404211814903)
- 📜 [信号中继技术解析](https://www.pzuraq.com/blog/on-signal-relays)
- 📜 [WebKit：邀您共创 CSS Grid Level 3（即"Masonry"布局）](https://webkit.org/blog/15269/help-us-invent-masonry-layouts-for-css-grid-level-3/)
- 📜 [JavaScript 开发者的 TSConfig 入门指南](https://deno.com/blog/intro-to-tsconfig)
- 📜 [Vercel：前端开发者必须了解的延迟数据](https://vercel.com/blog/latency-numbers-every-web-developer-should-know)
- 📖 [2024 年前端开发工程师手册——现代 Web 开发指南（免费电子书）](https://frontendmasters.com/blog/front-end-developer-handbook-2024/)
- 📦 [Chrome 125 beta：支持 CSS 锚点定位、CSS 阶梯函数等](https://developer.chrome.com/blog/chrome-125-beta?hl=en)
- 📦 [ESLint v9.1 发布](https://eslint.org/blog/2024/04/eslint-v9.1.0-released/)
- 📦 [Electron 30.0 发布](https://www.electronjs.org/blog/electron-30-0)

---

## 🤭 趣闻 {#fun}

[![Vercel 更新了品牌标志](/emails/issues/183/meme.jpg)](https://twitter.com/RhysSullivan/status/1780822966349266957)

[![Vercel 更新了品牌标志](/emails/issues/183/meme2.jpg)](https://twitter.com/bentonnnnnn/status/1781186098800267421)

下次见！👋