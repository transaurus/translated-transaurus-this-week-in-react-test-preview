---
slug: /195
title: "This Week In React #195: Compiler, Refactoring components, XState Store, Next.js, Redwood, Vitale, Astro, LLMs, Astro, DÃ©dale, XR, tldraw, RN + Amazon, RN new styles, Gesture Handler, Reanimated, TC39, Node, TypeScript..."
authors: [slorber]
date: 08-07-2024
---

å¤§å®¶å¥½ï¼

React ç¤¾åŒºåº¦è¿‡äº†å¹³é™çš„ä¸€å‘¨ã€‚è™½ç„¶æ²¡æœ‰é‡å¤§å‘å¸ƒï¼Œä½†æ¶Œç°äº†è®¸å¤šä¼˜è´¨çš„ç¤¾åŒºæŠ€æœ¯æ–‡ç« å€¼å¾—é˜…è¯»ã€‚

Node.js v22.6 å·²å‘å¸ƒï¼Œæ”¯æŒå®éªŒæ€§ TypeScript åŠŸèƒ½ï¼ğŸ‰

æ¬¢è¿å…³æ³¨æˆ‘ä»¬çš„åˆä½œä¼™ä¼´ [React Universe Conf](https://www.reactuniverseconf.com/?utm_source=thisweekinreact) (ğŸ‡µğŸ‡± æ³¢å…°å¼—ç½—èŒ¨ç“¦å¤« - 9æœˆ5-6æ—¥)ï¼Œè¯¥ä¼šè®®å‰èº«ä¸º React Native EUã€‚ä½¿ç”¨ä¼˜æƒ ç  "TWIR" å¯äº« 9 æŠ˜ä¼˜æƒ ã€‚ä»Šå¹´çš„æ¼”è®²å˜‰å®¾é˜µå®¹å ªç§°è±ªåï¼

<!-- truncate -->

**ğŸ’¡ [åœ¨ Twitter æŸ¥çœ‹æœ¬æœŸç®€æŠ¥](https://slo.im/thread) - å¯è§†åŒ–æ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ èµåŠ©å•† {#sponsor1}

[![WorkOSï¼šé¢å‘ B2B SaaS çš„ç°ä»£èº«ä»½å¹³å°](/emails/issues/195/workOS.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q32024)

**[WorkOSï¼šé¢å‘ B2B SaaS çš„ç°ä»£èº«ä»½å¹³å°](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q32024)**

é€šè¿‡ WorkOSï¼Œä»…éœ€å°‘é‡ä»£ç å³å¯å¯åŠ¨é¢å‘ä¼ä¸šå®¢æˆ·çš„é”€å”®ä¸šåŠ¡ã€‚

ğŸ” WorkOS AuthKit æä¾›å®Œæ•´çš„ç”¨æˆ·ç®¡ç†æ–¹æ¡ˆï¼Œæ”¯æŒ **SSOã€SCIMã€RBAC å’Œ FGA**ã€‚

ğŸ—ï¸ API è®¾è®¡**çµæ´»æ˜“ç”¨ä¸”æ¨¡å—åŒ–**ï¼Œå¯æŒ‰éœ€é€‰æ‹©åŠŸèƒ½å¹¶å®ç°åˆ†é’Ÿçº§é›†æˆã€‚

ğŸ¨ è®¾è®¡ä½“éªŒè‡³å…³é‡è¦ã€‚ä»æ–‡æ¡£è´¨é‡åˆ°ç”¨æˆ·å¼•å¯¼æµç¨‹ï¼Œæˆ‘ä»¬**ä¸ºå¼€å‘è€…æ¶ˆé™¤äº†æ‰€æœ‰ä¸å¿…è¦çš„å¤æ‚æ€§**ã€‚

âœ¨ AuthKit **å‰ 100 ä¸‡æœˆæ´»ç”¨æˆ·å…è´¹**ï¼ŒåŒ…å«æœºå™¨äººé˜²æŠ¤ã€MFAã€RBAC ç­‰åŠŸèƒ½ã€‚

ğŸ¤ WorkOS å·²è· **Perplexity**ã€**Vercel** å’Œ **Webflow** ç­‰æ•°ç™¾å®¶é¢†å…ˆåˆåˆ›ä¼ä¸šä¿¡ä»»ã€‚

[ç«‹å³å¼€å§‹ä½¿ç”¨ WorkOS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q32024) ğŸš€

---

## âš›ï¸ React {#react}

- ğŸ’¸ [Reactile â€“ a new approach to React-based web apps. Create your own views. Let it handle your windows and widgets in a single browser tab](https://www.reactile.net/?utm_source=reactnewsletter)
- ğŸ¦ [Zuckerberg calling out React as one of Metaâ€™s major open source initiatives](https://x.com/Vjeux/status/1818766264833392763)
- ğŸ¦ [Visual editing with ReactBricks using RSC](https://x.com/rauchg/status/1819383553668370440)
- ğŸ“– [Revised â€Redux Essentials" tutorial](https://redux.js.org/tutorials/essentials/part-1-overview-concepts)
- ğŸ—“ï¸ [React-Africa](https://react-africa.com/?utm_source=thisweekinreact) - ğŸ‡²ğŸ‡¦ Casablanca - 29 November - Line up is online, check, and apply a 10% discount on tickets with code TWIR !
- ğŸ“œ [React Compiler, How Does It Work?](https://yongseok.me/blog/en/react_compiler_1/): A 4-part series going really deep on the React Compiler code, explaining the Babel Plugin, useMemoCache, HIR/SSA transformations. Thatâ€™s a lot of implementation details to read, and very technical, but there are also great overviews that describe the main algorithms at the end of each post. It operates on individual functions, with an AST â€œloweredâ€ to a Hight-level Intermediate Representation (HIR) that also permits to decouple the compiler from Babel. A quite advanced piece of technology!
- ğŸ“œ [Avoiding premature abstraction with Unstyled React Components](https://buildui.com/posts/avoiding-premature-abstraction-with-unstyled-react-components): Sam refactors a concrete Form button to a headless LoadingButton abstraction that remains flexible and doesnâ€™t prematurely abstract styling. I agree, and once time comes you can still create another styled abstraction on top.
- ğŸ“œ [Common Sense Refactoring of a Messy React Component](https://alexkondov.com/refactoring-a-messy-react-component/): Alex explains his process to refactor a bloated real-world Form component. I do the same: extracting sub-components, custom hooks, and helper code from the main component usually improves clarity.
- ğŸ“œ [Introducing XState Store](https://tkdodo.eu/blog/introducing-x-state-store): Dominik (React Query) likes Zustand, but explains why he now finds XState Store a more compelling option. Itâ€™s quite similar but more opinionated (separate state/actions, event-drivenâ€¦). Daishi answered you can get a similar interface with his new [Zustand-xs middleware](https://github.com/zustandjs/zustand-xs). I explained ([tweet](https://x.com/sebastienlorber/status/1821166302469194062)) why Iâ€™m not always a fan of an event-driven interface.
- ğŸ“œ [Using Notion as my CMS with Next.js](https://jordaneldredge.com/notes/notion-cms/): Describes a setup to reduce the friction of creating and publishing notes. Notion content is first converted as Markdown, and then renderer in a Next.js app.
- ğŸ“œ [Next.jsâ€™s unstable_cache() demystified](https://jordaneldredge.com/notes/unstable_cache/): Some notes on the dangers of returning classes, and a link to an interesting related article/package listing even more caching gotchas.
- ğŸ“œ [Build your own React state management library in under 40 lines of code](https://paripsky.github.io/blog/build-your-own-react-state-management/): Creates a custom external store and reads it in React withâ€¦ useSyncExternalStore + 2 improvement suggestions such as adding an Immer integration.
- ğŸ“œ [GitHub Vitale - Live notebooks in VS Code for JavaScript/TypeScript, web development, and AI experimentation](https://githubnext.com/projects/vitale/): The GitHub Next team introduced a new Notebook technology (like Jupyter) for interactive exploratory coding based on Vite. It supports rendering a React component in a notebook cell.
- ğŸ“œ [Frontend Security Checklist](https://www.trevorlasn.com/blog/frontend-security-checklist): Includes examples of mitigating XSS and CSRF attacks in a React context.
- ğŸ“œ [The Art of Dithering and Retro Shading for the Web (with React Three Fiber)](https://blog.maximeheckel.com/posts/the-art-of-dithering-and-retro-shading-web/)
- ğŸ”¨ [DÃ©dale - Email template development environment, based on React Email](https://bireme.io/en/blog/announcing-dedale)
- ğŸ“¦ [Redwood 8.0 RC](https://github.com/redwoodjs/redwood/releases/tag/v8.0.0-rc.1114): New version of the full-stack React framework is now in release candidate. It adds SSR and RSC support (experimental), Vite 5, Prettier 3. See the [v8 upgrade guide](https://community.redwoodjs.com/t/redwood-v8-0-0-upgrade-guide/7250). They also plan to introduce soon a Background Jobs feature.
- ğŸ“¦ [Vercel AI SDK 3.3 - useChat() supports file attachments, useObject() streams structured data](https://vercel.com/blog/vercel-ai-sdk-3-3): With structured data based on Zod schemas, LLMs are getting easier to use for devs. Note that [OpenAI also announced support for structured output with Zod support](https://openai.com/index/introducing-structured-outputs-in-the-api/)!
- ğŸ“¦ [Astro 4.13 - stable request rewriting, stable content collections JSON schemas](https://astro.build/blog/astro-4130/)
- ğŸ“¦ [react-three/xr 6.1 - WebXR Anchor API, Hit Testing API, DOM Overlay API, experimental Emulator](https://github.com/pmndrs/xr/releases/tag/v6.1.0)
- ğŸ“¦ [Tldraw sync - self-hostable real-time collaboration engine for React whiteboard drawing app](https://tldraw.substack.com/p/announcing-tldraw-sync)
- ğŸ¥ [Theo - Server Islands are really cool](https://www.youtube.com/watch?v=uBxehYwQox4)
- ğŸ¥ [Jack Herrington - NextJS Feature Flagging Made Easy](https://www.youtube.com/watch?v=M1Rj1xSm3SM)
- ğŸ¥ [UI Engineering - Why React is Declarative?](https://www.youtube.com/watch?v=TVmRuP0_RGM)
- ğŸ¥ [Expo - What React devs need to know about React Native](https://www.youtube.com/live/iB7sc-fzpWw)
- ğŸ™ï¸ [Syntax - Why the jQuery Creator Uses React and Typescript - John Resig](https://syntax.fm/show/800/why-the-jquery-creator-uses-react-and-typescript-john-resig?utm_source=thisweekinreact)
- ğŸ™ï¸ [This Month in React - July 2024 - State of JS, React, HTML](https://podcasters.spotify.com/pod/show/reactiflux/episodes/TMiR-2024-07-State-of-JS--React--HTML-e2mplrc)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ èµåŠ©å•† {#sponsor2}

[![ç›¸çº¦ React Universe Conf 2024 ](/emails/issues/195/callstack.jpg)](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter)

**[ç›¸çº¦ React Universe Conf 2024](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter)**

[React Universe Conf](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter) æ˜¯ä¸€åœºä¸ºæœŸä¸¤å¤©ã€åœ¨æ¬§æ´²ä¸­å¿ƒåœ°å¸¦ä¸¾åŠçš„ç²¾å½©ç››ä¼šï¼Œèšç„¦å­¦ä¹ ã€äº¤æµä¸åˆ›æ–°ã€‚å‰èº«ä¸º React Native EUï¼Œ[React Universe Conf](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter) å¦‚ä»Šå·²æˆä¸º React å’Œ React Native çˆ±å¥½è€…çš„ç»ˆæèšä¼šã€‚ä»Šå¹´æœ‰å“ªäº›äº®ç‚¹ï¼Ÿ

- **å¼ºå¤§é˜µå®¹ï¼š** Dan Abramovã€Evan Baconã€Kent C. Doddsã€Delba de Oliveiraã€Marc Rousavy ç­‰ä¼—å¤šé¡¶å°–æ¼”è®²è€…
- **å‰æ²¿è®®é¢˜ï¼š** æ–°æ¶æ„ã€React Server Componentsã€Static Hermes åŠ Out-of-Tree å¹³å°
- **å®è·µæ´è§ï¼š** å…³äºä½¿ç”¨ React Native è¿›è¡Œè·¨å¹³å°åº”ç”¨å¼€å‘çš„å®ç”¨æŒ‡å—

ä½¿ç”¨ä¼˜æƒ ç  **TWIR** å¯äº«é—¨ç¥¨ **9æŠ˜ä¼˜æƒ **ã€‚ç«‹å³[é¢„è®¢å¸­ä½](https://www.reactuniverseconf.com/?utm_campaign=RUC%202024%20-%20TWIR%20Nesletter&utm_source=RUC%202024%20-%20TWIR%20Nesletter&utm_medium=TWIR%20NesletterOrganic&utm_content=TWIR%20Nesletter)ï¼Œæˆ‘ä»¬åœ¨å¼—ç½—èŒ¨ç“¦å¤«ä¸è§ä¸æ•£ï¼

---

## ğŸ“± React-Native {#react-native}

æœ¬ç‰ˆå—ç”± [Benedikt](https://twitter.com/bndkt) æ’°å†™ã€‚

- ğŸ’¸ [React Native Mastery - æŒæ¡ React Native å’Œ Expo çš„å”¯ä¸€è¯¾ç¨‹](https://notjust.dev/react-native-mastery?utm_source=twir&utm_medium=email)
- ğŸ¦ [ä¸ºä»€ä¹ˆ Hermes å›¢é˜Ÿæ›´å€¾å‘äº JSI NativeState è€Œé HostObject](https://x.com/tmikov/status/1820266381545468200)
- ğŸ¦ [å®éªŒæ€§ tree shaking æ”¯æŒå·²ç™»é™† Expo](https://x.com/baconbrix/status/1816488585409052925)ï¼šåœ¨ SDK 52 ä¸­å®éªŒæ€§å¯ç”¨ï¼ˆå½“å‰ä¸º canary ç‰ˆæœ¬ï¼‰
- ğŸ¦ [å³å°†ç™»é™† React Native çš„æ ·å¼ - çº¿æ€§æ¸å˜ã€ç›’é˜´å½±ã€CSS æ»¤é•œã€ç™¾åˆ†æ¯” flex é—´éš™](https://x.com/Baconbrix/status/1821039004671741984)
- ğŸ‘€ [React Native PR - åœ¨å®éªŒæ€§ backgroundImage æ ·å¼å±æ€§ä¸‹ä¸º React Native æ·»åŠ çº¿æ€§æ¸å˜](https://github.com/facebook/react-native/pull/45434)
- ğŸ“œ [ä» JS åˆ° Fire OS - é¢å‘ Amazon è®¾å¤‡çš„ React Native](https://dev.to/amazonappdev/get-started-with-react-native-for-amazon-fire-os-51j8)ï¼šæé†’ï¼šRN å¯ç”¨äºä¸º Fire å¹³æ¿å’Œ Fire TV æ„å»ºåº”ç”¨ï¼Œå› ä¸º Fire OS åŸºäº Androidã€‚
- ğŸ“œ [React Native ä¸­çš„ç”µè§†å¯¼èˆªï¼šä½¿ç”¨ TVFocusGuideView çš„æŒ‡å—](https://dev.to/amazonappdev/tv-navigation-in-react-native-a-guide-to-using-tvfocusguideview-302i)ï¼šæˆ‘å¯¹ RN åœ¨æ‰‹æœºå’Œå¹³æ¿ä¹‹å¤–çš„é¢†åŸŸæ„Ÿåˆ°éå¸¸å…´å¥‹ï¼Œå› æ­¤ç‰¹åˆ«æ¬£èµè¿™ç±»æŒ‡å¯¼å¦‚ä½•æœ€ä½³åˆ©ç”¨å¹³å°ç‰¹å®šè¡Œä¸ºï¼ˆå¦‚æœ¬æ–‡é’ˆå¯¹ tvOS å’Œ Android TVï¼‰çš„æ–‡ç« ã€‚
- ğŸ“œ [ä½¿ç”¨ Quick Look è¿›è¡Œ Xcode UI è°ƒè¯•](https://www.oskarkwasniewski.dev/blog/xcode-quick-look-debugging)ï¼šè‹¥æ‚¨é¢‘ç¹ä½¿ç”¨ Xcode ä¼šéå¸¸å®ç”¨ï¼ˆæˆ‘ä¸ç”¨ ğŸ˜…ï¼‰ã€‚
- ğŸ“œ [Chain React 2024 å‚ä¼šè§é—»ï¼ˆåŠå‚ä¼šæŠ€å·§ï¼‰](https://dev.to/amazonappdev/my-visit-to-chain-react-2024-nfj)ï¼šè­¦å‘Š - è‹¥æ‚¨æœªäº²ä¸´ Chain Reactï¼Œæœ¬æ–‡å¯èƒ½å¼•å‘ä¸¥é‡ FOMOï¼ˆé”™å¤±ææƒ§ç—‡ï¼‰ï¼Œä½†æˆ‘ä»ä¹åœ¨å…¶ä¸­ã€‚
- ğŸ“¦ [React Native 0.75.0-rc.7 - å°† CLI æ›´æ–°è‡³ 14.0](https://github.com/facebook/react-native/releases/tag/v0.75.0-rc.7)
- ğŸ“¦ [React Native 0.74.5 - å°ä¿®å¤](https://github.com/facebook/react-native/releases/tag/v0.74.5)
- ğŸ“¦ [react-native-gesture-handler 2.18.0 - æ–°å¢ç‹¬ç«‹ç»„ä»¶ ReanimatedSwipeableï¼Œå¤šé¡¹æ”¹è¿›åŠæ”¯æŒ RN 0.75](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.18.0)
- ğŸ“¦ [react-native-svg 15.5.0 - å°ç‰ˆæœ¬æ›´æ–°ï¼šæ–°å¢æ»¤é•œã€FilterImage ç»„ä»¶çš„ CSS æ»¤é•œ API åŠå¤šé¡¹é”™è¯¯ä¿®å¤](https://github.com/software-mansion/react-native-svg/releases/tag/v15.5.0)
- ğŸ“¦ [react-native-reanimated 3.15.0 - æ–°å¢ ReducedMotionConfig/EntryExitTransition/CurvedTransitionï¼Œæ”¯æŒ RN 0.75 åŠå¤§é‡ä¿®å¤](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.15.0)
- ğŸ¥ [Simon Grimm - React Native æœåŠ¡å™¨å®šä¹‰æ¸²æŸ“](https://www.youtube.com/watch?v=-6Mrar0r3kg)
- ğŸ¥ [Reactiiive - Jotai ä¸ MMKV èƒŒåçš„ç§˜å¯†ï¼ˆReact Nativeï¼‰](https://www.youtube.com/watch?v=-AR2PN38ovo)
- ğŸ¥ [notJust.dev - ä½¿ç”¨ React Native å’Œ Reanimated æ„å»º iOS 18 ç…§ç‰‡åº”ç”¨](https://www.youtube.com/watch?v=pZHRFNpYkAY)
- ğŸ™ï¸ [PodRocket - åœ¨ Expo Router ä¸­ä½¿ç”¨ RSCï¼ˆä¸ Evan Bacon å¯¹è°ˆï¼‰](https://podrocket.logrocket.com/using-rscs-expo-router-evan-bacon)

---

## ğŸ”€ å…¶ä»– {#other}

- ğŸ¦ [TC39 ç¬¬103æ¬¡ä¼šè®® - `RegExp.escape` è¿›å…¥é˜¶æ®µ3ï¼Œå¹¶å‘æ§åˆ¶ + æ— åºå¼‚æ­¥è¿­ä»£å™¨è¾…åŠ©åŠŸèƒ½è¿›å…¥é˜¶æ®µ1](https://x.com/robpalmer2/status/1819051033215049742)
- ğŸ“œ [Google åœ¨æ•´ä¸ªç´¢å¼•è¿‡ç¨‹ä¸­å¦‚ä½•å¤„ç† JavaScript](https://vercel.com/blog/how-google-handles-javascript-throughout-the-indexing-process)
- ğŸ“œ [ä¸ºä»€ä¹ˆ Unknown ç±»å‹å¾ˆæœ‰ç”¨](https://michaeluloth.com/programming-types-unknown-why-useful/)
- ğŸ“œ [TypeScript çš„å¦ä¸€ç§æ€è€ƒæ–¹å¼](https://www.rob.directory/blog/a-different-way-to-think-about-typescript)
- ğŸ“œ [å¦‚æœå¯¹...æ‰€æœ‰å†…å®¹éƒ½ä½¿ç”¨å®¹å™¨å•ä½ä¼šæ€æ ·ï¼Ÿ](https://frontendmasters.com/blog/what-if-you-used-container-units-for-everything/)
- ğŸ“œ [Effect æœ€ä½³å®è·µ](https://ethanniser.dev/blog/effect-best-practices/)
- ğŸ“¦ [Node v22.6.0 - é™„å¸¦å®éªŒæ€§ TypeScript æ”¯æŒ](https://nodejs.org/en/blog/release/v22.6.0)
- ğŸ“¦ [Rslib - ç”± Rsbuild é©±åŠ¨çš„åº“æ„å»ºå·¥å…·](https://github.com/web-infra-dev/rslib)
- ğŸ“¦ [Nx 19.5 - æ–°å¢ Stackblitzã€Bunã€Pnpm 9 æ”¯æŒï¼ŒVite å¢é‡æ„å»ºï¼ŒGradle æµ‹è¯•åŸå­åŒ–](https://nx.dev/blog/nx-19-5-adds-stackblitz-new-features-and-more)

---

## ğŸ¤­ è¶£é—» {#fun}

[![alt](/emails/issues/195/meme.jpg)](https://x.com/ryanflorence/status/1820284287356383321)

[![alt](/emails/issues/195/meme2.jpg)](https://x.com/jaredpalmer/status/1819165228052996209)

å†è§ï¼ ğŸ‘‹