---
slug: /138
title: "This Week In React #138: React-Router, Rspack, RSC, Storybook, Astro, Million, Superflare, Tremor, React-Email, Ink, Metro, VisionCamera, Jest, Proto..."
authors: [slorber]
date: 03-14-2023
---

大家好！

当大家都在玩 GPT-4 时，我依然在为你阅读 React 文章！

React-Router 中的新 `lazy` 功能看起来非常有用，可以避免瀑布流问题。

基于 Rust 的 Rspack 打包工具刚刚发布了。

我想为这份通讯创建一个推荐计划，目的是鼓励你与朋友分享，并在新订阅者加入时给予奖励。你有什么建议我可以提供什么吗？

我想到：

- +1 位订阅者 - 获取我的有史以来十大 React 文章
- +3 位订阅者 - 获取一个整理良好的优质文章数据库，按标签和评分排序
- +5 位订阅者 - 在 Twitter 或 LinkedIn 上公开致谢
- +10 位订阅者 - 在通讯中刊登你的招聘信息
- +30 位订阅者 - 从 Just JavaScript（Dan Abramov）、Three.js Journey（Bruno Simon）等中选择一门课程
- +50 位订阅者 - 一小时 React 咨询

选择提供什么并不容易 😅。从管理数字产品开始更简单，但我不排斥实体产品（贴纸、袜子、运动鞋、背包、马克杯等）。

你能直接回复这封邮件告诉我你的意见，并告诉我什么最能激励你吗？

<!-- truncate -->

**💡 [在 Twitter 上查看这份通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Suncel](/emails/issues/136/suncel.jpg)](https://suncel.io/)

**[构建可复用区块。更快发布内容。获得更好的 Core Web Vitals 和 SEO。](https://suncel.io/)**

**内容编辑**：对于需要大量内容产出并有强大 SEO 策略的公司来说，这是一个改变游戏规则的工具。营销人员和内容编辑可以毫无复杂度地编辑和发布页面。消除长时间延迟，即时发布。页面和图像通过 Next.js 进行优化，以实现完美的 Core Web Vitals 分数。

**开发者：** 即插即用，与你现有的 Next.js 应用集成。作为开发者使用 Suncel CMS 的诸多优势：

- 在 React 中构建可复用区块
- SEO 元数据和站点地图自动生成（感谢我们的 SEO 模块）
- 在 React 中创建自定义设置
- 管理员界面可在 React 中自定义
- 无需路由系统即可适配 CMS

**[访问 Suncel.io](https://suncel.io/)** | **[5 分钟演示视频](https://www.youtube.com/watch?v=LUupLEZKp3w)**

---

## ⚛️ React {#react}

[![React Router 6.4+ 中的惰性加载路由](/emails/issues/138/reactrouterlazy.jpg)](https://remix.run/blog/lazy-loading-routes)

**[React Router 6.4+ 中的惰性加载路由](https://remix.run/blog/lazy-loading-routes)**

[React-Router 6.9](https://github.com/remix-run/react-router/releases/tag/react-router%406.9.0) 刚刚发布，它带来了一项新的惰性路由功能，可避免瀑布流问题，并优化应用的加载时间。这就是 Remix 的工作原理，但现在你可以在任何基于 React-Router 的应用中使用该技术。我个人计划在 Docusaurus（基于 React-Router）中使用它。

---

- 👀 [React Flight PR - Add Reply Encoding](https://github.com/facebook/react/pull/26360): streaming support for server => client.
- 👀 [Integrating Remix Router with React Transitions](https://twitter.com/dan_abramov/status/1634300734094057472): Dan Abramov suggests using `startTransition` in Remix. Suspended components outside `<Suspense>` boundaries should block the transition.
- 🧵 [Dan Abramov - "if you’re not composing GraphQL fragments from multiple components into one query \[...\] you’re missing 80% of the point of GraphQL"](https://twitter.com/dan_abramov/status/1634968234821844992): interesting discussions about Relay this week. Although quite intimidating, this GraphQL client has many advantages compared to simpler solutions (colocation, data masking...).
- 🧵 [70% of Docusaurus sites have good Core Web Vitals](https://twitter.com/sebastienlorber/status/1635661211579580429): my little rant because Docusaurus is often forgotten in the list of React meta-frameworks despite a high usage and good performance.
- 📜 [The Great Gaslighting of the JavaScript Era](https://www.spicyweb.dev/the-great-gaslighting-of-the-js-age/): violent criticism of React 😅 I don't share the same opinion and think that React developers are generally aware of the tradeoffs they make.
- 📜 [Client-side JavaScript and React criticism: What comes next?](https://molily.de/javascript-criticism/): more nuanced criticism, but I don't think React and progressive enhancement are incompatible, Remix is a good example.
- 📜 [State in React is Immutable](https://reacttraining.com/blog/state-in-react-is-immutable): good intro to the immutable model in React.
- 📜 [Where did Hooks come from?](https://reacttraining.com/blog/where-did-hooks-come-from): goes back to understand why we use hooks today. New React developers are not always aware of the problems encountered a few years ago.
- 📜 [Fine-tuning refs with useImperativeHandle](https://prateeksurana.me/blog/fine-tuning-refs-with-useimperativehandle/): good intro for this hook that allows a React component to expose an imperative API to its parents.
- 📜 [My experience learning React, web standards, and Remix](https://andre-landgraf.dev/blog/2023-03-11_web_standards_and_react): back to simplicity, less `useState` and more fullstack.
- 📜 [Send emails using React and Tailwind CSS](https://resend.com/blog/tailwind-with-react-email): React-Email now supports Tailwind classes.
- 📜 [Elegantly managing state and renders in React](https://remotion.com/blog/untangling-state-in-react):highlights how the batching of updates works, which can be surprising at first.
- 📜 [A Brief History of Reactivity](https://www.builder.io/blog/history-of-reactivity): compares the reactive model of various frameworks, including React (coarce-grain reactivity).
- 📜 [The Most Popular Node.js Frameworks in 2023](https://stackdiary.com/node-js-frameworks/)
- 📜 [Full-Stack TypeScript with tRPC and React](https://www.robinwieruch.de/react-trpc/)
- 📜 [Beautiful and mind-bending effects with WebGL Render Targets](https://blog.maximeheckel.com/posts/beautiful-and-mind-bending-effects-with-webgl-render-targets/)
- 🎥 [RSC with Dan Abramov and Joe Savona Live Stream](https://kentcdodds.com/blog/rsc-with-dan-abramov-and-joe-savona-live-stream)
- 🎥 [React's place in the frontend ecosystem](https://www.youtube.com/watch?v=GHRkN_G5BMc)
- 🎥 [Ranking every Full Stack Framework (By...TypeSafety?)](https://www.youtube.com/watch?v=zADNdGVIPBY)
- 🎥 [Unlock the Power of AI with Defer and NextJS 13 - UI Magic!](https://www.youtube.com/watch?v=kHsTp2LENUI)
- 📦 [Ink 4.0](https://github.com/vadimdemedes/ink/releases/tag/v4.0.0): the React renderer for CLI is now under React 18 and ESM.
- 📦 [Koestlich](https://twitter.com/coconut_xr/status/1633770307470098434): a "3D UI-kit" based on React-Three-Fiber.
- 📦 [Storybook 7.0 RC](https://github.com/storybookjs/storybook/releases/tag/v7.0.0-rc.0): API framework with Next.js support Component Story Format 3, MDX 2... See also the conf [Storybook Day 2023](https://www.youtube.com/watch?v=P0hJm5v8TJw)
- 📦 [Astro 2.1](https://astro.build/blog/astro-210/): Image component, Markdoc support.
- 📦 [Million 2.0](https://twitter.com/aidenybai/status/1634060432372813829): a virtual DOM based on the concept of "blocks" compatible with React and which can make it 70% faster 🤔
- 📦 [SWR 2.1](https://github.com/vercel/swr/releases/tag/v2.1.0): useSWRSubscription + useSWRInfinite parallel option
- 📦 [Superflare](https://superflare.dev/): fullstack toolkit for Cloudflare Workers with support for D1, R2, Session, Queues... integration with Remix, and soon Next.js?
- 📦 [Tremor 2.0](https://twitter.com/tremorlabs/status/1635064912153284609): UI lib to create dashboards, now based on Tailwind CSS.
- 📦 [next-route-visualizer](https://github.com/DiiiaZoTe/next-route-visualizer)
- 📦 [Radix - new Form primitive](https://twitter.com/radix_ui/status/1633483912755261443)
- 📦 [Nodl 1.0](https://twitter.com/emilwidlund/status/1634804041397022720)
- 📦 [Framer-Motion 10.3](https://twitter.com/mattgperry/status/1635641473319280646)
- 🐦 [Node.js site now using Next.js](https://twitter.com/leeerob/status/1633595208448311296)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![Surveyjs - 用于调查和表单的可扩展 JavaScript 库](/emails/issues/136/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)

**[用于调查和表单的可扩展 JavaScript 库](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)**

[SurveyJS](https://surveyjs.io/form-library?utm_source=thisweekinreact&utm_medium=referral) 是一套开源的 JavaScript 表单库，可轻松集成到 Web 应用中。它支持**创建和运行多个表单**，所有敏感数据保留在您的服务器上，或让非技术人员直接使用**自主托管的所见即所得表单构建器**。

您还可以在自定义仪表板中**分析调查结果**，将表单保存为 PDF 文件，或直接**转换为可编辑的 PDF 文件**。提供**对 React 和 Angular 渲染的原生支持**，后端选择完全自由，因为**任何服务器+数据库组合均可兼容**。

---

## 📱 React-Native {#react-native}

- 📜 [在 React Native 中构建流畅的共享元素过渡效果](https://mrousavy.com/blog/Shared-Element-Transitions-in-React-Native)：Reanimated 3 中共享元素过渡的优质入门指南，使用灵活且支持通过 worklet 自定义过渡效果
- 📜 [Android 相机 API](https://mrousavy.com/blog/Camera-APIs-on-Android)：Marc Rousavy 解析 Android 相机管理复杂性，VisionCamera v3 将回归 Camera2 并暂弃 CameraX
- 📜 [Shopify Tophat - 打造愉悦的移动开发者体验](https://shopify.engineering/shopify-tophat-mobile-developer-testing)：Shopify 自研的移动开发体验工具，类似 Expo 但非 React Native 专属
- 📜 [Expo - EAS Build 将默认使用 M1/M2 进行 iOS 构建](https://blog.expo.dev/eas-build-will-default-to-m1-m2-for-ios-builds-24208008a68d)：Expo 采用 Apple silicon 构建器，iOS 构建时间减少 40%（M1）和额外 10%（M2）
- 📜 [微软 - 为 React Native Windows 应用添加 Jest 快照测试](https://devblogs.microsoft.com/react-native/2023-03-02-adding-snapshot-testing-to-rnw-apps/)
- 📜 [使用 React Native VisionCamera：演示与替代方案](https://blog.logrocket.com/react-native-visioncamera-demo-alternatives/)
- 🧑‍🎓 [桥接教程 - 在 React Native 应用中使用任意平台 API](https://mateusz1913.github.io/rnbridgingtutorial/)：创建原生模块的完整指南
- 🎙️ [RNR 262 - Maestro：移动端 UI 测试的终极解决方案](https://reactnativeradio.com/episodes/rnr-262-maestro-the-app-solute-solution-for-mobile-ui-testing)
- 📦 [Metro 0.76](https://github.com/facebook/metro/releases/tag/v0.76.0)：移植 Webpack API [支持代码分割](https://twitter.com/sebastienlorber/status/1635671177082417158)，将被 Expo Router 采用
- 👀 [Expo Web 全局 CSS 支持](https://twitter.com/Baconbrix/status/1633562265189326855)

---

## 🧑‍💻 职位 {#jobs}

🧑‍💼 [**Callstack - 高级 React Native 开发人员 - 完全远程，B2B 月净收入 21-32k 波兰兹罗提**](https://www.callstack.com/senior-react-native-developer)

你想在世界最流行的应用上工作吗？你想共同创建 React Native 技术吗？加入 Callstack 的 React 和 React Native 领导者团队。查看我们的网站获取更多详情。我们期待看到你的申请——向我们展示你的实力吧！

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们有几个专注于 React Native 的开发职位空缺！薪资约为16万美元外加10%的奖金。你必须有 RN 的生产经验且位于美国。私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解更多，别忘了提及 This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

[![Rspack](/emails/issues/138/rspack.jpg)](https://www.rspack.dev/)

**[Rspack](https://www.rspack.dev/)**

字节跳动的 Rust 打包工具正式发布，与 Webpack 兼容但速度更快。在 Rspack 和 Turbopack 之间做选择将会很困难，后者也宣布了[即将支持 Webpack 加载器](https://twitter.com/jaredpalmer/status/1619071988181651456)。请注意，[Unplugin 1.3](https://twitter.com/antfu7/status/1634517321392726017) 已经支持 Rspack，并允许创建与打包器无关的插件。目前还没有 Unplugin 对 Turbopack 的支持，但我希望这已在计划中！

另请阅读 [Rspack: 结合高性能与互操作性的 Rust Web 打包器](https://valor-software.com/press-release/rs-pack-rust-based-web-bundler)

---

- [Jest 29.5](https://github.com/facebook/jest/releases/tag/v29.5.0)：CLI `--randomize` 选项。
- [CSS Nesting](https://developer.chrome.com/articles/css-nesting/)：已在 Chrome 112 中落地！
- [Proto, 新一代工具链管理器](https://moonrepo.dev/blog/proto)：管理 Node.js 运行时的新替代方案（但不限于此），可替代 fnm 或 Volta。
- [SPA 视图转换登陆 Chrome 111](https://developer.chrome.com/blog/spa-view-transitions-land/)
- [TypeScript 向模块化迁移](https://devblogs.microsoft.com/typescript/typescripts-migration-to-modules/)
- [Cloudflare Workers - Node.js 兼容演示](https://twitter.com/jasnell/status/1633949738516230144)
- [ts-reset 0.4](https://twitter.com/mattpocockuk/status/1633525273860661257)
- [考虑在 Web Worker 中实现 Canvas 动画](https://www.macarthur.me/posts/animate-canvas-in-a-worker)
- [过去三年所有的 JavaScript 和 TypeScript 特性](https://betterprogramming.pub/all-javascript-and-typescript-features-of-the-last-3-years-629c57e73e42)
- [如何在 SPA 上测量核心网页指标(CWVs)](https://estelafranco.com/blog/spa-cwv/)
- [JavaScript Oxidation 编译器 v0.1](https://github.com/Boshen/oxc)
- [为什么 Turborepo 要从 Go 迁移到 Rust](https://vercel.com/blog/turborepo-migration-go-rust)

---

## 🤭 趣味 {#fun}

[![alt](/emails/issues/138/meme.jpg)](https://twitter.com/sebastienlorber/status/1635592966973669379)

🤣 [本周其他搞笑推文](https://twitter.com/sebastienlorber/status/1635710256876777472)

再见！👋