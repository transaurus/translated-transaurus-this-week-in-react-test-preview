---
slug: /127
title: "This Week In React #127: Nextra, React-Query, React Documentary, Storybook, Remix, Tamagui, Solito, TC39, Rome..."
authors: [slorber]
date: 12-06-2022
---

大家好！

本周有一些不错的文章。我很喜欢探索 React-Query 的实现原理，以及 Storybook 的最新动态。

Nextra v2 是 Docusaurus 的有力竞争者！

一部精彩的 React 纪录片正在制作中，预告片已经发布 🙌

React-Native 方面也很活跃！发布了几个重要版本，还有一个 React-Native 生态现状调查正在进行中。

本期我将图片放在了标题/文字下方，欢迎大家告诉我这样是否更好，或者您更喜欢放在上方？

<!-- truncate -->

**💡 [在 Twitter 上查看本新闻稿](https://slo.im/thread) - 视觉版式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![FlyCode 让 React 应用无需编码即可编辑，基于 Git](/emails/issues/124/flycode.jpg)](https://bit.ly/3UPwAoJ)

**[FlyCode 让 React 应用无需编码即可编辑，基于 Git](https://bit.ly/3UPwAoJ)**

[FlyCode](https://bit.ly/3wWSi00) (YC S22) 让 React Web 应用在几分钟内变得可编辑，使产品和 UX 团队能更快迭代发布产品，无需等待（或占用）开发人员时间。

FlyCode 会读取常规 React 代码，自动识别文本、图像、设计令牌和分析事件，让非技术人员协作编辑并通过拉取请求提交变更（无需 GitHub 访问权限！）

- 节省开发时间
- 无需代码集成，直接读取代码！
- 基于 GitHub，机器人自动扫描代码并创建 PR
- 兼容现有技术栈和组件
- 保留代码库所有权

立即体验：[flycode.com/developers](https://www.flycode.com/developers)

---

## ⚛️ React {#react}

**[Nextra 2.0](https://nextra.site/)**

Nextra 是由 Vercel 工程师创建的文档站点生成工具，基于 Next.js。v2 版本全新发布，具备 MDX 2、Tailwind、搜索、i18n、a11y、代码高亮等特性。依托 Next.js 的现代架构，既能创建静态文档页，也能构建动态页面（SSR、ISR）。这是对 [Docusaurus](https://docusaurus.io/) 极具竞争力的替代方案（后者是作者参与开发的项目）。

[![Nextra 2.0](/emails/issues/127/nextra.jpg)](https://nextra.site/)

---

**[深入 React Query](https://tkdodo.eu/blog/inside-react-query)**

Dominik 解析了 React-Query 的工作原理，详细阐述了 QueryClient、QueryCache、Query、Persister、QueryObserver 等核心元素的协作机制。其中许多元素不依赖 React，这正是 TanStack Query 能通过适配器轻松支持 SolidJS 等其他框架的关键。

[![深入 React Query](/emails/issues/127/react-query.png)](https://tkdodo.eu/blog/inside-react-query)

---

**[NextJS、SvelteKit、Remix 与 Storybook 的未来](https://storybook.js.org/blog/framework-api/)**

Storybook 7.0 将推出全新的 Framework API。该 API 允许创建"框架包"（例如：`@storybook/nextjs`），这些包可为特定技术栈（构建器、渲染器、应用设置）预配置 Storybook，并支持扩展功能。目前已实现对多个基于 Vite 的框架支持。Next.js 和 SvelteKit 框架支持即将推出，Remix 的支持也正在规划中。

[![NextJS、SvelteKit、Remix 和 Storybook 的未来](/emails/issues/127/storybook-frameworks.png)](https://storybook.js.org/blog/framework-api/)

---

- 🍿 [React.js - The Documentary - Trailer](https://www.youtube.com/watch?v=gmp0istg5xo): a documentary about React should be released in February. In the meantime you can check this 2min trailer. A nice list of guests have participated. I'm really looking forward to seeing this, and remembering the early years of React. This [parody](https://www.youtube.com/watch?v=Ov0alO_k_1k) also made me laugh ;)
- 📖 Beta docs: [useTransition](https://twitter.com/dan_abramov/status/1598468389340585984) + [Suspense](https://twitter.com/dan_abramov/status/1598412132827435008) + [useDeferredValue](https://twitter.com/dan_abramov/status/1598414645244534784). We can sympathize with Dan Abramov who [dreams of documentation at night](https://twitter.com/dan_abramov/status/1598149838017003520) 😅 Glad this long effort is coming to an end.
- 📜 [Lessons learned: how I’d rebuild a social web app like Twitter today](https://paularmstrong.dev/blog/2022/11/28/lessons-learned-how-i-would-rebuild-twitter-today/): Paul worked on the Twitter web app. He wonders what choices he would make for it today. He would use Tailwind instead of React-Native-Web, which presents some pragmatic difficulties, and Twitter doesn't use React-Native so the cross-platform benefits are limited. He would also use a more reactive framework like SolidJS or Preact + Signals. Many other interesting points: Vite, Module Federation, Client Hints, Deno...
- 📜 [React vs React Native: How Different Are They, Really?](https://echobind.com/post/react-vs-react-native-how-different-are-they): details the many similarities and differences between React (DOM) and React-Native. A good resource for web developers who might be tempted to learn React-Native and want to know how much knowledge they will be able to reuse, but also for managers looking to understand what it takes to adopt React-Native.
- 📜 [Different Dimensions of Remix Deploy Targets](https://andre-landgraf.dev/blog/2022-12-03_different-dimensions-of-remix-deploy-targets): Remix can be deployed on different platforms, thanks to its adapters. This article analyzes each target platform along several dimensions and helps us to make an informed choice.
- 📜 [Component Testing in Storybook](https://bradfrost.com/blog/link/component-testing-in-storybook/): Brad Frost gives his positive opinion on the latest Storybook testing features presented in [this video](https://www.youtube.com/watch?v=wEa6W8uUGSA). I also agree that Jest alone is not a suitable tool for visual rendering.
- 📜 [React Conditional Rendering With Type Safety and Exhaustive Checking](https://www.lloydatkinson.net/posts/2022/react-conditional-rendering-with-type-safety-and-exhaustive-checking/): React + TypeScript tip useful to know to make sure not to forget any case of an union-type (waiting for a real pattern matching support).
- 📜 [How we migrated from Redux to TanStack Query and Redux Toolkit](https://tech.storyly.io/how-we-migrated-from-redux-to-tanstack-query-and-redux-toolkit-ac9be2f445be): the story of 2 quite different projects based on Redux, and migrated incrementally to distinct solutions: RTK and React-Query.
- 📜 [Why you should reconsider prefetching in Remix](https://www.themosaad.com/blog/reconsider-prefetching-in-remix): an interesting reflection on the impact of a very fast but inconsistent navigation (ie sometimes slower without prefetching). I have a mixed opinion on the conclusion: we should be able to keep prefetching and make the UX consistent.
- 📜 [Add rolling sessions to Remix](https://sergiodxa.com/articles/add-rolling-sessions-to-remix)
- 📜 [The Children Prop Pattern in React](https://www.craftvalue.io/blog/react-children-prop-pattern)
- 🎥 [TanStack Router: Type safe routing and URL state management for your applications](https://www.youtube.com/watch?v=qUZm3gbMOeo): Tanner presents his new 100% typesafe and agnostic router. I make the [same observation as him](https://twitter.com/sebastienlorber/status/1555493419128168449): the existing APIs (Next.js, React-Router) do not facilitate the creation of apps that use query-strings a lot, and a new typesafe solution is welcome.
- 🎥 [React Streaming In Depth! NextJS! Remix! DIY!](https://www.youtube.com/watch?v=o3JWb04DRIs): long video that details how streaming works with React, via the Next.js and Remix frameworks. Also offers a home-made implementation (not for production).
- 🎥 [Remix - Roadmap Planning #1](https://www.youtube.com/watch?v=YSo0vKqAWtk): first public roadmapping session for the framework, as announced in [Open Development for Remix](https://remix.run/blog/open-development).
- 🎥 [ChatGPT refactoring php + jquery to Next.js](https://twitter.com/thekitze/status/1598414259137880066): this new AI is impressive and has devs talking a lot this week on Twitter!
- 🎨 [HTML + React-Three-Fiber demo](https://twitter.com/0xca0a/status/1599367266448994304): cela semble de plus en plus facile, et performant, d'intégrer du HTML dans une scene 3D avec React-Three-Fiber.
- 🐦 [Nodejs.dev adopting Next.js?](https://twitter.com/ovflowd/status/1599417661242232832): the Node.js doc could migrate from Gatsby to Next.js
- 🐦 [React Server Components + MDX](https://twitter.com/sebastienlorber/status/1598615824927002624): the impact of RSC is potentially important for content sites using MDX, like Docusaurus or Nextra ;)
- 📨 [React.holiday](https://react.holiday/): ephemeral avent newsletter of 25 short emails about new features of Next.js 13
- 📦 [Papanasi 1.0](https://twitter.com/CKGrafico/status/1597585206034169857): v1 release of this innovative UI components library. It is based on [Mitosis](https://github.com/builderio/mitosis), which allows to compile code to all frameworks at once: React, Vue, Svelte, Solid...
- 📦 [Jotai 1.11](https://twitter.com/jotaijs/status/1598366077527810048)
- 📦 [Gatsby 5.2](https://www.gatsbyjs.com/docs/reference/release-notes/v5.2/)
- 📦 [Redwood 3.5](https://github.com/redwoodjs/redwood/releases/tag/v3.5.0)

<SubscribeFormEmbed />

---

## 💸 赞助 {#sponsor2}

<div style={{maxWidth: 300}}>

[![JavaScriptBoard.com - Let the job find you](/emails/issues/127/javascriptboard.jpg)](https://cutt.ly/C1VnflC)

</div>

**[JavaScriptBoard.com - 让工作主动找到你](https://cutt.ly/C1VnflC)**

JavaScriptBoard.com **颠覆传统招聘模式**，专注于为寻求**长期稳定工作关系**的开发者服务。

从此告别 LinkedIn 上招聘消息和无趣职位邀约的困扰！

在 JavaScriptBoard.com 注册后，您将**仅收到**完全匹配您要求的职位邀请。

- 所有职位均明确标注**薪资范围**
- 默认保障开发者 100% **匿名性**
- **无需提交简历**（完全可选）
- 通过本平台成功入职即可获得 **500 美元奖金**

**立即免费加入 [JavaScriptBoard.com](https://cutt.ly/C1VnflC)**

---

## 📱 React-Native {#react-native}

- 📊 [State of React Native](https://stateofreactnative.com/): Software Mansion 正在围绕 React-Native 准备一项调查，并邀请我们参与贡献问题：[2022 年问题征集](https://github.com/software-mansion/state-of-react-native/discussions/1)。
- 📦 [Tamagui v1 候选发布版](https://tamagui.dev/blog/version-one-release-candidate): Tamagui 是基于编译器的跨平台样式解决方案，可为 React 组件提供通用样式方案（支持移动端和 Web）。迁移至 RC 版本标志着 API 的稳定。
- 📦 [Solito v2](https://solito.dev/v2): 跨平台导航解决方案。支持 Next.js 13 + SolitoImage 组件。
- 📦 [Reanimated 3.0-rc.8](https://twitter.com/kzzzf/status/1598394289570156544): 全新且更高效的 Shared Values 实现
- 📦 [Preact-Native](https://github.com/barelyhuman/preact-native): 开发者尝试在 React-Native 中运行 Preact。该项目因复杂性已[暂停](https://reaper.is/writing/20221204-decisions-and-updates-november-2022)。
- 📦 [create-react-native-library 0.27.2](https://twitter.com/satya164/status/1598774126805766144): 支持 RN 0.71、Fabric 模板...
- 📦 [React-Native 0.71.0-RC.3](https://twitter.com/Kelset/status/1598018432229777408): 0.71 版本即将发布！
- 📦 [Airbnb - 宣布 iOS 版 Lottie 4.0](https://medium.com/airbnb-engineering/announcing-lottie-4-0-for-ios-d4d226862a54)
- 📦 [Maestro](https://github.com/mobile-dev-inc/maestro): 日益流行的端到端黑盒测试工具（类似 Appium）
- 💬 [Expo Router RFC - 共享路由](https://twitter.com/Baconbrix/status/1598074538298048512)
- 💬 [VisionCamera 3.0 讨论](https://github.com/mrousavy/react-native-vision-camera/issues/1376)
- 🐦 [Krzysztof Magiera - "Reanimated 的下个版本将最终支持完整的堆栈追踪"](https://twitter.com/kzzzf/status/1598828117509910528)
- 🎥 [使用 React-Native Skia 实现彩带动画](https://www.youtube.com/watch?v=qOhYFDOEOmo)

---

## 🧑‍💻 职位 {#jobs}

🧑‍💼 [**Causal 产品工程师，远程/伦敦/纽约，$150-250k**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal 是 A 轮初创公司（由 Coatue/Accel 支持），致力于构建处理数据和可视化的一体化工具。我们正在招募能解决复杂 UX/性能挑战的资深 React 工程师。

🧑‍💼 [**Callstack - 高级 React Native 开发工程师 - 完全远程，B2B 月薪净额 21-32k PLN**](https://www.callstack.com/senior-react-native-developer)

您想开发全球使用最广泛的应用吗？您想共同塑造 React Native 技术吗？加入由 React & React Native 技术领袖组成的 Callstack 团队。访问官网获取详情。我们期待您的申请——展现您的实力！

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们有几个面向 React Native 开发者的职位空缺！薪资约为 16 万美元外加 10% 的奖金。您必须拥有 RN 生产环境经验且位于美国境内。请私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解更多信息，别忘了提及 This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

**[第 93 届 TC39 会议更新](https://dev.to/hemanth/updates-from-the-93rd-tc39-meeting-2n8f)**

上周有几项非常不错的 JavaScript 提案取得了进展，特别是：

- [Set 方法](https://twitter.com/robpalmer2/status/1597947853598785537) 进入第 3 阶段：并集、交集、差集... 🙌
- [迭代器辅助方法](https://github.com/tc39/proposal-iterator-helpers) 进入第 3 阶段：map、flatMap、filter、reduce...
- Intl API 持续相互补充完善。

---

- [Firefox 109 支持容器查询](https://twitter.com/jensimmons/status/1598798281513000960)：终于登陆所有主流浏览器 🙌
- [Rome v11 发布](https://rome.tools/blog/2022/12/06/rome11/)：支持 TS 4.9 satisfies 运算符
- [2022 CSS 现状调查报告](https://2022.stateofcss.com/en-US/)
- [2022 Rust 现状调查开放](https://twitter.com/rustlang/status/1600078615143911425)
- [ESLint RFC - 语言插件支持](https://github.com/eslint/rfcs/pull/99)
- [Tailwind 是一个有漏洞的抽象层](https://jakelazaroff.com/words/tailwind-is-a-leaky-abstraction/)
- [持续使用 Tailwind CSS 两年后的心得体会](https://www.themosaad.com/blog/two-years-of-tailwind-css)
- [TypeScript 4.9 `satisfies` 如何优化 Prisma 工作流](https://www.prisma.io/blog/satisfies-operator-ur8ys8ccq7zb)
- [Chrome 预渲染页面实现即时导航](https://developer.chrome.com/blog/prerender-pages/)
- [快固然好，但即时更佳！](https://calendar.perfplanet.com/2022/fast-is-good-instant-is-better/)
- [加速 JavaScript 生态系统 - 逐个库优化](https://marvinh.dev/blog/speeding-up-javascript-ecosystem/)
- [Electron 22.0](https://www.electronjs.org/blog/electron-22-0)
- [Cypress 12](https://www.cypress.io/blog/2022/12/06/announcing-cypress-12/)
- [Nx 15.3 — 独立项目、Vite、任务图等新特性！](https://blog.nrwl.io/nx-15-3-standalone-projects-vite-task-graph-and-more-3ed23f7827ed)
- [Lightning CSS 1.17](https://github.com/parcel-bundler/lightningcss/releases/tag/v1.17.0)
- [11 月 Web 平台新增内容](https://web.dev/web-platform-11-2022/)
- [充分发挥 GitHub Copilot 的潜力](https://shift.infinite.red/getting-the-most-from-github-copilot-8f7b32014748)
- [AWS re:Invent 2022 重磅发布汇总](https://aws.amazon.com/fr/blogs/aws/top-announcements-of-aws-reinvent-2022/)
- [ChatGPT 帮我设计了一门全新的编程语言](https://judehunter.dev/blog/chatgpt-helped-me-design-a-brand-new-programming-language)
- [前端工程师类型学](https://cpojer.net/posts/frontend-engineering-archetypes)
- [Bahuu - 基于状态机的 UI 框架](https://github.com/tjkandala/baahu)

---

## 🤭 趣闻 {#fun}

[![图片](/emails/issues/127/meme.png)](https://twitter.com/jaredpalmer/status/1599765374265749504)