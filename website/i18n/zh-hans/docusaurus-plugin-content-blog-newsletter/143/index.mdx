---
slug: /143
title: "This Week In React #143: RSC Quiz, useFormStatus, Next.js Website, Panda CSS, useLayoutEffect, Million.js, Immer, Super Apps, React-Three-Fiber, Vite..."
authors: [slorber]
date: 04-25-2023
---

大家好！

本周我们有许多优质的React文章，同时也发布了一些不错的更新。我很喜欢对新版Next.js网站动画效果的拆解分析，以及新发现的Panda CSS库。

我们感觉到React正通过Server Components越来越像一个框架。一个新的实验性钩子`useFormStatus`即将到来 👀。

Callstack为我们提供了关于React-Native中超级应用的优质资源。

Meta近期进行了大规模裁员 😓。

提醒：本通讯设有**[Discord聊天室](https://thisweekinreact.com/chat)**。过去仅限法语用户，现已重组开放给所有人，欢迎加入交流！

<!-- truncate -->

**💡 [在Twitter查看本期通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![React-admin](/emails/issues/141/react_admin.png)](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)

**[React-admin - B2B应用开源框架](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)**

正在用React构建管理后台？使用B2B应用开源框架React-admin，可节省数天开发时间！🤩

React-admin不仅能节省时间，更能提升开发水平！已有20,000+开发者日常使用并验证其高效性。查看NPO [Caritas的案例分享](https://marmelab.com/blog/2022/07/07/react-admin-caritas.html)了解长期使用体验。

加入我们活跃的社区及[Discord](https://discord.com/invite/jR3D6SdQ)服务器，获取最新更新和经验丰富的开发者支持。

立即免费使用React-admin 😉，让开发更上一层楼！🚀

---

## ⚛️ React {#react}

[![打造Next.js官网](/emails/issues/143/nextjs.jpg)](https://rauno.me/craft/nextjs)

**[打造Next.js官网](https://rauno.me/craft/nextjs)**

是否注意到[nextjs.org新版首页](https://nextjs.org/)？Vercel工程师Rauno深度解析其UI细节。渐变追踪技术实现惊艳效果！创新的React实现带来卓越成果。

---

[![Panda CSS - 无运行时开销的CSS-in-JS方案](/emails/issues/143/panda.jpg)](https://infinum.com/blog/panda-css-css-in-js-without-runtime-overhead/)

**[Panda CSS - 无运行时开销的CSS-in-JS方案](https://infinum.com/blog/panda-css-css-in-js-without-runtime-overhead/)**

Panda CSS 是一个正在开发中的零运行时 CSS-in-JS 库，用于 [Chakra UI 的未来](https://www.adebayosegun.com/blog/the-future-of-chakra-ui)。Panda 的文档尚未可用，但本文在 Next.js 环境中提供了首个实用的概览。

---

- 👥 New wave of layoffs at Meta that also affects open-source tech profiles of our community, including [Mengdi Chen](https://twitter.com/mengdi_en/status/1648718077796786177) (React DevTools), [Robert Balicky](https://twitter.com/StatisticsFTW/status/1648820621252653056) (Relay), [Matt Carroll](https://twitter.com/mattcarrollcode/status/1648770402272018432) (DevRel React, looking for a new job) and [Sean Keegan](https://twitter.com/DevRelSean/status/1649466893806215172) (DevRel React, looking for a new job). Feel free to reach out to those who are looking for a new opportunity.
- 👀 [React PR - experimental_useFormStatus](https://twitter.com/sebastienlorber/status/1651135782990561280): a new hook `useFormState()` could arrive in React, whose signature is [inspired by Remix](https://twitter.com/sebmarkbage/status/1651191679943049216) `useNavigation()`.
- 👀 [React.dev translation update](https://twitter.com/dan_abramov/status/1649575563055493120): the translation repositories of the new doc are up to date. It is possible to start translating the new document.
- 🧵 [Dan Abramov's RSC Quiz](https://twitter.com/dan_abramov/status/1648923232937058304): a very interesting thread that could help you to have a better intuition on how Server Components work.
- 🧵 [Dan Abramov on the origins / inspirations of React Server Components (PHP/Hack/XHP)](https://twitter.com/dan_abramov/status/1648830869304426500)
- 🧵 [useLayoutEffect + queueMicrotask](https://twitter.com/sebastienlorber/status/1650829494209466373): my tip got more interest than I thought 😄
- 🐦 [Dan Abramov on using Preact Signals](https://twitter.com/dan_abramov/status/1650892432119148546): this patches React, which can not guarantee its proper functioning if you decide to use it.
- 📜 [Why You Don't Need Signals in React](https://blog.axlight.com/posts/why-you-dont-need-signals-in-react/): Daishi explained that signals are characterized by 2 elements: responsiveness, and diffing bypassing. He proposes to use Jotai for reactivity, and not to try to bypass diffing.
- 📜 [Creative ways of using useReducer](https://www.code-insights.dev/posts/creative-ways-of-using-usereducer): highlights 4 original ways to use `useReducer`: toggle, increment, state formatting and state merge.
- 📜 [Where to host your Remix app in 2023](https://www.jacobparis.com/guides/where-to-host-remix): good analysis with a comparative matrix to choose your host.
- 📜 [Securing your Next.js 13 application](https://www.yagiz.co/securing-your-nextjs-13-application): shows how to secure its Next.js app with headers, and proposes a detailed implementation for CSRF.
- 📜 [Can Rust Beat Javascript in 2023?](https://joshuamo876.bearblog.dev/can-rust-beat-javascript-in-2023/): Web frameworks based on Rust and WebAssembly have progressed well in benchmarks. This also shows that they have a fairly similar model to React.
- 📜 [Say no to "flickering" UI: useLayoutEffect, painting and browsers story](https://www.developerway.com/posts/no-more-flickering-ui): implements a responsive navigation menu, and explains how a synchronous `useLayoutEffect` can fix a visual glitch of the 1st rendering. For SSR, it's not that simple!
- 📜 [Display a view counter on your blog with React Server Components](https://scastiel.dev/view-counter-react-server-components): replace SWR with RSC to display a view counter. Adding a Suspense around the counter allows not to block the rendering.
- 📜 [How we built the Storybook Day 3D animation](https://varun.ca/storybook-day/): explanations on how to create a 3D scene with React-Three-Fiber.
- 📜 [Storybook Community Showcase 5](https://storybook.js.org/blog/community-showcase-5/)
- 📜 [The Evolution of React Rendering Architectures & Web Performance](https://www.iamtk.co/the-evolution-of-react-rendering-architectures-and-web-performance)
- 📜 [Integrating React Flow and the Web Audio API](https://reactflow.dev/blog/react-flow-and-the-web-audio-api/)
- 📦 [Vite 4.3](https://vitejs.dev/blog/announcing-vite4-3.html): big performance improvements on a benchmark with 1000 React components.
- 📦 [Redux Toolkit v2.0.0 alpha.5](https://github.com/reduxjs/redux-toolkit/releases/tag/v2.0.0-alpha.5): new `combineSlices` API to lazy-load reducers.
- 📦 [T3 Env](https://env.t3.gg/): new solution to parse environment variables with Zod, with Next.js integration.
- 📦 [React-Three-Offscreen](https://github.com/pmndrs/react-three-offscreen): allows React-Three-Fiber 3D rendering in a web worker via an OffscreenCanvas, to avoid blocking the main thread.
- 📦 [Million.js 2.3.0](https://twitter.com/aidenybai/status/1650406345517199361): Next.js support and optimizer Forgetti integration. A new package [Hundred.js](https://twitter.com/aidenybai/status/1651072640650727424) to understand how the block-based virtual DOM works.
- 📦 [Immer 10.0](https://github.com/immerjs/immer/releases/tag/v10.0.0): faster, smaller.
- 📦 [Lingui 4.0](https://github.com/lingui/js-lingui/releases/tag/v4.0.0)
- 📦 [Micro Frontends Next Generation - A React Server Components Playground](https://github.com/unstubbable/mfng)
- 📦 [Simple RSC, Deno Edition](https://github.com/itsMapleLeaf/simple-rsc-deno)
- 🎥 [Next.js Image Component Just Got Way Better](https://www.youtube.com/watch?v=Ow3VsOJcvpM): show the advantages of using Cloudinary in a Next.js app. I take the opportunity to thank James for the [newsletter shoutout](https://www.youtube.com/clip/UgkxZ3ySVUr0oCmNn_VQcBJGOFPdSG2V_h3h) 🤗.
- 🎥 [React and TypeScript Stopped Fighting?](https://www.youtube.com/watch?v=sr8bwLXDm3U)
- 🎥 [How To Fix NextJS 13's N+1 Problem](https://www.youtube.com/watch?v=FfHsIio4aCU)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![Tina.io 是一个面向 Markdown 驱动站点的无头 CMS](/emails/issues/140/tinacms.jpg)](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)

**[Tina.io 是一个面向 Markdown 驱动站点的无头 CMS](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)**

- 为 Markdown 文件提供编辑界面
- 支持 MDX 组件的界面
- 支持静态生成（SSG）和服务器端渲染（SSR）
- 提供可视化编辑选项（实时预览）
- 通过可复用区块构建

试用初始站点

- [Docusaurus](https://github.com/tinacms/tinasaurus) (Github)
- [Next.js + Tailwind 带可视化编辑](https://github.com/tinacms/tina-cloud-starter) (Github)

或运行 `npx create-tina-app@latest` 然后访问 `localhost:3000/admin`

观看 [4 分钟演示视频](https://www.youtube.com/watch?v=zRkeKSZjlyw)

---

## 📱 React-Native {#react-native}

[![超级应用开发](/emails/issues/143/superapp.jpg)](https://www.callstack.com/super-app-development)

**[超级应用开发](https://www.callstack.com/super-app-development)**

Callstack 发布了一份关于超级应用的优质资源，这种应用可在单一移动界面下整合多个迷你应用。他们描述了业务和组织优势，分析了可行的技术解决方案，并重点推荐了 Re.Pack 和 Module Federation。同时提供了示例仓库 [Super App Showcase](https://github.com/callstack/super-app-showcase) 供研究学习。

超级应用在亚洲广受欢迎（如微信、MoMo等），现正全球扩张。我的直觉认为 [PlayStation 5 的 UI 可能是一个 React-Native 超级应用](https://twitter.com/syke/status/1619413099861413889)，有待证实！

---

- 👤 [Mark Lawlor (NativeWind) 加入 Expo](https://twitter.com/mark__lawlor/status/1648834143659384832)：社区喜讯，又一位开发者将致力于 Web/跨平台支持。
- 👀 [Bluesky - 通用 Expo 应用](https://twitter.com/Baconbrix/status/1650608419135700993)：Twitter 及其新竞争对手 Bluesky [双双采用 React-Native-Web](https://twitter.com/sebastienlorber/status/1650488087430963204)。
- 💬 [RFC：在 React Native 应用中支持 Expo 配置插件](https://twitter.com/TMisiukiewicz/status/1649050245106659330)：提议将 Expo 配置插件直接引入 React Native 核心，以解决包括升级简化在内的多项开发体验问题。该提案[遭到 Brent Vatne 及社区质疑](https://github.com/react-native-community/discussions-and-proposals/pull/637#issuecomment-1518083817)，认为在现有项目中添加配置插件/预构建支持并不困难。
- 📜 [使用 AI 为 React 组件编写测试](https://www.callstack.com/blog/using-ai-to-write-tests-for-react-components)
- 📦 [React-Native 0.71.7](https://github.com/facebook/react-native/releases/tag/v0.71.7)
- 📦 [SkiaAnimationShowcase](https://github.com/friyiajr/SkiaAnimationShowcase)
- 🎙️ [Syntax FM - Supper Club × Nate Weinert 与 Tamagui](https://syntax.fm/show/601/supper-club-nate-weinert-and-tamagui)
- 🎙️ [RNR 264 - 使用 Detox 进行 RN 测试 (Josh Justice 与 Jason Grosz)](https://reactnativeradio.com/episodes/rnr-264-a-detox-case-study-with-josh-justice-and-jason-grosz)
- 👥 [App.js](https://appjs.co/)（克拉科夫，5月10-12日）提供[-20% 研讨会优惠](https://ti.to/appjs/2023/discount/ThisWeekinReact20)（优惠码 "ThisWeekinReact20"）。
- 👥 [Chain React](https://chainreactconf.com/)（波特兰，5月18-19日）提供-10% 门票优惠（优惠码 "thisweekinreact"）。
- 👥 [React-Native-Connection](https://reactnativeconnection.io/)（巴黎，6月1日）提供-10% 门票优惠（优惠码 "REACTHEBDO"）。

---

## 🧑‍💻 职位 {#jobs}

🧑‍💼 [**Passionfroot - 高级全栈工程师 (Remix) - €160k+，柏林/远程**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot 的使命是通过 YouTube、播客、社交媒体和新闻通讯赋能未来的独立企业。加入我们，共同构建助力全球创作者建立可扩展、可持续业务的工具。

🧑‍💼 [**Callstack - 高级 React Native 开发工程师 - 全职远程，B2B 月薪净额 PLN 21-32k**](https://www.callstack.com/senior-react-native-developer)

您希望开发全球使用最广泛的应用吗？您想共同塑造 React Native 技术吗？加入 Callstack 的 React & React Native 专家团队。详情请访问官网，期待您的申请——请尽情展示您的才华！

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们开放多个专注于 React Native 的开发职位！年薪约16万美元外加10%奖金。需具备 RN 生产环境经验且位于美国境内。私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解详情，并请注明来自 This Week in React。

💡 [如何发布赞助？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [我们如何将 Prisma 的无服务冷启动速度提升 9 倍](https://www.prisma.io/blog/prisma-and-serverless-73hbgKnZ6t)
- [Oracle 因违反 JavaScript 商标发送法律通知](https://twitter.com/sebastienlorber/status/1650502618760839170)
- [Partykit - 实时协作应用开发套件](https://github.com/partykit/partykit)
- [ECMAScript 2023 新特性](https://pawelgrzybek.com/whats-new-in-ecmascript-2023/)
- [Rich Harris 谈框架、Web 与边缘计算](https://www.youtube.com/watch?v=uXCipjbcQfM)
- [npm 软件包来源验证功能发布](https://github.blog/2023-04-19-introducing-npm-package-provenance/)
- [“const”关键字的欺骗性](https://www.joshwcomeau.com/javascript/the-const-deception/)
- [驾驭 JavaScript 事件循环的正确工具选择](https://www.macarthur.me/posts/navigating-the-event-loop)
- [主屏幕 Web 应用的徽章功能](https://webkit.org/blog/14112/badging-for-home-screen-web-apps/)
- [Lightning CSS 1.20 发布](https://twitter.com/devongovett/status/1648818638479142914)
- [Rspack 0.1.9 更新](https://twitter.com/rspack_dev/status/1650802734248108032)

---

## 🤭 趣闻 {#fun}

[![趣图](/emails/issues/143/meme.jpg)](https://twitter.com/jacobmparis/status/1649762401263452160)

下次见！ 👋