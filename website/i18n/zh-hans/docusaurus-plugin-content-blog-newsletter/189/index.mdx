---
slug: /189
title: "This Week In React #189: Next.js Security, Memoization, useFormStatus, React State, Remix Typesafe Routes, View Transitions, Astro, Starlight, Hydrogen, Remotion, Lingui, Storybook, Skia Video, Starlink, App Clips, VisionOS..."
authors: [bndkt]
date: 06-12-2024
---

å¤§å®¶å¥½ï¼

è¿™å‘¨è¿˜æ˜¯[Benedikt](https://x.com/bndkt)ä»£ç­ï¼Œå› ä¸ºSebastienæ­£åœ¨ä¼‘å‡ã€‚

å¯¹æˆ‘æ¥è¯´ï¼Œæœ¬å‘¨æœ€å€¼å¾—å…³æ³¨çš„ä¸æ˜¯é‡å¤§å…¬å‘Šæˆ–æ–°ç‰ˆæœ¬å‘å¸ƒï¼Œè€Œæ˜¯å¯¹æœªæ¥å·¥ä½œçš„å¾®å¦™æš—ç¤ºï¼ˆRemixå³å°†æ¨å‡ºç±»å‹å®‰å…¨è·¯ç”±æ¨¡å‹ã€Expoå°†å¼•å…¥Reactç¼–è¯‘å™¨ã€Expo Routeræ”¯æŒåŸç”Ÿintentï¼‰ï¼Œä»¥åŠå…³äºReact Suspenseå®ç°ç»†èŠ‚çš„åœ¨çº¿è®¨è®ºï¼ˆ`display: none`é—®é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯React 19åœ¨å¹¶è¡Œæ•°æ®è·å–è¡Œä¸ºä¸Šçš„é‡å¤§å˜åŒ–ï¼‰ã€‚

<!-- truncate -->

**ğŸ’¡ [åœ¨TwitteræŸ¥çœ‹æœ¬æœŸç®€æŠ¥](https://slo.im/thread) - è§†è§‰åŒ–æ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ èµåŠ©å•† {#sponsor1}

[![é”»ç‚¼äº§å“èƒ½åŠ›](/emails/issues/183/posthog.jpg)](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)

**[é”»ç‚¼äº§å“èƒ½åŠ›](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)**

[**å·¥ç¨‹å¸ˆçš„äº§å“æ€ç»´**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)æ˜¯PostHogçš„ä¸“å±ç®€æŠ¥ï¼Œè‡´åŠ›äºå¸®åŠ©å·¥ç¨‹å¸ˆæå‡äº§å“èƒ½åŠ›ã€‚å­¦ä¹ å¦‚ä½•å‘ç”¨æˆ·æé—®ã€å¦‚ä½•æ„å»ºç”¨æˆ·å–œçˆ±çš„æ–°åŠŸèƒ½ï¼Œä»¥åŠå®ç°äº§å“å¸‚åœºåŒ¹é…çš„è·¯å¾„ã€‚

[**å…è´¹è®¢é˜…**](https://newsletter.posthog.com/?utm_source=twir&utm_campaign=twir)è·å–æ‰“é€ å“è¶Šäº§å“çš„ç²¾é€‰å»ºè®®ï¼ŒPostHogæ„å»ºè¿‡ç¨‹ä¸­çš„ç»éªŒæ•™è®­ï¼ˆåŠé”™è¯¯ï¼‰ï¼Œä»¥åŠå¯¹é¡¶å°–åˆåˆ›å…¬å¸ç­–ç•¥çš„æ·±åº¦è§£æã€‚

---

## âš›ï¸ React {#react}

[![æ³¨æ„æ–­å±‚](/emails/issues/189/react189.jpg)](https://www.youtube.com/live/1g5ruM-16_Y?t=7443s)

ğŸ¥ **[Ryan Florenceæ¼”è®²"æ³¨æ„æ–­å±‚"](https://www.youtube.com/live/1g5ruM-16_Y?t=7443s)**

åœ¨å¤šäººè¯„ä»·è¿™æ˜¯ä»–ä»¬è§è¿‡æœ€ç²¾å½©çš„ç§‘æŠ€ä¼šè®®æ¼”è®²åï¼Œæˆ‘è§‚çœ‹äº†è¿™ä¸ªåˆ†äº«ã€‚å½“å‰Webå¼€å‘æ­£å¤„äºéå¸¸æœ‰è¶£çš„é˜¶æ®µï¼šReact 19å¸¦æ¥æ¨¡å‹é‡å¤§å˜é©ï¼Œæ–°JSæ¡†æ¶å…´èµ·ï¼Œå¤§é‡åœ¨çº¿è®¨è®ºå°†Reactä¸Rails/Laravelè¿›è¡Œå¯¹æ¯”åŒºåˆ†ã€‚Ryançš„æ¼”è®²ç²¾å½©å›é¡¾äº†å‘å±•å†ç¨‹ï¼Œå¹¶æä¾›äº†ç†è§£React 19çš„æ€ç»´æ¨¡å‹ã€‚æœ‰è¶£çš„æ˜¯çœ‹åˆ°Remixåˆ›å§‹äººæ¼”ç¤ºNext.js ğŸ˜‰

- ğŸ’¸ [NL Kit â€” Ship AI Features Faster With JavaScript](https://nlkit.com)
- ğŸ¦ [Flow diagram on how to pick one of the over 30 ways to handle React state](https://x.com/housecor/status/1799435036736778364)
- ğŸ¦ [React changes a component in a Suspense context to `display: none !important` until data fetching completes](https://x.com/cpojer/status/1798912741383844237)
- ğŸ¦ [Type-safe route modules coming to Remix/React Router 7](https://x.com/pcattori/status/1799194706850504818)
- ğŸ¦ [Significant difference in how Suspense handles parallel fetching between React 18 and 19 raises concerns](https://x.com/TkDodo/status/1800501040766144676)
- ğŸ—“ [dotJS](https://www.dotjs.io/?utm_source=thisweekinreact) - ğŸ‡«ğŸ‡· Paris - June 27 - Only 2 weeks left before the conference! 10% discount with code "TWIR"
- ğŸ—“ [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - ğŸ‡³ğŸ‡± Amsterdam - 14-18 June - Tickets are almost sold out. Get a 10% discount with code "TWIR".
- ğŸ“œ [Weak memoization in JavaScript](https://dev.to/thekashey/weak-memoization-in-javascript-4po6): I really like those â€œfundamentalâ€ articles. This is not about useMemo, it explains the concept of memoization from scratch (while referencing React a bunch), really helps to deepen the understanding of whatâ€™s going on under the hood.
- ğŸ“œ [Creating a Reusable SubmitButton with useFormStatus](https://aurorascharff.no/posts/creating-a-reusable-submitbutton-with-useformstatus/): Following this article not only teaches you how to work with forms and server actions in React 19, but also how to do it using progressively enhanced forms.
- ğŸ“œ [Lingui with React Server Components](https://lingui.dev/tutorials/react-rsc): Tutorial on how to internationalize a Next.js App Router app (incl. RSC) using Lingui.
- ğŸ“œ [Next.js security checklist](https://blog.arcjet.com/next-js-security-checklist/): Useful checklist covering 7 areas, some very obvious (update dependencies, sanitize inputs), and others a bit more specific (avoid exposing server code, use security headers).
- ğŸ“œ [Hydrogen - June 2024 Release - Optimistic cart, RichText component, stable analytics](https://hydrogen.shopify.dev/update/june-2024): Apart from these three features announcements, the post starts with a repeated commitment to Remix (aka React Router 7), in case you were wondering.
- ğŸ“œ [Astro - Starlight (the Astro-based documentation builder) turns one year old](https://astro.build/blog/starlight-turns-one/): Pretty impressive stats: 24 minor releases, 181 contributors, 2,000 commits, 4,000 GitHub stars, and 2,700 open-source Starlight sites.
- ğŸ“œ [Astro - Zero-JavaScript View Transitions](https://astro.build/blog/future-of-astro-zero-js-view-transitions/): Chrome 126 just shipped support for native, app-like animations between page navigation.
- ğŸ“œ [The Need for Speed: A Quick Way to Improve React Testing Times](https://www.helpscout.com/blog/improve-react-testing-times/)
- ğŸ“œ [Interactive dropdown menus with Radix UI](https://www.joshuawootonn.com/radix-interactive-dropdown)
- ğŸ“œ [How to render zoomable image with Shadcn UI and Tailwind CSS in Next.js](https://www.nico.fyi/blog/easy-zoomable-image-with-shadcn-tailwind)
- ğŸ“œ[Storybook - Interactive story generation](https://storybook.js.org/blog/interactive-story-generation/)
- ğŸ“œ [How to Build a Notification System in Next.js with Knock](https://spacejelly.dev/posts/how-to-build-a-notification-system-in-next-js-with-knock)
- ğŸ“¦ [Code Hike + Remotion example](https://github.com/code-hike/examples/tree/main/with-remotion): Neat combination to create animated code videos (ğŸ¦ [Demo video](https://x.com/pomber/status/1800108854459715864?t=8ickNCn-Orou7665JY31VA&s=19)).
- ğŸ“¦ [@xstate/store 1.0.0](https://github.com/statelyai/xstate/releases/tag/%40xstate%2Fstore%401.0.0)
- ğŸ“¦ [@tanstack/query 5.44.0](https://github.com/TanStack/query/releases/tag/v5.44.0): Brings a â€œstaleTimeâ€ function, e.g. to derive stale time from cache-control headers.
- ğŸ¥ [Theo - React Compiler: It's Stranger Than You Think](https://www.youtube.com/watch?v=wnXGSwrOw80)
- ğŸ¥ [Ben Holmes - The problem with server actions](https://www.youtube.com/watch?v=GPYAC1qGD44)
- ğŸ¥ [Jack Herrington - Radix Themes: Awesome New Components For NextJS](https://www.youtube.com/watch?v=SKm2XGxbLLM)
- ğŸ¥ [Syntax - What's new in the world of React? - React Conf 2024 Recap](https://www.youtube.com/watch?v=udXZw-9LdOM)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ èµåŠ©å•† {#sponsor2}

[![WorkOSï¼šåˆ†é’Ÿçº§ä¼ä¸šçº§è®¤è¯æ–¹æ¡ˆ](/emails/issues/189/WorkOS.jpg)](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)

**[WorkOSï¼šåˆ†é’Ÿçº§ä¼ä¸šçº§è®¤è¯æ–¹æ¡ˆ](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)**

ğŸ”Â WorkOSæä¾›å®Œæ•´çš„ç”¨æˆ·ç®¡ç†æ–¹æ¡ˆï¼Œæ”¯æŒ**SSOã€SCIMã€RBACå’ŒFGA**ã€‚

ğŸ—‚ï¸Â ä¸å…¶ä»–ä¾èµ–ç”¨æˆ·ä¸­å¿ƒæ¨¡å‹çš„è®¤è¯æœåŠ¡ä¸åŒï¼ŒWorkOSä¸“ä¸ºB2B SaaSè®¾è®¡ï¼Œé‡‡ç”¨**ç»„ç»‡å»ºæ¨¡æ–¹æ¡ˆ**ã€‚

ğŸ—ï¸Â APIè®¾è®¡**çµæ´»æ˜“ç”¨ä¸”æ¨¡å—åŒ–**ï¼ŒæŒ‰éœ€é€‰æ‹©ç»„ä»¶ï¼Œåˆ†é’Ÿçº§é›†æˆã€‚

âœ¨Â ç”¨æˆ·ç®¡ç†åŠŸèƒ½åœ¨**æœˆæ´»è·ƒç”¨æˆ·ï¼ˆMAUï¼‰ä¸è¶…è¿‡100ä¸‡çš„æƒ…å†µä¸‹å…è´¹**ï¼Œä¸”åŒ…å«æœºå™¨äººé˜²æŠ¤ã€èº«ä»½å†’ç”¨é˜²æŠ¤ã€å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰ç­‰åŠŸèƒ½ã€‚

ğŸ¤ WorkOS å—åˆ°æ•°ç™¾å®¶é¢†å…ˆåˆåˆ›å…¬å¸çš„ä¿¡ä»»ï¼ŒåŒ…æ‹¬ **Perplexity**ã€**Vercel** å’Œ **Webflow**ã€‚

ä½¿ç”¨ [WorkOS](https://workos.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=q22024)Â ğŸš€ ä¸ºæ‚¨çš„èº«ä»½éªŒè¯æŠ€æœ¯æ ˆä¿é©¾æŠ¤èˆª

---

## ğŸ“± React-Native {#react-native}

æœ¬æ ç›®ç”± [Benedikt](https://twitter.com/bndkt) æ’°å†™ã€‚

- ğŸ’¸ [WithFrame - å¼€ç®±å³ç”¨çš„ React Native ç»„ä»¶](https://withfra.me/?utm_source=thisweekinreact&utm_medium=email&utm_campaign=quick-link--2)
- ğŸ‘€ [Expo æ–°å¢å®éªŒæ€§ React Compiler æ”¯æŒ](https://github.com/expo/expo/pull/29168)
- ğŸ‘€ [Expo Router +native-intent æ¼”ç¤º](https://github.com/EvanBacon/expo-router-native-intent-demo)
- ğŸ¦ [Skia Video ä¹Ÿå°†ç™»é™† Web å¹³å°](https://x.com/wcandillon/status/1799859456584646663)
- ğŸ¦ [Lorenzo ç¦»å¼€å¾®è½¯å’Œ React Native](https://x.com/Kelset/status/1800158749811966280?t=jif1MJRNNYc3wIE1cIUJvw&s=19)ï¼šæ„Ÿè°¢ Lorenzo ä½œä¸ºé•¿æœŸæ ¸å¿ƒç»´æŠ¤è€…ä¸º RN åŠå…¶ç¤¾åŒºæ‰€åšçš„æ‰€æœ‰è´¡çŒ®ï¼Œç¥æ„¿æœªæ¥ä¸€åˆ‡é¡ºåˆ©ï¼
- ğŸ—“ [Chain React Conf](https://chainreactconf.com/?utm_source=thisweekinreact) - æ³¢ç‰¹å…°ï¼Œä¿„å‹’å†ˆå· - 7æœˆ17-19æ—¥ã€‚ç¾å›½ React Native å¤§ä¼šå›å½’ï¼Œå¸¦æ¥ç²¾å½©æ¼”è®²å’Œå®è·µå·¥ä½œåŠï¼ä½¿ç”¨ä»£ç  "TWIR" å¯äº«é—¨ç¥¨ 15% æŠ˜æ‰£
- ğŸ“œ [Apple Vision Proï¼šä¼šè®®æ´å¯Ÿä¸æœªæ¥å±•æœ›](https://www.callstack.com/blog/apple-vision-pro-insights-from-conferences-and-beyond)
- ğŸ“œ [æŒæ¡ React Native å¼€å‘åï¼Œåº”è¯¥æµ‹è¯•ä»€ä¹ˆ](https://thoughtbot.com/blog/now-that-i-can-write-react-native-what-should-i-test)ï¼šReact Native å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•å…¥é—¨æŒ‡å—ã€‚ä¸‹ä¸€æ­¥ï¼šç«¯åˆ°ç«¯æµ‹è¯•ï¼
- ğŸ“œ [Starlink å¦‚ä½•åœ¨ React Native å’Œ Expo ä¸­æ„å»º 3D å’Œ AR åŠŸèƒ½](https://www.notjust.dev/blog/react-native-starlink)ï¼šAaron åœ¨ App.js conf æ¼”è®²æ‘˜è¦ã€‚å»ºè®®è§‚çœ‹åŸç‰ˆæ¼”è®²è§†é¢‘
- ğŸ“œ [Belka å¦‚ä½•åœ¨ 3 ä¸ªæœˆå†…ç”¨ Expo æ„å»º MangaYo! åº”ç”¨](https://expo.dev/blog/how-belka-built-mangayo-app-in-just-3-months-with-expo)ï¼šä½¿ç”¨ Expo å’Œ Supabase å¼€å‘ï¼Œä¸Šçº¿å³ç™»é¡¶ App Store æ’è¡Œæ¦œç¬¬ 5 å
- ğŸ“œ [Flatlist æ¸²æŸ“ä¼˜åŒ–æŠ€å·§](https://www.andydevs.dev/articles/flatlist-rendering-techniques)ï¼šä¼˜å…ˆé€‰ç”¨ FlashListï¼Œæœ¬æ–‡æä¾›ç»å…¸ FlatList çš„æ¸²æŸ“ä¼˜åŒ–æ–¹æ¡ˆ
- ğŸ“¦ [react-native-app-clip 0.3.0](https://github.com/bndkt/react-native-app-clip/releases/tag/v0.3.0) - æ”¯æŒ Expo 51ã€RN 0.74ã€æ–°æ¶æ„åŠ Apple Pay
- ğŸ“¦ [@rn-tools/navigation](https://github.com/ajsmth/rn-tools/blob/main/packages/navigation/readme.md)ï¼šå…¨æ–°çš„ React Native å¯¼èˆªç»„ä»¶å¥—ä»¶
- ğŸ™ï¸ [RNR 299 - React Native æœªæ¥äº”å¹´å±•æœ›](https://www.reactnativeradio.com/episodes/rnr-299-what-to-expect-from-react-native-in-5-years)
- ğŸ™ï¸ [React Conf 2024 äº®ç‚¹ï¼šæ¼”è®²è€…ä¸“è®¿ | The React Native Show ç¬¬ 38 æœŸ](https://www.youtube.com/watch?v=EP2IzK6rPv8)
- ğŸ¥ [Expo ç›´æ’­ï¼šå‘å¸ƒ SDK 51 - æ–°æ¶æ„ã€Router 3.5ã€æ›´å¿«çš„åˆå§‹åŒ–æµç¨‹ç­‰](https://www.youtube.com/watch?v=k1ISWPgP4S4)
- ğŸ¥ [Simon Grimm - ä½¿ç”¨ PowerSync å’Œ Supabase æ„å»º Local-First çš„ React Native åº”ç”¨](https://www.youtube.com/watch?v=xvvVGOyRgZg)

---

## ğŸ”€ å…¶ä»– {#other}

- ğŸ“œ [Safari 18 beta ä¸­çš„ WebKit - è§†å›¾è¿‡æ¸¡ã€æ ·å¼æŸ¥è¯¢ã€WebXR...](https://webkit.org/blog/15443/news-from-wwdc24-webkit-in-safari-18-beta/)
- ğŸ“œ [ä½ çš„ DOM æœ‰å¤šæ·±ï¼Ÿ](https://frontendatscale.com/blog/how-deep-is-your-dom/)
- ğŸ“œ [åœ¨çœŸå®ç¯å¢ƒä¸­å‘ç°ç¼“æ…¢çš„äº¤äº’](https://web.dev/articles/find-slow-interactions-in-the-field)
- [ä½ çš„ Node åœ¨å†…å­˜æ³„æ¼ï¼ŸsetTimeout å¯èƒ½æ˜¯åŸå› ](https://lucumr.pocoo.org/2024/6/5/node-timeout/)
- ğŸ“œ [ä½¿ç”¨ Chrome DevTools è¿›è¡Œ JavaScript æ€§èƒ½åˆ†æçš„å…¨é¢æŒ‡å—](https://blog.jiayihu.net/comprenhensive-guide-chrome-performance/)
- ğŸ“¦ [TypeScript 5.5 RC](https://devblogs.microsoft.com/typescript/announcing-typescript-5-5-rc/?t)
- ğŸ“¦ [Valibot v0.31.0 ç»ˆäºå‘å¸ƒ](https://valibot.dev/blog/valibot-v0.31.0-is-finally-available/)
- ğŸ“¦ [Vite 5.3.0-beta.2](https://github.com/vitejs/vite/blob/v5.3.0-beta.2/packages/vite/CHANGELOG.md#530-beta2-2024-06-10)

---

## ğŸ¤­ è¶£äº‹ {#fun}

[![tailwind æ˜¾ç¤ºå™¨](/emails/issues/189/meme.jpg)](https://x.com/thekitze/status/1788852862669217805)

å†è§ï¼ğŸ‘‹