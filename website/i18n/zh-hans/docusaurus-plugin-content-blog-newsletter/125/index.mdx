---
slug: /125
title: "This Week In React #125: tRPC, T3, Remix, Zustand, Server Components, Drag & Drop, Forms, Gatsby, Remotion, React-Native, Skia..."
authors: [slorber]
date: 11-22-2022
---

大家好！

本周是**[黑色星期五](/black-friday)**。我创建了一个为React开发者精选最佳优惠的页面。已发现部分优惠，但有些尚未公布，请周五再来查看 ;)

[![黑色星期五2022横幅](/img/BLACK_FRIDAY_2022_v2.png)](/black-friday)

我终于有机会重点介绍tRPC了，它发布了正式版本，还有一篇精彩文章将其与GraphQL进行了对比！

本周还有不少与Remix相关的优质内容。

我很欣赏React-Native的发展方向！

别忘了填写[State Of JS](https://survey.devographics.com/survey/state-of-js/2022)调查问卷！很高兴Docusaurus今年入选。欢迎推荐本通讯作为资源 😏 说不定明年就能上榜 🙌

<!-- truncate -->

**💡 [在Twitter查看本期通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![FlyCode让React应用无需编码即可编辑，基于Git](/emails/issues/124/flycode.jpg)](https://bit.ly/3UPwAoJ)

**[FlyCode让React应用无需编码即可编辑，基于Git](https://bit.ly/3UPwAoJ)**

[FlyCode](https://bit.ly/3wWSi00) (YC S22) 让React Web应用在数分钟内实现可编辑功能，使产品和UX团队能够更快地迭代和发布产品，无需等待（或占用）开发人员时间。

FlyCode会解析常规React代码，自动识别文本、图像、设计令牌和分析事件，让非技术人员协作编辑并通过Pull Request提交修改（无需GitHub访问权限！）

- 节省开发时间
- 无需代码集成，直接解析源代码！
- 基于GitHub，机器人扫描代码并创建PR
- 兼容现有技术栈和组件
- 保留代码库所有权

立即开始体验：[flycode.com/developers](https://www.flycode.com/developers)

---

## ⚛️ React {#react}

[![tRPC 10](/emails/issues/125/trpc10.jpg)](https://trpc.io/blog/announcing-trpc-10)

**[tRPC 10](https://trpc.io/blog/announcing-trpc-10)**

tRPC的重大重构显著提升了开发体验和IDE支持。这个实现类型安全后端调用的库正获得越来越多关注者。借助集成包（Next.js、React-Query等），可轻松在React生态中使用。"快速前进且不破坏任何东西"的口号深得我心 😄

推荐阅读[为何我们弃用GraphQL选择tRPC](https://echobind.com/post/why-we-ditched-graphql-for-trpc)理解其理念。Alex解释了他们如何在React场景中用tRPC替换[Bison](https://github.com/echobind/bisonapp)启动器中的GraphQL。tRPC大幅减少样板代码、TypeScript代码生成和JS包体积，同时提升DX、IDE支持并简化缓存管理。处理过度获取的方式不同：应积极创建新过程。tRPC非常适合全栈TypeScript Node.js应用（如Next.js）中前后端代码共置的场景。GraphQL仍是创建公共API的好方案，尤其面向非JavaScript生态的合作方（OpenAPI也是此类场景的优秀方案）。

借此机会，我还要提及[T3-App](https://create.t3.gg/)，这是一个基于tRPC、Prisma、Tailwind的Next.js端到端类型安全技术栈。它极大地帮助tRPC在今年提升了知名度，并且现在有了官方文档站点。其[tRPC文档](https://create.t3.gg/en/usage/trpc)很好地解释了与经典Next.js路由API相比的优势。另请参阅[create-t3-turbo](https://github.com/t3-oss/create-t3-turbo)：一个使用Next.js + Expo的Turborepo monorepo，两者都使用tRPC。

---

[![Working with Zustand](/emails/issues/125/zustand.jpg)](https://tkdodo.eu/blog/working-with-zustand)

**[使用 Zustand](https://tkdodo.eu/blog/working-with-zustand)**

Dominik 提醒我们在状态管理方面的历程。他解释了自己为什么喜欢 Zustand，这是一个符合 React 哲学的简约且无魔法的解决方案。他给出了一些最佳使用技巧，例如暴露自定义钩子、使用原子选择器，或将操作分组到不可变对象中。这些实用的技巧我完全赞同！

---

[![Remix dual reponses](/emails/issues/125/remix-dual.png)](https://blog.jim-nielsen.com/2022/remix-alternate-timeline-of-web-dev/)

**[Remix 与 Web 开发的另类时间线](https://blog.jim-nielsen.com/2022/remix-alternate-timeline-of-web-dev/)**

Jim 解释道，Remix 退后几步重新思考了整个前端应用模型。使用 Remix，渐进增强支持不需要像其他框架那样以两种不同方式（客户端 + 服务器）编写应用，因为 Remix 路由可以从同一代码返回 JSON 和 HTML。

---

[![Taming the dragon: Accessible drag and drop](/emails/issues/125/dnd.jpg)](https://react-spectrum.adobe.com/blog/drag-and-drop.html)

**[驯龙记：无障碍拖放](https://react-spectrum.adobe.com/blog/drag-and-drop.html)**

Devon（Adobe）刚刚宣布发布了适用于 React-Aria 和 React-Spectrum 的无障碍拖放钩子。他解释了键盘和屏幕阅读器支持如何工作，使用户可以选择元素，并通过 Tab 键找到潜在目标，以及移动端体验。所有这些都附带了大量演示。再次感受到，这个 React-Aria API 背后付出了大量工作，它首次尝试解决这个复杂问题。



- 📖 [Beta 文档更新 - createRef, PureComponents, useDebugValue](https://twitter.com/dan_abramov/status/1593007695703207936)：Dan Abramov 的文档工作已接近尾声，新版文档可能很快会正式发布。
- 📜 [在 Next.js 13 服务器组件中获取和缓存 Supabase 数据](https://supabase.com/blog/fetching-and-caching-supabase-data-in-next-js-server-components)：展示了如何轻松使用 React 服务器组件在云/无服务器数据库上发起请求，并提供了一些优化 Next.js 缓存以减少响应时间的实用技巧。
- 📜 [使用 React Hook Form 条件渲染字段](https://echobind.com/post/conditionally-render-fields-using-react-hook-form)：如何利用 watch 和 register/unregister 函数管理条件字段
- 📜 [Remix 的离线开发与测试](https://github.com/pcattori/blog/blob/main/posts/offline-dev-and-testing-for-remix/index.md)：Pedro 解释了他为何青睐 Mock Service Worker 在开发/测试中的使用，并说明了其与 Remix 的集成方式。
- 📜 [从 Webpack 迁移到 Remix](https://remix.run/blog/migrate-from-webpack)：团队正在为 Remix 开发 Webpack 编译器以支持渐进式迁移。
- 📜 [基于 Valhalla 的 Remix 站点](https://www.gatsbyjs.com/blog/what-is-gatsbys-valhalla-content-hub/)：Paul 介绍了 Gatsby Cloud 的新数据层 Valhalla，并说明如何将其用于 Remix。Valhalla 提供公共 GraphQL API，演示通过 Urql 在 Remix 加载器中调用此 API。Valhalla 仍处于早期阶段，但其发展值得关注。
- 📜 [Gatsby - 使用 Slice API 实现国际化 (i18n)](https://www.gatsbyjs.com/blog/using-the-slice-api-for-internationalization-i18n/)
- 📜 [useReducer 还是 XState？](https://swizec.com/blog/reader-question-usereducer-or-xstate/)
- 🎥 [React Brussels 演讲集锦](https://www.youtube.com/watch?v=uZnXwuhYZBc&list=PL53Z0yyYnpWjIoe0wNozVbuRXOnVcETPw)：比利时同行已发布会议视频，其中 [主题演讲](https://www.youtube.com/watch?v=uZnXwuhYZBc&list=PL53Z0yyYnpWjIoe0wNozVbuRXOnVcETPw&index=2) 阐述了 React 元框架如何应用 React 18 的最新特性（如 Suspense 数据获取和过渡）。
- 🎥 [React Router 已死？](https://www.youtube.com/watch?v=LVzG3nncE4M)：重点展示了全新 [TanStack Router](https://tanstack.com/router/v1) 的卓越类型安全性和开发体验。
- 🎥 [在 Next.js 中使用字体](https://www.youtube.com/watch?v=L8_98i_bMMA)
- 📦 [Remotion 3.3](https://twitter.com/remotion_dev/status/1593156143249260544)：无需再安装 ffmpeg，新增多个功能包（字体、路径、噪点、运动模糊），并优化了开发体验。
- 📦 [Openblocks - Retool 的开源替代方案](https://github.com/openblocks-dev/openblocks)
- 📦 [Jotai 1.10](https://twitter.com/jotaijs/status/1593647952672608257)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![The React Native Show - 播客系列](/emails/issues/125/the-rn-show.jpg)](https://www.callstack.com/podcast-react-native-show?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)

**[The React Native Show - 播客系列](https://www.callstack.com/podcast-react-native-show?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)**

既然你在这里，想必喜欢紧跟最前沿的React资讯！🔥 如果你想深入探索React和React Native，请收听**The React Native Show**的最新剧集：

- [模块联邦](https://www.callstack.com/podcasts/module-federation?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)在React Native中的应用，由Webpack维护者Zack Jackson分享
- [React Native新架构](https://www.callstack.com/podcasts/react-native-new-architecture-ep-17?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)，由Meta的Nicola Corti解析
- [微软的React Native实践](https://www.callstack.com/podcasts/react-native-at-microsoft-ep-16?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)，由微软的Lorenzo Sciandra讲述

**[The React Native Show](https://www.callstack.com/podcast-react-native-show?utm_campaign=Podcast&utm_source=email&utm_content=This_Week_in_React)**是由Callstack制作的播客系列。每期节目深度探讨不同主题，主持人与该领域世界级专家嘉宾展开深入对话。

---

## 📱 React-Native {#react-native}

**[【官方回复】2022：如何改进React Native？](https://github.com/react-native-community/discussions-and-proposals/discussions/546)**

React-Native团队已正式回应关于[如何改进React-Native](https://github.com/react-native-community/discussions-and-proposals/discussions/528)的讨论，披露了路线图细节。React-Native的投资力度正在加速，我特别关注以下方面：

- Metro将迎头赶上：支持swc、pnpm、符号链接、ESM的"exports"...
- Yoga和CSS支持改进：flex间隙、boxShadow阴影...
- 跨平台统一API：React-Native-Web现已归属Meta旗下
- 开发者体验优化：调试、堆栈追踪、源码映射、LogBox...

---

- 🎨 [React-Native-Skia + VisionCamera 帧处理器演示](https://twitter.com/mrousavy/status/1592943223751999488)：令人印象深刻的演示，可在 VisionCamera 帧上使用 React-Native-Skia。例如无需编写原生代码即可实时应用滤镜/着色器。
- 📦 [React-Native-Skia 0.1.159](https://twitter.com/wcandillon/status/1593591452491194370)：该库进入测试阶段，现改在 UI 线程渲染，大幅提升性能
- 📦 [burnt - React Native 原生 toast 提示和 alert 弹窗](https://twitter.com/FernandoTheRojo/status/1593632122069291008)：Fernando Rojo 在没有任何 Swift 基础的情况下，不到一天就基于 Swift 创建了他的首个原生 React-Native 库。这展示了 [Expo Modules API](https://twitter.com/tsapeta/status/1593705970781356035) 的便捷性！
- 📦 [React-Native-Testing-Library v11.5](https://twitter.com/mdj_dev/status/1593250914965794817)
- 📜 [React Native Storybook 中的自动参数](https://dev.to/dannyhw/automatic-args-in-react-native-storybook-140a)
- 🎥 [使用 Skia 实现路径渐变](https://www.youtube.com/watch?v=7SCzL-XnfUU)
- 🎥 [用 React-Native Re-Animated 2 实现滚动菜单](https://www.youtube.com/watch?v=sOKMytwWeKE)
- 📖 [Expo 文档更新 - 通用应用教程](https://twitter.com/amanhimself/status/1593669242892988417)
- 📊 [Reanimated 共享值的新实现](https://twitter.com/kzzzf/status/1594095497123434497)：通过减少 JSI 调用提升性能
- 📊 [React-Native Yoga 布局引擎与 iOS 替代方案的对比](https://twitter.com/Baconbrix/status/1593561645858623488)：React-Native 的布局引擎相当快速！
- 🐦 [Hirbod - "布局动画重写已合并"](https://twitter.com/nightstomp/status/1593207173496320000)
- 🐦 [Jamon Holmgren - "目前几乎没有理由不使用 Expo"](https://twitter.com/jamonholmgren/status/1593319397573394432)

---

## 🧑‍💻 职位 {#jobs}

🧑‍💼 [**Causal 产品工程师，远程/伦敦/纽约，$150-250k**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal 是一家 A 轮初创公司（由 Coatue/Accel 投资），致力于构建一体化数字处理和可视化工具。我们正在寻找能解决复杂 UX/性能难题的资深 React 工程师。

🧑‍💼 [**Callstack - 高级 React Native 开发工程师 - 全职远程，B2B 月薪 21-32k 波兰兹罗提净收入**](https://www.callstack.com/senior-react-native-developer)

您希望参与全球最热门应用的开发吗？您想共同塑造 React Native 技术吗？加入 Callstack 的 React & React Native 专家团队。查看官网获取详情。我们期待您的申请——请展示您的实力！

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们开放多个专注于 React Native 的开发职位！年薪约 16 万美元外加 10% 奖金。需具备 RN 生产环境经验且位于美国境内。私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解详情，并请注明来自 This Week in React。

💡 [如何发布赞助？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [An Interactive Guide to Flexbox](https://www.joshwcomeau.com/css/interactive-guide-to-flexbox/): great article by Josh Comeau, not to be read if you are hungry 😄
- [Browsers, JSON, and FormData](https://blog.jim-nielsen.com/2022/browsers-json-formdata/): interesting ideas about progressive enhancement, which encourages creating APIS based on FormData rather than JSON. This speaks to me, and by the way my newsletter signup forms also work without JavaScript 🤗 The article is not React related but is written by Jim who works on Remix.
- [Cloudflare Developer Week 2022 announcements](https://blog.cloudflare.com/icymi-developer-week-2022-announcements/): a lot of announcements. I especially like the possibility to make Puppeteer screenshots from a Worker edge: this can be useful for Remotion, or generate social previews in an efficient way, and compete with the new [Vercel's og image service](https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation).
- [Top-level promise handling in Node.js ES modules](https://www.stefanjudis.com/today-i-learned/top-level-promise-handling-in-node-js/): I discover this behavior of Node.js not hyper intuitive and the exit 13 code.
- [State Of JavaScript 2022 Survey](https://survey.devographics.com/survey/state-of-js/2022): glad to see [Docusaurus making an entry](https://twitter.com/sebastienlorber/status/1594748405280116738) this year! I hope my newsletter will be in the resources next year, feel free to send it as a suggestion 😏
- [The 2022 State of JavaScript Survey Is Now Open. Here's What's New](https://dev.to/sachagreif/take-the-2022-state-of-javascript-survey-5ap6)
- [Prettier 2.8: improve --cache CLI option and TypeScript 4.9 satisfies operator!](https://prettier.io/blog/2022/11/23/2.8.0.html): good timing to adopt TS 4.9 (already supported in Babel)
- [Web technology optimism hour](https://macwright.com/2022/11/18/optimism-updates.html)
- [Movies app in 7 frameworks - which is fastest and why?](https://www.builder.io/blog/movies-app-in-7-frameworks-which-is-fastest-and-why)
- [HTML Elements Visualized](https://julesblom.com/writing/html-elements)
- [Complete rewrite of ESLint](https://twitter.com/slicknet/status/1594870586605391872)
- [MPA View Transitions - First demo - Chrome canary](https://twitter.com/addyosmani/status/1592907811968626688)
- [Mock Service Worker - Fetch API Support Beta](https://github.com/mswjs/msw/discussions/1464)
- [What’s so great about functional programming anyway?](https://jrsinclair.com/articles/2022/whats-so-great-about-functional-programming-anyway/)
- [Angular 15](https://blog.angular.io/angular-v15-is-now-available-df7be7f2f4c8)
- [Nuxt 3.0](https://nuxt.com/v3)
- [Playwright 1.28](https://github.com/microsoft/playwright/releases/tag/v1.28.0)
- [Firefox 107](https://developer.mozilla.org/en-US/docs/Mozilla/Firefox/Releases/107)
- [Safari Technology Preview 158](https://webkit.org/blog/13584/release-notes-for-safari-technology-preview-158/)
- [Assembly interpreter inside of TypeScript's type system](https://judehunter.dev/blog/assembly-interpreter-in-typescripts-type-system)
- [On Migrating from Cypress to Playwright](https://mtlynch.io/notes/cypress-vs-playwright/)
- [Node.js 18 available in AWS Lambda](https://aws.amazon.com/fr/blogs/compute/node-js-18-x-runtime-now-available-in-aws-lambda/)
- [Build a More Secure Web using npm with Deno](https://deno.com/blog/a-more-secure-npm)
- [From Bootstrapped to Venture-Backed: Nx Raises $8.6M](https://blog.nrwl.io/from-bootstrapped-to-venture-backed-nx-raises-8-6m-2ae2228eff76)
- [Why you should never use px to set font-size in CSS](https://joshcollinsworth.com/blog/never-use-px-for-font-size)
- [The Windows Subsystem for Linux is now generally available](https://devblogs.microsoft.com/commandline/the-windows-subsystem-for-linux-in-the-microsoft-store-is-now-generally-available-on-windows-10-and-11/)

---

## 🤭 趣闻 {#fun}

[![人生苦短 - 一定要花时间在互联网上和陌生人争论 JS 框架](/emails/issues/125/meme.png)](https://twitter.com/fireship_dev/status/1587587531154989056)