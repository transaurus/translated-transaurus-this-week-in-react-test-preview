---
slug: /210
title: "This Week In React #210: React 19 pre-warming, Next.js, IDE, TanStack, React Scan, MistCSS, PayloadCMS, Expo Workflows, Universal RSC, use dom, Yoga JSI, Skia, Turbo Haptics, TV, FastIO, SwiftUI, Angular 19..."
authors: [matthieugicquel, cyrilbo]
date: 11-20-2024
---

大家好！

我们是来自Theodo Apps（原BAM）的Cyril和Matthieu 👋，代替Seb为大家带来React和React Native的最新动态！

本周React世界迎来重大消息！在初次发布推迟六个月后，React 19重新进入RC阶段。随着预热身(pre-warming)机制的引入，Suspense带来的悬念终于开始缓解。

Expo在其发布派对中掀起热潮，兴奋度持续攀升！🚀

全新发布的**Expo Workflows**承诺通过预制任务、智能机器选择和无缝自动化来革新React Native应用的CI/CD流程——全面简化发布过程。

与此同时，Expo Router中的**通用React服务端组件**已进入测试版，标志着向**服务端优先的React Native开发**迈出重要里程碑。

派对尚未结束！🎉 敬请关注下周的更新，我们将深入探讨Expo持续庆祝活动中的更多公告。

另请关注我们的合作会议[React Paris 2025](https://react.paris/?utm_source=Newsletter&utm_medium=thisweekinreact)（🇫🇷 巴黎 - 3月20-21日）。用2025年首批开发者会议开启新年！演讲嘉宾包括Dominik 'TkDodo' Dorfmeister、Kent C. Dodds和Aurora Scharff。CFP正在开放，使用代码"TWIR"可享门票8折优惠！

如果您能分享本通讯或在此处支持我们，我们将不胜感激：

- [X / Twitter](https://slo.im/last/x)
- [Bluesky](https://slo.im/last/b)
- [LinkedIn](https://slo.im/last/l)

让我们开始吧！🚀

<!-- truncate -->

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Handsontable：面向React应用的高级数据网格](/emails/issues/206/handsontable.jpg)](https://handsontable.com/docs/react-data-grid/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=twirnov20)

**[Handsontable：面向React应用的高级数据网格](https://handsontable.com/docs/react-data-grid/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=twirnov20)**

Handsontable是[功能丰富的数据网格](https://handsontable.com/demo?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=twirnov20)，专为需要强大、可定制且易访问方案来管理复杂数据的React开发者设计。

- 独特的**类电子表格界面**，支持排序、过滤和CRUD操作
- 高级操作如条件格式化和**400+内置公式**，媲美Excel
- **可定制编辑器和渲染器**，允许在网格单元格中使用下拉菜单或自定义组件
- **性能优化**确保流畅响应
- **符合WCAG 2.1的无障碍标准**，提升残障用户支持

Handsontable适应从企业应用到简单网站的各种场景，提供全球企业信赖的性能和灵活性。

[立即开始使用！](https://handsontable.com/docs/react-data-grid/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=twirnov20)

---

## ⚛️ React {#react}

[![React 19 RC1](/emails/issues/210/react19.jpg)](https://github.com/facebook/react/issues/29898#issuecomment-2477449973)

[**React 19 RC1 - 兄弟组件预热**](https://github.com/facebook/react/issues/29898#issuecomment-2477449973)

我们曾报道过 React 19 的初始发布因 Suspense 的变更而中止，该变更可能导致在使用 Suspense 但未在事件处理程序中启动数据获取的应用中出现瀑布流问题。  
React 团队一直在努力重新引入 Suspense 兄弟组件的预渲染，同时避免对早期启动数据获取的应用造成性能倒退。他们的解决方案现已就绪，称为[预热](https://react.dev/blog/2024/04/25/react-19-upgrade-guide#improvements-to-suspense)。React Query 的维护者 Dominik 最先提出这个问题，[他已确认对这个修复感到满意](https://bsky.app/profile/tkdodo.eu/post/3layw6wk5bs2b)。  
一如既往，新功能已在 Next.JS（使用 React Canary）中提供。这些功能包括服务器组件和操作、新的 `use` 钩子、表单处理的改进（`useFormStatus` 和 `useOptimistic`），以及一个虽小但期待已久的变更：不再需要 `forwardRef` 了！

---

- 💸 [Omlet – Scan your repo and measure how and where React components are used](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-nov-2024)
- 👀 [Next.js segment cache initial implementation](https://github.com/vercel/next.js/pull/72875): A rewrite of App Router's client caching implementation, designed with PPR and "use cache" in mind. Not production-ready at all, but in the future Next will cache by route segment instead of by full URL.
- 👀 [React Query may soon have a unified staleTime per query](https://github.com/TanStack/query/pull/8313) instead of one per “observer” (e.g. each `useQuery`). This will be less flexible but certainly easier to reason about.
- 👀 [React IDE](https://youtu.be/C8Mg-NSyqWg?t=14452): Mofei (React Compiler team) unveils at React Summit the plan to work on a VSCode extension powered by the compiler. Don't get too excited, because we don't know much about it yet!
- 👀 [TanStack Start is officially in beta](https://bsky.app/profile/tannerlinsley.com/post/3lbdl4zp2ns2n)
- 📖 [The Road to Next](https://www.road-to-next.com/): Robin Wieruch launched his paid Next.js 15 course with early access discounts.
- 🗓️ [React Day Berlin](https://reactday.berlin/?utm_source=Newsletter&utm_medium=thisweekinreact) - 🇩🇪 Berlin - 13 & 16 December - Hurry and grab your ticket to the conference as prices are about to go up! And don’t forget your discount with code “TWIR”.
- 📜 [Essential Typescript for React](https://www.jacobparis.com/content/react-ts): A concise article on the most valuable tips to be productive.
- 📜 [Be careful with useSyncExternalStore](https://www.nico.fyi/blog/be-careful-with-usesyncexternalstore): implementation of a `useLocalStorage` hook using `useSyncExternalStore` and `superjson`.
- 📜 [5 differences between React server components and server-side rendering](https://www.tymzap.com/blog/5-differences-between-react-server-components-and-server-side-rendering): At this point you already know that they are not at all the same. This recaps the concrete differences between the two.
- 📜 [Design System: from scratch or from the shelf?](https://www.voorhoede.nl/en/blog/design-system-from-scratch-from-the-shelf/)
- 📜 [What are React Portals?](https://techhub.iodigital.com/articles/what-are-react-portals)
- 📜 [Creating your own React design system analytics tool with react-scanner](https://alexocallaghan.com/creating-your-own-react-design-system-analytics-tool)
- 📜 [Quick Guide to Building a PWA with Next.js](https://playfulprogramming.com/posts/pwa-nextjs-guide)
- 📜 [Vercel - Skew Protection is now enabled by default for new projects](https://vercel.com/changelog/skew-protection-is-now-enabled-by-default-for-new-projects)
- 📜 [React Anti-Pattern: Stop Passing Setters Down the Components Tree](https://matanbobi.dev/posts/stop-passing-setter-functions-to-components)
- 📦 [react-scan](https://github.com/aidenybai/react-scan): The MillionJS team released a new tool to find performance issues (re-renders) in React apps.
- 📦 [PayloadCMS 3.0 \- Seamless integration with Next.js app router](https://github.com/payloadcms/payload/releases/tag/v3.0.0): The CMS can now run seamlessly within your existing Next.js app, exposing a `withPayload()` plugin.
- 📦 [MistCSS 1.0](https://github.com/typicode/mistcss): Instead of generating full React components from CSS, the library now bets on generating types to enhance intrinsic React JSX elements. Interesting idea!
- 🎥 [Jack Herrington - “use cache” NextJS’s latest take on data caching](https://www.youtube.com/watch?v=ZDRGEewXkrs)
- 🎥 [Theo - How To Avoid Big Serverless Bills](https://www.youtube.com/watch?v=jsuNjCAngnQ): Various tips for Vercel or Next.js users.
- 🎥 [React Summit US - Live Stream](https://www.youtube.com/watch?v=C8Mg-NSyqWg)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![在 React 应用中释放文档超能力！](/emails/issues/209/nutrient.jpg)](https://www.nutrient.io/sdk/web)

**[在 React 应用中释放文档超能力！](https://www.nutrient.io/sdk/web)**

注意了，React 爱好者们：PSPDFKit 现已更名为 **Nutrient**！👋 虽然我们有了新名字，但我们的 Web SDK 仍然是您所依赖的同类最佳选择，用于查看、批注和编辑 PDF 及其他文档类型。

- 🏎️ 通过免费试用和详尽的文档快速入门
- ⏱️ 利用流畅的内置 UI 和我们的新设计系统 **Baseline-UI** 来节省开发时间
- 🛠️ 利用丰富的 API 进行处理和自定义
- 🆘 利用我们的支持和解决方案工程团队，获取领域专家的帮助

我们为您提供从移动端到后端的**全平台**覆盖。

想要解决具有挑战性的问题并**影响数百个应用程序**吗？查看我们的空缺职位，例如[高级前端开发工程师](https://www.nutrient.io/company/careers/web-frontend)。

---

## 📱 React-Native {#react-native}

[![Expo 工作流](/emails/issues/210/workflows.jpg)](https://expo.dev/blog/expo-workflows-automate-your-release-process)

[**Expo 工作流**](https://expo.dev/blog/expo-workflows-automate-your-release-process)
Expo 宣布了“工作流”，这是一个用于 React Native 和 Expo 应用的新 CI/CD 工具，它通过预打包任务（例如使用 Maestro 的端到端测试）、自动化工作流和智能机器选择来简化和加速应用发布，以实现最佳性能。虽然它并非旨在直接替代更通用的 CI/CD 解决方案（如 GitHub Actions），但它承诺带来值得探索的激动人心的改进。

🎉 [Expo 发布派对](https://expo.dev/launch-party)仍在进行中。不要错过他们的公告\！

- 📣 [Expo - 为 EAS Update 引入通道暂停功能：可通过网页或 eas cli 暂停通道](https://expo.dev/changelog/2024/11-14-channel-pausing)
- 📜 [Expo Router 中的通用 React 服务端组件（测试版）](https://expo.dev/blog/universal-react-server-components-developer-preview): Expo Router 首次引入通用 React 服务端组件，支持在原生和 Web 应用中实现服务端渲染。虽然因生产导出功能尚未就绪且主要面向库作者而暂未达到生产就绪状态，但这项进展令人振奋——它可直接访问服务端资源（如密钥、数据库和文件系统），通过消除客户端-服务端往返来简化开发并提升性能。
- 📜 [Expo DOM 组件的魔力](https://expo.dev/blog/the-magic-of-expo-dom-components): Expo DOM 组件结合 WebView 的速度和渐进式原生迁移方案，简化了 Web 功能到 React Native 应用的集成。虽然当前受限于 WebView 性能及与部分 Expo 功能的兼容性，但未来更新将致力于增强原生集成和性能优化。

---

- 💸 [notJust Hack - React Native 开发者线上黑客马拉松。12月开赛：构建、发布、角逐、赢取大奖！](https://bit.ly/4fDgOXX)
- 📖 [掌控大屏幕：《React Native TV 开发指南》](https://www.callstack.com/ebook/mastering-the-big-screen-react-native-for-tv-guidebook)
- 🐦 [Oskar 为 react-native-bottom-tabs 实现了 Jetpack Compose 自适应导航的 POC](https://x.com/o_kwasniewski/status/1858620684706214095)
- 🐦 [Mike 演示了使用 React Native FastIO 上传 1.2GB 文件](https://x.com/grabbou/status/1858920818744389947)
- 🐦 [Jay 正在开发代号 Legend List 的新列表组件，性能或超越 FlashList](https://x.com/jmeistrich/status/1855663310386958840)
- 🐦 [通过 Expo SDK 52 未公开的新特性，在 React Native 中实现 SwiftUI MeshGradient 组件](https://bsky.app/profile/tsapeta.dev/post/3lbf2kw75t22y)
- 📜 [如何将 React Native 集成到现有应用中](https://www.callstack.com/blog/how-to-integrate-react-native-with-an-existing-app)
- 📦 [React Native 0.76.2](https://github.com/facebook/react-native/releases/tag/v0.76.2)
- 📦 [React Native Executorch 0.1 - 基于 ExecuTorch 在设备端运行 AI 模型](https://blog.swmansion.com/introducing-react-native-executorch-2bdb87592884)
- 📦 [React Native SVG 15.9 - 新增 FeDropShadow 和 FeComposite 滤镜](https://github.com/software-mansion/react-native-svg/releases/tag/v15.9.0)
- 📦 [React Native Gesture Handler 2.21 - Web 端双指平移手势，新增 `ReanimatedDrawerLayout` 组件](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.21.0)
- 📦 [React Native Screens 4.1 & 4.2 - 修复旧架构 iOS 模态动画问题，支持 iOS 透明大标题](https://github.com/software-mansion/react-native-screens/releases/tag/4.2.0)
- 📦 [React Native Video 6.8 - 支持 Web 端及 HLS 视频缓存](https://github.com/TheWidlarzGroup/react-native-video/releases/tag/v6.8.0)
- 📦 [React Native Skia 1.5.4 - 通过构建标志启用实验性 Graphite（Vulkan/Metal）后端](https://github.com/Shopify/react-native-skia/releases/tag/v1.5.4)
- 📦 [React Native Turbo Haptics - 快速、兼容 worklet 的触觉反馈](https://github.com/christianbaroni/react-native-turbo-haptics)
- 📦 [React Native Yoga JSI 0.1](https://github.com/Swami-Laxmikant/react-native-yoga-jsi)：这个实验性库让你在 JS 端访问 Yoga API，可配合 React Native Skia 等库在画布上布局元素。
- 🎙️ [火箭飞船第 54 期 - 与 Kim Chouard 探讨 React Native 音乐游戏（Skia, NativeWind, Expo AV）](https://share.transistor.fm/s/34b8c9fc)
- 🎥 [Simon Grimm - Expo SDK 52：DOM、RSC、路由、新架构与包更新](https://www.youtube.com/watch?v=OROMGU3jq6E)

---

## 🔀 其他 {#other}

- 👀 [Deno - 支持导入 wasm 模块](https://github.com/denoland/deno/issues/2552)
- 👀 [ES TC39 提案 `import.sync()` 进入 stage 0 阶段](https://github.com/guybedford/proposal-import-sync)
- 📜 [使用 Deno Compile 创建自包含可执行程序](https://deno.com/blog/deno-compile-executable-programs)
- 📜 [在 Chrome DevTools 性能面板中直接注释跟踪记录](https://developer.chrome.com/blog/devtools-annotations?hl=en)
- 📜 [JavaScript 应用中 dependencies 与 devDependencies 的对比](https://angelika.me/2024/11/11/dependencies-vs-dev-dependencies-javascript-apps/)
- 📦 [Angular 19](https://blog.angular.dev/meet-angular-v19-7b29dfd05b84)
- 📦 [Bun v1.1.35](https://bun.sh/blog/bun-v1.1.35)

---

## 🤭 趣事 {#fun}

[![React 19 即将到来](/emails/issues/210/meme2.jpg)](https://bsky.app/profile/sebastienlorber.com/post/3lay3dhefgc2o)

[![内联函数破坏 memoization](/emails/issues/210/meme1.jpg)](https://x.com/shuding_/status/1844678879748723059)

[![做得好，Angular](/emails/issues/210/meme3.jpg)](https://bsky.app/profile/did:plc:hxmev3uady7j4litwnr5fzbg/post/3lbfdts6p6c27)

再见！👋