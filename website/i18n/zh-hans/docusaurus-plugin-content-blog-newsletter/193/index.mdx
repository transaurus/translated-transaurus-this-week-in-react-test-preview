---
slug: /193
title: "This Week In React #193: State of React, Server Functions, next/form, useId, Astro, Meteor, Gluestack, React-Aria, Turbopack, Airbnb, Apollo, DRY, IDX, Bootsplash, Flash Calendar, CSS, ES, Poku..."
authors: [slorber, bndkt]
date: 07-24-2024
---

大家好！

本周，React 生态调查报告结果终于出炉，其中充满了有趣的见解。

我发现了一些关于 React 抽象的优秀文章，以及来自不同 React 和 React Native 公司的反馈和案例研究。

Astro 发布了 Server Islands，这看起来是一个相当简单但引人注目的解决方案，可与 Next.js 的 Partial Prerendering 相媲美，Vercel 也就此发表了一篇精彩文章。此外，还有令人期待的 Meteor 复兴，React Aria 的发布，以及面向 Universal React Native 开发者的 Gluestack-UI v2。

你是否喜欢 TypeScript 和一般的 Web 开发工具？快来参加 [Squiggle Conf](https://2024.squiggleconf.com/?utm_source=thisweekinreact)（🇺🇸 波士顿 - 10月3日至4日），使用代码“TWIR”可享受10%的折扣。已公布重量级演讲嘉宾！

<!-- truncate -->

**💡 [在 Twitter 上查看本通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![为您的企业定义类别的 React 网格](/emails/issues/190/advertfinal.jpg)](https://1771technologies.com/graphitegrid)

**[为您的企业定义类别的 React 网格](https://1771technologies.com/graphitegrid)**

数据网格是 Web 应用程序中的复杂组件，但当前的解决方案效率低下、需要大量维护且性能不佳。[Graphite Grid](https://1771technologies.com/graphitegrid) 通过两大关键特性改变了这一局面：可重定向渲染和响应式信号状态。

**Graphite Grid** 将网格状态与视图逻辑分离，允许单一统一的状态模型支持多种渲染目标（声明式或命令式）。它包含 **DOM 和 Canvas** 渲染器，为开发者提供灵活、高性能的选择 🚀。

Graphite Grid 具有声明性和一致性，利用状态信号确保与应用程序的无缝集成。它专为 **React 设计**，是唯一基于 React 状态管理原语构建的 JavaScript 数据网格。[立即试用！](https://1771technologies.com/graphitegrid/demo)

---

## ⚛️ React {#react}

[![React 生态 2023 - 调查结果](/emails/issues/193/stateofreact.jpg)](https://2023.stateofreact.com/en-US)

**[React 生态 2023 - 调查结果](https://2023.stateofreact.com/)**

首个 React 生态调查报告结果终于上线。数据收集于 2023 年 11 月，结果发布耗时较长。这是一个分析我们钟爱的框架生态系统趋势的绝佳工具。明年它将变得更好，以观察这些趋势如何演变。闲话少叙，以下是我的精选：

- [Hooks 的采用已取得巨大成功](https://x.com/JoshWComeau/status/1814292932461306239)
- React Query、Zustand、Radix UI、React Aria、shadcn/ui、tRPC 和 Zod 的积极信号非常明显
- 没有明确的 React 框架赢家。Next.js 最受欢迎，但其保留率略低于 Astro 和 Remix
- React 渲染器使用情况表明 React 不仅仅是 React-DOM。超过 30% 的用户使用 React Native，9% 使用 React-Three-Fiber
- 只有 7% 的用户使用过 [我最喜欢的被低估的 Hook useSyncExternalStore](https://thisweekinreact.com/articles/useSyncExternalStore-the-underrated-react-api)
- This Week In React 是“博客和杂志”类别中第五大热门资源（❤️️ 感谢！）

下一届 State of React 2024 调查[计划于 2024 年 9 月进行](https://dev.to/sachagreif/planning-out-the-2024-state-of-surveys-4lb9)，现在是参与调查设计的时候了。

---

- 💸 [Reactile – a new approach to React-based web apps. Create your own views. Let it handle your windows and widgets in a single browser tab](https://www.reactile.net/?utm_source=reactnewsletter)
- 👀 [Next.js PR - next/form](https://github.com/vercel/next.js/pull/68102)
- 🗓️ [React-Brussels](https://www.react.brussels/?utm_source=thisweekinreact) - 🇧🇪 Brussels - 18 October - Some speakers have already been revealed ! Check out now, and apply 10% discount with code “TWIR”.
- 📜 [Data Fetching with Server Actions in Next.js](https://www.robinwieruch.de/next-server-actions-fetch-data/): You can use Server Actions to fetch client data using React-Query. There are limitations to consider though: they use POST requests and run sequentially. FYI a "use server" function called outside a transition is not a Server Action, but a [Server Function](https://x.com/sebastienlorber/status/1816096442492051672).
- 📜 [Use useId() Instead Of Hand-Making IDs](https://reacttraining.com/blog/use-useid-instead-of-hand-making-ids): IDs are useful for accessibility, but you’d rather avoid creating them manually if you want to mount a component twice, or have good support for React hydration. To access DOM elements, `useRef` is enough.
- 📜 [Do not pass DTOs to UI components](https://darios.blog/posts/do-not-pass-dtos-to-ui-components): Explain why you’d rather design component props shapes independently, instead of blindly using your backend payloads as props.
- 📜 [DRY – the common source of bad abstractions](https://swizec.com/blog/dry-the-common-source-of-bad-abstractions/): Greatly illustrates how React devs could end up creating the wrong abstractions. React UI libraries learned over the years to not over-abstract and give you great flexibility through composition.
- 📜 [Turbopack updates: Moving homes](https://vercel.com/blog/turbopack-moving-homes): The Turbopack bundler is moving to the Next.js repository. Co-location will help the team iterate faster on production builds (currently 92%-ready!). Turbopack will remain a framework-agnostic standalone bundler: once ready, it will be moved back to a separate repository.
- 📜 [Vercel - How to choose the best rendering strategy for your app](https://vercel.com/blog/how-to-choose-the-best-rendering-strategy-for-your-app): Great overview of all the rendering strategies (SSG, SSR, ISR, CSR), their tradeoffs, and best practices. Using Partial Pre-Rendering builds on top of the strategies above. Using Next.js with Server Components and Suspense boundaries makes your app future-proof for selecting the best rendering strategy for each component.
- 📜 [How Airbnb Smoothly Upgrades React](https://medium.com/airbnb-engineering/how-airbnb-smoothly-upgrades-react-b1d772a565fd): Airbnb recently upgraded their frontends from React 16 to React 18. Using a “React Upgrade System”, relying on shared infrastructure code and an incremental migration and rollout strategy.
- 📜 [Fine-grained Markdown](https://v1.codehike.org/blog/fine-grained-markdown): Interactive article from the creator of Code Hike (based on MDX) showing how we can decorate Markdown and extend it in a typesafe way to make it a richer medium.
- 📜 [Data fetching in useEffect vs Remix loader](https://www.jacobparis.com/content/use-effect-fetching)
- 📜 [Integrating Next.js with New Relic](https://www.thisdot.co/blog/integrating-next-js-with-new-relic)
- 📜 [Clean(er) React Architecture (Part 8) - How Does React-Query Fit Into The Picture?](https://profy.dev/article/react-architecture-tanstack-query)
- 📜 [Zoom - Why we chose T3 stack to build our reference apps on Web](https://developers.zoom.us/blog/why-we-chose-to-build-with-the-t3-stack/)
- 📦 [Astro 4.12 - Server Islands](https://astro.build/blog/astro-4120/): Astro released a great new Server Islands feature that renders a placeholder on the server, and replaces it independently with dynamic content afterward, enabling you to render the rest of your site statically. This is an alternative approach to the Next.js model, planning to solve this with React Server Components + Suspense + Partial Pre-Rendering. Their demo is a rebranded fork of the Next.js PPR one and outperforms it!
- 📦 [Meteor.js 3.0](https://forums.meteor.com/t/its-official-meteor-3-0-official-release-is-out/61860): Meteor just released a new major version that drops the legacy Fibers coroutines in favor of async/await, upgrade to Node 20 and integrates Express. This new version claims to be [Renaissance of Meteor.js](http://meteor.js), with launch events starting on July 29th. I’ve never used Meteor, and curious to know what place it will take alongside the modern React frameworks we have today.
- 📦 [React Aria July 22 release - React 19 ready, virtualization improvements, toast focus management improvements, Color Picker RC](https://react-spectrum.adobe.com/releases/2024-07-22.html)
- 📦 [Apollo Client 3.11 - Subscription improvements, React 19 + compiler support, new testing library, new Devtools options](https://www.apollographql.com/blog/whats-new-in-apollo-client-3-11)
- 📦 [eslint-plugin-use-server - Disallows top level "use server"](https://github.com/c-ehrlich/eslint-plugin-use-server)
- 🧩️ [Design GUI - Browser Extension for managing colors in CSS Variables - Support for shadcn/ui](https://www.designgui.io/)
- 🎥 [React Summit 2024 - All the talks are online](https://portal.gitnation.org/events/react-summit-2024)
- 🎥 [dotJS 2024 - YouTube playlist with talks from Malte Ubl, Mark Dalgleish and more](https://www.youtube.com/watch?v=9tx-dE8oBTY&list=PLMW8Xq7bXrG7fOUOLJQw9I7ygJCbue9zO)
- 🎥 [Sam Selikoff - How to build a Recursive React Component](https://www.youtube.com/watch?v=6UU2Ey4KZr8)
- 🎥 [Web Dev Simplified - How To Debug React Apps Like A Senior Developer](https://www.youtube.com/watch?v=l8knG0BPr-o)
- 🎙️ [Why you should use Redux in 2024 with Mark Erikson](https://podrocket.logrocket.com/redux-2024-mark-erikson)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助 {#sponsor2}

[![AuthKit 可用于任何框架，而不仅仅是 Next.js](/emails/issues/193/authkit.jpg)](https://www.youtube.com/watch?v=237vaK_nYRg)

**[AuthKit 可用于任何框架，而不仅仅是 Next.js](https://www.youtube.com/watch?v=237vaK_nYRg)**

并非每个人都使用 Next.js——但它确实像是唯一获得一流集成的 JavaScript 框架。由 WorkOS 提供支持的 AuthKit 是一个基于 Radix 组件构建的开源身份验证 UI。

这里有一个[教程展示如何在 30 分钟内设置 **AuthKit 与任何 JS 框架**](https://www.youtube.com/watch?v=237vaK_nYRg)。

- 🏗️ AuthKit 非常灵活——同时提供高级集成和底层 SDK
- 🔐 可与 WorkOS 用户管理结合使用，**免费支持高达 100 万月活跃用户 (MAU)**
- ✨ 您的用户，您的数据。有效用户对象的唯一要求是电子邮件地址
- ☄️ 角色权限、多因素认证(MFA)、用户模拟和机器人防护等功能均为标准配置。在达到 100 万 MAU 前无需支付任何费用

---

## 📱 React-Native {#react-native}

本部分由 [Benedikt](https://twitter.com/bndkt) 撰写。

[![Gluestack-UI v2](/emails/issues/193/gluestack.jpg)](https://gluestack.io/)

**[Gluestack-UI v2 - 适用于 Expo/Next 的通用复制粘贴组件](https://gluestack.io/)**

Gluestack-UI 提供适用于 React、Next.js 和 React Native 的通用组件及模式，可直接复制粘贴使用。新发布的 v2 版本是次重大更新，重点优化性能、减少依赖项并支持 React Server Components (RSC)。其基于 Tailwind CSS（Web 端）和 NativeWind（原生端）。由于采用复制粘贴模式，升级过程不如直接更新依赖简单，但官方提供了简明教程和代码修改工具协助升级。为展示 v2 特性，团队还发布了 🐦 [X 平台预告视频](https://x.com/gluestack/status/1813895494005112859)。

---

- 💸 [Sentry - 支持 React Native、Expo、Hermes 及其他所有技术（除部分例外）的应用监控工具。被 400 万开发者认为“还不错”。免费获取 Sentry](https://sentry.io/welcome/?utm_medium=email&utm_source=THIS_WEEK_IN_REACT&utm_campaign=TWIR_july_2024&utm_content=rn-quick-link)
- 🐦 [新实验性 expo-doctor 功能根据 reactnative.directory 元数据验证项目依赖](https://x.com/notbrent/status/1814016564452315374): 让你知道何时在使用不再维护或不支持新架构的库。
- 🐦 [Expo 文档的新更新](https://x.com/amanhimself/status/1815460518515118266): 单点登录（SSO）、Metro 打包器别名和 expo-drizzle-studio-plugin
- 🐦 [Google IDX（基于 Web 的 IDE）现支持 React Native / Expo](https://x.com/kirupa/status/1813690012720120225)
- 🐦 [学习如何使用 +native-intent 执行第三方深度链接的重定向和利用](https://x.com/expo/status/1814274913030520874)
- 📜 [使用 Flash Calendar 构建快速、灵活的日历](https://expo.dev/blog/build-fast-flexible-calendars-in-react-native-with-flash-calendar): 构建日期选择器很难，使其高性能则更难——Flash Calendar 解决了这个问题，并且具有高度可定制性。
- 📜 [构建多平台待命移动应用](https://incident.io/hubs/building-on-call/building-a-multi-platform-on-call-mobile-app): 来自 incident.io 的案例研究
- 📜 [驱动创新：MyWheels 从 RNC CLI 到 Expo 的旅程](https://expo.dev/blog/from-rnc-cli-to-expo)
- 📦 [Bootsplash 6.0 - 现在支持 Expo 配置插件](https://github.com/zoontek/react-native-bootsplash/releases/tag/6.0.0)
- 📦 [React Native 0.75 rc.6](https://github.com/facebook/react-native/releases/tag/v0.75.0-rc.6)
- 📦 [React Native 的 TinyBase 示例](https://github.com/expo/examples/tree/master/with-tinybase): 构建本地优先应用的优秀入门项目。
- 🎥 [Harry Tormey - 将 Coinbase 的 5600 万用户迁移到 React Native：关键经验与启示](https://stepchange.work/blog/migrating-coinbases-56-million-users-to-react-native-key-lessons-and-takeaways)
- 🎥 [Simon Grimm - 你需要知道的 10 个 Expo Router 技巧](https://www.youtube.com/watch?v=1hD1ZClxpfc)
- 🎥 [Daniel Friyia - 使用 Expo、Skia 和 Reanimated 进行游戏开发入门](https://www.youtube.com/watch?v=Af2-OT9mE14)
- 🎥 [Reactiive - 动画堆叠卡片 - 探索插值函数](https://www.youtube.com/watch?v=8_hvNoZJsc8)

---

## 🔀 其他 {#other}

- 👀 [New CSS Editor's Draft - Functions and Mixins Module](https://drafts.csswg.org/css-mixins/)
- 📣 [CSS font-size-adjust is now in Baseline](https://web.dev/blog/font-size-adjust)
- 📜 [What’s New for JavaScript Developers in ECMAScript 2024](https://thenewstack.io/whats-new-for-javascript-developers-in-ecmascript-2024/)
- 📜 [TypeScripter's Take on Zig](https://effectivetypescript.com/2024/07/17/advent2023-zig/)
- 📜 [Typed CSS variables using @property](https://css-tip.com/typed-variables/)
- 📜 [An update on invokers: Invoker commands in HTML](https://utilitybend.com/blog/an-update-on-invokers-invoker-commands-in-html)
- 📜 [New in CSS: relative colors](https://www.stefanjudis.com/notes/new-in-css-relative-colors/)
- 📜 [Why is spawning a new process in Node so slow?](https://blog.val.town/blog/node-spawn-performance/)
- 📦 [Poku - cross-platform test runner for Node.js, Bun, Deno](https://github.com/wellwelwel/poku)

---

## 🤭 趣事 {#fun}

[![alt](/emails/issues/193/meme.jpg)](https://x.com/vinceflibustier/status/1814233715641389456)

[![alt](/emails/issues/193/meme2.jpg)](https://x.com/birch_js/status/1815299684728201400)

再见！👋