---
slug: /158
title: "This Week In React #158: Astro, Server Components, VisionCamera, Owner Tree, Props Drilling, Next.js, Remix, Chakra, TypeScript, Skia, Biome, CSS, Node.js..."
authors: [slorber]
date: 09-06-2023
---

大家好！

本期涵盖了两周的新闻，包括两个重大发布：Astro 3.0 和 VisionCamera 3.0。同时也有很多有趣的文章，因此我不得不做了些筛选！

Bun 1.0 将于今晚发布。我很好奇他们的计划。在单元测试中用它替代 Jest 进行测试时，速度确实非常快。

React-Native EU 大会今天开幕。我发现了一些[🐦非常有趣的演讲](https://twitter.com/sebastienlorber/status/1696837186677530813)，尤其是关于 Static Hermes 的那场。

想去意大利的朋友，可以参加 10 月 27 日在维罗纳举办的 [reactjsday](https://2023.reactjsday.it/)。大会为我们的读者提供了[-10%的门票折扣](https://ti.to/grusp/reactjsday-2023/discount/media_TWIR)以及 2 张在线/远程门票，我将赠予最先回复此邮件申领的前两位读者。

我经常忘记在这里提及，但我践行"公开构建"。你可以查看我最近的[月度 Indie Hackers 报告](https://www.indiehackers.com/product/french-react-newsletter)和[🐦更多 Twitter 详情](https://twitter.com/sebastienlorber/status/1699065823959421109)。

<!-- truncate -->

**💡 [在 Twitter 上查看此新闻稿](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![Frontendmasters](/emails/issues/158/frontendmasters.jpg)](https://frontendmasters.com/learn/react/?utm_source=newsletter&utm_medium=thisweekinreact&utm_campaign=reactpath)

**[FrontendMasters – 通往高级 React 开发者的完整 React.js 学习路径](https://frontendmasters.com/learn/react/?utm_source=newsletter&utm_medium=thisweekinreact&utm_campaign=reactpath)**

从基础到高级主题（性能、测试、代码质量）系统学习 React.js。从《React 完全入门》构建实际应用开始，接着学习《中级 React》集成生态流行工具，最后掌握性能优化、TypeScript 乃至全栈框架 Next.js！

---

## ⚛️ React {#react}

[![Astro 3.0](/emails/issues/158/astro3.jpg)](https://astro.build/blog/astro-3/)

[**Astro 3.0**](https://astro.build/blog/astro-3/)

此版本创新性地采用了 View Transition API，实现页面间流畅动画跳转的同时保留组件状态，大幅降低了 SPA 的使用需求。

其他重要改进包括：

- 图片优化功能稳定
- 渲染性能提升：组件渲染速度提高 30-75%
- 无服务器 SSR 增强：新增托管平台连接方案
- JSX 的 HMR 增强：支持 React/Preact 的快速刷新
- 构建输出优化：生成更简洁高效的 HTML

---

[![Making Sense of React Server Components](/emails/issues/158/rsc.jpg)](https://www.joshwcomeau.com/react/server-components/)

[**理解 React 服务端组件**](https://www.joshwcomeau.com/react/server-components/)

Josh Comeau 带着他对 React Server Components 的精彩介绍回归了，该内容取材自他[课程](https://www.joyofreact.com/)（预计下周上线）。丰富的动画示意图让这个新的 React 范式变得易于理解。

---

- 💸 [Zero To Shipped - Master Fast-Paced Fullstack Development and **Finally** ship that product](https://www.zerotoshipped.com/)
- 🐦 [Remix v2 pre-release](https://twitter.com/remix_run/status/1696525340640936190): if you have already enabled [future flags v2](https://remix.run/blog/future-flags), you should be able to upgrade easily and remove these flags.
- 🐦 [Dan Abramov joins Bluesky](https://twitter.com/dan_abramov/status/1695566446007386214): Dan has left Meta and joined this Twitter competitor based on a cross-platform Expo app. I think this is great news, we may have gained a great evangelist [to promote cross-platform and Expo](https://twitter.com/dan_abramov/status/1699476986727399933).
- 🐦 [WIP testing docs for Next.js App Router](https://twitter.com/leeerob/status/1698758756924825723)
- 🧑‍🎓 [Next.js App Router - Forms and Mutations docs](https://nextjs.org/docs/app/building-your-application/data-fetching/forms-and-mutations): new doc page explaining the use of Server Actions and the React `useFormStatus` and `useOptimistic` hooks.
- 💬 [Next.js Tim Neutkens' Deep Dive - Caching and Revalidating](https://github.com/vercel/next.js/discussions/54075)
- 📜 [Parents & Owners in React: Data Flow](https://julesblom.com/writing/parents-owners-data-flow): original interactive and visual article, explaining the problem of props drilling and how to avoid it with slotted components. Explains the concepts of parent tree and owner tree. The props drilling problem becomes clearly visible in the diagrams.
- 📜 [Challenging Established Norms: Making Component Fetching the Exception](https://jjenzz.com/making-component-fetching-the-exception/): an interesting thought that encourages you to run your queries at route level to avoid waterfalls, and use composition to avoid props drilling.
- 📜 [Rust Server Components](https://anto.pt/articles/rust-server-components): proposes to partially reproduce RSC, MDX and Suspense using Rust, HTMX and a few other libs. "the Rust equivalent of T3 Stack". Nice to read, even though I don't do Rust. Not convinced that the end result solves all the problems RSCs do.
- 📜 [Chakra, Panda and Ark - What's the plan?](https://www.adebayosegun.com/blog/chakra-panda-ark-whats-the-plan): Segun answers a number of questions about his libraries. Chakra v3 arrives in Q4, but will still use Emotion. The addition of "use client" makes it easier to use in RSCs. Adoption of the Radix `asChild` pattern.
- 📜 [How to Pass a Component as a Prop in React](https://www.totaltypescript.com/pass-component-as-prop-react): Matt shares some TypeScript + React typing tips. The type to implement "as" prop is quite scary 😬.
- 📜 [Handling type-safe toast notifications with zod in Remix applications](https://alemtuzlak.hashnode.dev/handling-toasts-in-remix): explains how to use the Remix flash session to give feedback after an action.
- 📜 [Optimizing Next.js cold starts for Vercel](https://holocron.so/blog/optimizing-next.js-cold-starts-for-vercel)
- 📜 [Strongly Typing React Props with TypeScript](https://www.totaltypescript.com/react-props-typescript)
- 📜 [You Might Not Need A useEffectAsync Hook](https://krassnig.dev/blog/you-might-not-need-a-use-effect-async-hook.html)
- 📜 [Web Developers, CSS-in-JS is Ruining Your Product](https://cord.com/blog/migrating-from-css-in-js-to-vanilla-extract)
- 📜 [Build your own headless UI components](https://www.jacobparis.com/content/react-headless-submenus)
- 📜 [Building a toast component](https://emilkowal.ski/ui/building-a-toast-component)
- 📦 [next-flat-routes](https://github.com/ifyio/next-flat-routes)
- 📦 [Puck - Self-hosted drag and drop editor for React](https://github.com/measuredco/puck)
- 📦 [react-prod-sourcemaps](https://github.com/markerikson/react-prod-sourcemaps)
- 📦 [Reshaped 2.2 - Now available on NPM](https://reshaped.so/content/blog/2.2)
- 👥 [reactjsday](https://2023.reactjsday.it/) (Verona 🇮🇹, Octobre 27, 2023) is offering us [-10% on conference tickets](https://ti.to/grusp/reactjsday-2023/discount/media_TWIR) with code "media_TWIR"

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![谷歌表单的全功能非云替代方案](/emails/issues/155/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)

**[谷歌表单的全功能非云替代方案](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)**

如果您希望建立完全集成到 IT 基础设施中的强大表单管理系统，在完全掌控数据流的同时，又不想花费数月时间和数千美元来部署实施，那么 SurveyJS 就是您的理想选择！

SurveyJS 是由四个开源 JavaScript 库组成的产品套件，支持在拖拽式表单构建器中创建和编辑多个基于 JSON 的动态表单，在 React 应用中渲染这些表单，并将敏感调查数据存储在自有基础设施中。您还可以将自定义调查表渲染为浏览器中可编辑的 PDF 文件，并通过交互式图表和表格可视化调查结果。[立即了解更多](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=email)。

---

## 📱 React-Native {#react-native}

[![VisionCamera 3.0](/emails/issues/158/visioncamera3.jpg)](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.0.0)

[**VisionCamera 3.0**](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.0.0)

新版 VisionCamera 刚刚发布，主要亮点包括：

- 完整的 Android Camera2 重构
- 自定义 GPU OpenGL 视频处理管线
- 新增相机功能
- 全新帧处理器引擎 (react-native-worklets-core)
- 新增帧处理器插件 API

Marc 最终决定[移除 Skia 集成](https://github.com/mrousavy/react-native-vision-camera/pull/1740)，以控制 VisionCamera 的代码体积和复杂度。

在[**使用 VisionCamera V3、TFLite 和 Skia 的姿态检测**](https://mrousavy.com/blog/VisionCamera-Pose-Detection-TFLite)一文中，他详细解释了这种集成方案的可能性，实现效果令人印象深刻。

[![使用 VisionCamera V3、TFLite 和 Skia 的姿态检测](/emails/issues/158/frame-processing-skia.jpg)](https://mrousavy.com/blog/VisionCamera-Pose-Detection-TFLite)

---

- 📜 [React Native 未来展望](https://buttondown.email/whatever_jamie/archive/things-to-look-forward-to-in-react-native/)：全面概述了未来几年 React Native 的发展方向，包括 Web 一致性、静态 Hermes、Node-API、React 服务端组件等...
- 📜 [React Native 性能测量与监控工具](https://semaphoreci.com/blog/react-native-performance-measuring-monitoring-tools)
- 🧵 [React Native 手势处理器所有手势详解（含真实案例）](https://twitter.com/kacperkapusciak/status/1698719844089160189)
- 👀 [Expo - 通过 EAS Insights 了解用户并促进应用增长](https://expo.dev/changelog/2023/08-22-insights)
- 📦 [expo-ahap - Apple 触觉与音频模式库](https://github.com/EvanBacon/expo-ahap)
- 📦 [react-native-z-view](https://github.com/intergalacticspacehighway/react-native-z-view)
- 📦 [Universal Medusa - 基于 Expo/Solito/Next.js/Nativewind/Medusa 的电商项目模板](https://github.com/bidah/universal-medusa/)
- 🔗 [Awesome Universal React - 通用框架/库/设计系统/应用/资源合集](https://github.com/axeldelafosse/awesome-universal-react)
- 🎥 [React Native 模糊渐变实验](https://www.youtube.com/watch?v=oboF_H1MApo)
- 🎥 [使用 React Native Skia 实现 iPhone 壁纸效果](https://www.youtube.com/watch?v=Apqd749v34I)
- 👥 [React Native EU 2023](https://www.react-native.eu/)（波兰弗罗茨瓦夫 🇵🇱，9月7-8日）使用优惠码 "thisweekinreact15" 可享[会议门票 -15% 折扣](https://ti.to/react-native-eu/2023/discount/thisweekinreact15)

---

## 🔀 其他领域 {#other}

- 📊 [2023 CSS 现状调查报告](https://2023.stateofcss.com/)
- 📜 [Node.js 的 Rust 化实践](https://gal.hagever.com/posts/my-node-js-is-a-bit-rusty)
- 📜 [Biome 发布 - Rome 项目的官方分支（原项目已停止维护）](https://biomejs.dev/blog/annoucing-biome)
- 📜 [视图转换会破坏渐进式渲染](https://ericportis.com/posts/2023/view-transitions-break-incremental-rendering/)
- 📜 [合理运用 Web 组件的优势](https://nolanlawson.com/2023/08/23/use-web-components-for-what-theyre-good-at/)
- 📜 [基于 @property 的类型安全 CSS 设计系统](https://nerdy.dev/cant-break-this-design-system)
- 👀 [TypeScript 5.3 迭代计划](https://github.com/microsoft/TypeScript/issues/55486)
- 📦 [TypeScript 5.2 正式发布](https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/)
- 📦 [Node 20.6 - 内置 .env 文件支持](https://nodejs.org/en/blog/release/v20.6.0)
- 📦 [Firefox 117 - CSS 嵌套特性全面可用](https://www.mozilla.org/en-US/firefox/117.0/releasenotes/)
- 📦 [Espresso Build - 实验性次世代包注册表/包管理器/工具链](https://espresso.build/)

---

## 🤭 轻松一刻 {#fun}

[![meme](/emails/issues/158/meme.jpg)](https://twitter.com/sebastienlorber/status/1687456078198394882)

下次见！ 👋