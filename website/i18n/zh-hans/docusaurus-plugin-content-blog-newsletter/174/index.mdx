---
slug: /174
title: "This Week In React #174: ReactLabs, React-Strict-DOM, Forget, Remix, Hono, Redwood, Isograph, SafeTest, React-Aria, RN 0.74 RC, Reanimated, RNGH, Expo, RN+TV, VisionCamera, Hermes, TC39, LLRT, Vite..."
authors: [slorber, bndkt]
date: 02-22-2024
---

大家好！

我上周休息了，所以我们要补上两周的新闻，而且有很多新闻！你们中的许多人喜欢我邮件的详尽性，所以……尽情享受被大量链接淹没的乐趣吧😅！

我们收到了来自 Meta 的重大更新，包括你们可能已经知晓的 React Labs 更新，以及最近为跨平台爱好者推出的 React Strict DOM 更新。我也对 Remix 2.7 达成的新里程碑感到兴奋，这标志着从 React Router 应用到 Remix SPA 模式的迁移路径的开始。

最后召集：想参加 [React Conf 2024](https://conf.react.dev/)（5月15-16日内华达州）？只剩一周时间[赢取抽奖门票](https://forms.reform.app/bLaLeE/react-conf-2024-ticket-lottery/1aRQLK)，或提交演讲至[CFP](https://sessionize.com/react-conf-2024/)。

<!-- truncate -->

**💡 [在 Twitter 上查看此新闻稿](https://slo.im/thread) - 视觉格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![Axiom - Vercel 应用的最佳日志平台](/emails/issues/171/axiom.jpg)](https://axiom.co/vercel)

**[Axiom - Vercel 应用的最佳日志平台](https://axiom.co/vercel)**

😴 安心入眠，因为 Axiom 为零配置的 Vercel 项目可观测性提供了全面保障。

- 使用 Axiom 预建仪表板可纵览所有 Vercel 日志与性能指标，深入特定项目与部署，一键获取函数性能洞察。
- [next-axiom](https://github.com/axiomhq/next-axiom) 支持从 Next.js 项目的任何部分（客户端、边缘或服务端）发送日志和事件，无需特殊配置。
- 直接从代码轻松发送结构化日志，并与 Vercel 日志联合分析。

Axiom 高效捕获100%事件数据，您无需担心采样或保留策略，也无需猜测用户体验。

**附注**：我[亲自用它监控新闻稿订阅情况](https://twitter.com/sebastienlorber/status/1528666563452317696) 😉

---

## ⚛️ React {#react}

[![React Labs - 我们近期的进展 – 2024年2月](/emails/issues/174/react-labs.jpg)](https://react.dev/blog/2024/02/15/react-labs-what-we-have-been-working-on-february-2024)

**[React Labs - 我们近期的进展 – 2024年2月](https://react.dev/blog/2024/02/15/react-labs-what-we-have-been-working-on-february-2024)**

本周我们迎来 React Labs 近一年来的首次官方更新，并发布了一些激动人心的公告。其中许多内容我们已在此介绍过，但官方总结仍具价值！

React Forget 🐦 [现更名为 React Compiler](https://twitter.com/en_JS/status/1758224340880158955)，且 🐦 [Instagram 的生产环境部署](https://twitter.com/sebastienlorber/status/1734607171030303186) 似乎已取得成功。

下一版 React 将是一个主要版本。React 19 即将到来，而某个[会议](https://conf.react.dev/)非常适合宣布这样的消息😏。该版本还将内置对管理页面元数据的支持（相当于 React-Helmet 的功能，但具备正确的流式支持）、资源加载（包含 Suspense 集成）以及用于客户端到服务端数据传输的 Actions。类似 Next.js 和 Remix 等元框架需用专有实现覆盖的范围正在缩小。

即将推出的 React 功能中最被低估的 Offscreen API（现命名为 Activity）已暂时降级优先级，以便专注于 React 19。我们需要再等待一段时间，才能充分利用 React 18 引入的并发模型。

总体而言，现在是 React 开发者激动人心的时刻，我们期待下一个主要版本的到来！

另请参阅：

- 🐦 [Andrew Clark 的推文](https://twitter.com/acdlite/status/1758229889595977824)包含了我首次了解的有趣补充内容，例如 React refs 将成为普通 props，或能用 `<Context>` 替代 `<Context.Provider>`。
- 🎥 [Theo Browne 的总结视频 - React 19 来了，你准备好了吗？](https://www.youtube.com/watch?v=B-tjhF7ojeA)

---

[![Remix 2.7 - Remix Vite 现已稳定](/emails/issues/174/remix-vite.jpg)](https://remix.run/blog/remix-vite-stable)

**[Remix 2.7 - Remix Vite 现已稳定](https://remix.run/blog/remix-vite-stable)**

这是 Remix 的重要版本，稳定了 Vite 插件和 SPA 模式，完善了对 Cloudflare Pages 的支持，引入了预设系统，并带来诸多实用改进。即将发布的专题文章将详述新 SPA 模式如何帮助 Vite + React Router 应用迁移到 Remix，而无需引入服务端运行时。如果你仍在使用 Create-React-App，现在或许是迁移到 Vite 的好时机！

---

- 💸 [React Component Analytics — Omlet Scans Your Codebase to Measure Component Usage to Increase Code Quality and Design Systems Adoption](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-feb-2024)
- 🐦 [Next.js DevTools preview - visualize what gets pre-rendered, stream, caches, etc…](https://twitter.com/rauchg/status/1757402186060083272)
- 👀 [React Docs PR - Add useFormStatus pitfall example](https://github.com/reactjs/react.dev/pull/6620): The new useFormStatus hook requires to be nested under a `<form>` component that acts like a provider. When that’s not possible, you can reimplement it thanks to startTransition
  👀 [React PR - Move all client code to react-dom/client](https://github.com/facebook/react/pull/28271)
- 📜 [HTML Streaming and DOM Diffing Algorithm](https://aralroca.com/blog/html-node-streaming): Present various contexts in which streaming can be used. Including a simplified example of how React Suspense works.
- 📜 [React 19 Will Be Compiled](https://reacttraining.com/blog/react-19-will-be-compiled): Explains memoization and gives an interesting perspective on the “compilation spectrum” of frameworks. React 19 with a compiler will remain less compiled than Svelte.
- 📜 [React, Solid, htmx - how far can they go?](https://bobaekang.com/blog/react-solid-htmx/): Interesting thoughts of different approaches to bridge the “network chasm”.
- 📜 [What we've learned from the transition to Next.js 14 with Server Components](https://medusajs.com/blog/client-server-transition-learnings-nextjs-14-server-components/): Medusa e-commerce framework recently upgraded their Next.js starter template. Presents interesting side-by-side code comparisons. After getting used to the RSC model, it greatly simplifies your code.
- 📜 [React Trends in 2024](https://www.robinwieruch.de/react-trends/): Robin Wieruch sharing his annual list of exciting React trends to follow.
- 📜 [UI = f(statesⁿ)](https://daverupert.com/2024/02/ui-states/): Dave lists all the kind of states than can affect your UI. This formula strongly reminds React, but the post remains generic.
- 📜 [Clean Architecture in React](https://alexkondov.com/full-stack-tao-clean-architecture-react/)
- 📜 [Global state with XState and React](https://stately.ai/blog/2024-02-12-xstate-react-global-state)
- 📜 [What is Astro?](https://www.eddyvinck.com/blog/what-is-astro/)
- 📜 [OpenTask - A Next.js App Router Case Study](https://flsilva.com/blog/opentask-nextjs-app-router-case-study/)
- 📜 [How to Build a Blog with Next.js App Router & Headless Hashnode](https://spacejelly.dev/posts/how-to-build-a-blog-with-next-js-app-router-headless-hashnode)
- 📜 [Simplifying Form Rendering In React with Field Component Abstraction](https://claritydev.net/blog/abstract-react-form-fields-with-field-component)
- 📜 [Password protecting routes in Next.js App Router](https://www.alexchantastic.com/password-protecting-next)
- 📜 [Syntax Highlighting with Shiki, React Server Components, and Next.js](https://www.luckymedia.dev/blog/syntax-highlighting-with-shiki-react-server-components-and-next-js)
- 📜 [How to optimize the DOM size in React JS?](https://scientyficworld.org/how-to-optimize-the-dom-size-in-react-js/)
- 📜 [How to do Incremental Static Regeneration and advanced caching with Remix](https://developers.netlify.com/guides/how-to-do-isr-and-advanced-caching-with-remix/)
- 📦 [Hono 4.0 - Static Site Generation, client components, file-based routing](https://github.com/honojs/hono/releases/tag/v4.0.0): It’s super interesting to see the Hono web framework supporting client-side React-like hooks such as useState, moving in the opposite direction of React (from the server to the client). Hono is maintained by a Cloudflare dev, and I wouldn’t be surprised to see this company seriously enter the “frontend framework war”. And we are still 🐦 [waiting for Aviation](https://twitter.com/GregBrimble/status/1758007869759189036), another React RSC framework from a Cloudflare dev.
- 📦 [Isograph 0.1.0](https://isograph.dev/blog/2024/02/15/isograph-0.1.0/) New modern React GraphQL client coming from an ex-Meta Relay maintainer just reached alpha stage milestone.
- 📦 [SafeTest - A Novel Approach to Front End Testing](https://netflixtechblog.com/introducing-safetest-a-novel-approach-to-front-end-testing-37f9f88c152d): The Netflix team introduced a novel approach to frontend testing, combining React, Jest/Vitest and Playwright, and aiming to solve respective shortcomings of both Integration (RTL) and E2E tests at once.
- 📦 [React Aria February 13, 2024 Release](https://react-spectrum.adobe.com/releases/2024-02-13.html): Introducing a new submenu feature in alpha (🐦 [demo](https://twitter.com/devongovett/status/1757540075636744236))
- 📦 [Redwood 7.0 - Redwood Studio, GraphQL realtime, GraphQL fragments, Node 20, server entrypoint…](https://community.redwoodjs.com/t/redwood-v7-0-0-is-now-available/5777)
- 📦 [Waku v0.19.3 introduces RSC hot reload support in development mode](https://github.com/dai-shi/waku/blob/main/CHANGELOG.md#0193---2024-02-14)
- 📦 [Astro 4.4 - All about performance](https://astro.build/blog/astro-440/)
- 📦 [Starlight 0.19 - Custom pages](https://starlight.astro.build/guides/pages/#custom-pages)
- 📦 [rsc-html-stream - Inject an RSC payload into an HTML stream and read it back](https://github.com/devongovett/rsc-html-stream)
- 📦 [react-print-pdf](https://github.com/OnedocLabs/react-print-pdf)
- 📦 [Storybook’s Visual Tests addon enters beta](https://storybook.js.org/blog/visual-tests-addon-beta/)
- 🎥 [Ben Holmes - React Suspense from scratch!](https://www.youtube.com/watch?v=cdOyOgwt9Zc)
- 🎥 [Ryan Toronto - Out-of-order streaming in React](https://www.youtube.com/watch?v=23bHSDJD9y4)
- 🎥 [Nadia Makarevich - Mastering React Reconciliation](https://www.youtube.com/watch?v=cyAbjx0mfKM)
- 🎥 [Jack Herrington - Are Your React Components Too BIG?](https://www.youtube.com/watch?v=NsFmOttIW9Y)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![React 的 FormBuilder SDK](/emails/issues/171/tripetto.jpg)](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)

**[React 的 FormBuilder SDK](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)**

为 React 项目提供的完整表单解决方案，被《财富》500 强企业采用。通过易用的开源组件，在 React 应用中快速构建和运行强大表单。文档详尽，五分钟即可上手，且深度可定制。

- 用于创建强大表单的构建器；
- 用于部署表单和收集数据的运行器；
- 灵活的表单布局（对话式、聊天式等）和样式；
- 支持自定义问题类型的可扩展性；
- 完整的文档、示例和演示；
- 无外部依赖的自托管方案；
- 免费开始使用、测试和优化。

TWIR 专属福利：[获取 FormBuilder SDK 许可证 25% 折扣](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)。

---

## 📱 React-Native {#react-native}

本栏目现由 [Benedikt](https://twitter.com/bndkt) 共同撰写。欢迎通过邮件或 [Twitter](https://twitter.com/bndkt) 向我们反馈意见！

---

[![React Strict DOM](/emails/issues/174/strict-dom.jpg)](https://github.com/facebook/react-strict-dom)

**[React Strict DOM](https://github.com/facebook/react-strict-dom)**

Meta本周不仅发布了关于React的重大消息。今天GitHub上出现了一个全新的仓库：[react-strict-dom](https://github.com/facebook/react-strict-dom)。README将其描述为"React DOM与StyleX的实验性集成，旨在改进和标准化面向Web和原生平台的样式化React组件开发"。它基于["React DOM for Native" RFC](https://github.com/react-native-community/discussions-and-proposals/pull/496)中的理念，在我看来可能对未来通用应用开发的思维方式产生重大影响。目前针对RN的通用应用最常见方案是React Native Web，它在Web端模拟RN组件和API。虽然RNW非常出色，但常给人一种将平台生硬套入另一平台的感觉。react-strict-dom的核心前提是构建一个支持Web、iOS和Android（未来可能扩展更多平台）的统一DOM库。其元素API基于Web标准，因此你会看到上图中类似HTML的语法。

一如既往，Dan Abramov用简洁的🐦[推文](https://twitter.com/dan_abramov2/status/1760245165703184516)完美阐述了这一理念：

> "看似RNW的精神继承者，但采用了相反方向（Web API已胜出，因此RN正在构建对严格子集的支持）。本质上，你将能在RN中渲染`<div>`了。"

查看当前[兼容性状态](https://github.com/facebook/react-strict-dom/blob/main/packages/react-strict-dom/COMPATIBILITY.md)可知仍有长路要走，但这无疑是通往更通用React道路上的激动里程碑！Meta已在内部使用！另可参阅Lorenzo的🐦[推文串](https://twitter.com/Kelset/status/1760367655423549480)及微软的参与情况。

---

- 👀 [Hermes PR - Add Support for ES2023 Array non-mutating methods](https://github.com/facebook/hermes/commit/b30f0e453d82594654810730211e092415aa6a3c): ES support in Hermes is improving. About Hermes, see also [this discussion](https://github.com/awslabs/llrt/issues/110#issuecomment-1939825912) discussion related to using it in AWS LLRT as a runtime for AWS lambdas / serverless functions.
- 💬 [Lorenzo Sciandra - Status recap for react-native-macos](https://github.com/microsoft/react-native-macos/issues/1935#issuecomment-1935714556): TLDR: It’s alive and kicking, but a lot of work is going into keeping up with upstream. Also, it’s actively used by MS and Meta!
- 📜 React Native on TVs: [Expo blog article](https://expo.dev/blog/how-to-build-tv-apps) and [ReactNativeTV.com](https://www.reactnativetv.com/)
- 📜 [Expo - Broadening the scope of dev tools plugins](https://expo.dev/blog/dev-tools-plugins)
- 📜 [expo-camera/next is ready for a close up](https://expo.dev/blog/expo-camera-next): expo-camera aims to be the simple, easy to use camera library, for advanced use cases look at react-native-vision-camera.
- 📜 [How React Native Screens powers Expo Router?](https://blog.swmansion.com/how-react-native-screens-powers-expo-router-766480fd2d06)
- 📜 [Extending React Native visionOS with RealityKit](https://www.oskarkwasniewski.dev/blog/react-native-visionos-realitykit-snow)
- 📜 [Image Optimization on CI and Local](https://www.callstack.com/blog/image-optimization-on-ci-and-local)
- 📖 [Apple will officially drop PWA support with iOS 17.4 in the EU](https://developer.apple.com/support/dma-and-apps-in-the-eu): All the more reason to build true native apps with React Native.
- 📖 [New React Native Gesture Handler docs](https://docs.swmansion.com/react-native-gesture-handler/)
- 🐦 [Evan Bacon: New Expo Router template for working with native context menus](https://twitter.com/Baconbrix/status/1759639968396333392?s=20)
- 📦 [React Native 0.74-RC.0](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.0)
- 📦 [gluestack-ui with NativeWind - Copy and paste components into apps](https://gluestack.io/ui/with-nativewind/docs/overview/introduction): Like shadcn/ui, but for React Native.
- 📦 [react-native-live-markdown](https://github.com/Expensify/react-native-live-markdown): Neat text input field with live markdown formatting.
- 📦 [expo-share-extension - Create native iOS share extension with a custom view](https://github.com/MaxAst/expo-share-extension)
- 📦 [react-native-reanimated 3.7.0](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.7.0): New clamp parameter in withSpring, generator support in worklet, visionOS support.
- 📦 [react-native-vision-camera 3.9](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v3.9.0): Lots of new features, especially for Android (focus, flash, …).
- 📦 [react-native-gesture-handler 2.15 - macOS/visionOS support, TurboModule](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.15.0)
- 🎥 [Theo Browne - The State of React Native 2023](https://www.youtube.com/watch?v=sJItBjarnr4)
- 🎥 [Jamon Holmgren - Intro to MobX-State-Tree](https://www.youtube.com/watch?v=n_VjjJxyd8Q)
- 🎥 [William Candillon - Heart Beat Animation](https://www.youtube.com/watch?v=3pVn3_Q_QfA)
- 🎙️ [The React Native Show 35 - Multiplatform App Development With React Native](https://www.callstack.com/podcasts/multiplatform-app-development-with-react-native)
- 🎙️ [React Native Radio 288 - Reacting to the 2023 State of React Native Results](https://reactnativeradio.com/episodes/rnr-288-survey-says-react-native-got-more-popular)
- 🎙️ [Rocket Ship 29 - State of React Native with Áron Berezkin](https://share.transistor.fm/s/aca1a636)
- 🎙️ [Rocket Ship 30 - Ignite React Native Projects with Frank Calise](https://share.transistor.fm/s/059aa605)
- 📅 [Chain React 2024 tickets are now on sale - July 17–19, 2024 in Portland, OR](https://twitter.com/ChainReactConf/status/1758192473686622271)
- 📅 [React Native EU rebrands to React Universe Conf - Sept 5-6, 2024 in Wrocław, Poland](https://www.reactuniverseconf.com)

---

## 🔀 其他 {#other}

- 👀 [第 100 次 TC39 会议更新 - Promise.try、函数装饰器、ArrayBuffer、Uint8Array、迭代器……](https://dev.to/hemanth/updates-from-the-100th-tc39-meeting-4j2f)
- 👀 [TC39 引入新的 stage 2.7](https://github.com/tc39/process-document/pull/37)
- 👀 [ES2024 发布候选版](https://ecmascript-daily.github.io/2024/02/17/release-es2024-candidate-february-2024-tc39-ecma262)
- 👀 [Biome 插件 RFC](https://github.com/biomejs/biome/discussions/1762)
- 👀 [Vite 6 讨论 - Vite 开始为下个主版本收集意见](https://github.com/vitejs/vite/discussions/15886)
- 👀 [JSR - Deno 团队推出的全新 ESM 专属包注册表](https://jsr.io/)
- 📜 [JSR 初体验](https://www.kitsonkelly.com/posts/jsr-first-impressions)
- 📜 [Shadow DOM 实用指南](https://www.mayank.co/blog/declarative-shadow-dom-guide/)
- 📜 [如何居中 Div 元素](https://www.joshwcomeau.com/css/center-a-div/)
- 📜 [代码覆盖率的实际应用](https://www.epicweb.dev/making-use-of-code-coverage)
- 📜 [GitHub Actions Artifacts v4 入门指南](https://github.blog/2024-02-12-get-started-with-v4-of-github-actions-artifacts/)
- 📜 [JavaScript Set 即将支持并集、交集、差集等操作](https://www.sonarsource.com/blog/union-intersection-difference-javascript-sets/)
- 📜 [迈向 Qwik 2.0 - 更轻量、更快速、更完善](https://www.builder.io/blog/qwik-2-coming-soon)
- 📜 [Vercel 完成 Turborepo 从 Go 到 Rust 的迁移](https://vercel.com/blog/finishing-turborepos-migration-from-go-to-rust)
- 📜 [Node.js 社区热议默认启用 Corepack 及解耦 npm 的提案](https://socket.dev/blog/node-community-debates-enabling-corepack-unbundling-npm)
- 📜 [Nx 发布周回顾 - Nx 18、Project Crystal、Nx Agents…](https://blog.nrwl.io/launch-nx-week-recap-3bc7c6c49ce1)
- 📦 [AWS LLRT - 基于 Rust QuickJS 引擎的 Lambda JS 运行时](https://github.com/awslabs/llrt)
- 📦 [Observables - 面向数据应用/仪表盘/报表的静态站点生成器](https://github.com/observablehq/framework)
- 📦 [Apple Pkl - 专为配置设计的编程语言](https://pkl-lang.org/blog/introducing-pkl.html)
- 📦 [Tempo - JavaScript 日期处理的最简方案](https://tempo.formkit.com/)
- 📦 [Shiki 1.0 - 强大美观的语法高亮工具](https://github.com/shikijs/shiki/releases/tag/v1.0.0)
- 📦 [Mock Service Worker 2.2 - 服务端边界 API](https://mswjs.io/blog/introducing-server-boundary)
- 📦 [Vitest 1.3 - onTestFinished、快照序列化器、增强的浏览器模式与 CLI…](https://github.com/vitest-dev/vitest/releases/tag/v1.3.0)
- 📦 [Vite 5.1 - Vite 运行时 API（实验性功能）](https://vitejs.dev/blog/announcing-vite5-1.html)
- 🎥 [Node.js 纪录片预告片](https://www.youtube.com/watch?v=SfWPqr04srM)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/174/meme.jpg)](https://twitter.com/sebastienlorber/status/1758252538883723759)

下次见！👋