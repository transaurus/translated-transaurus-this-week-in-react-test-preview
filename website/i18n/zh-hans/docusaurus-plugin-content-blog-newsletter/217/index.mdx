---
slug: /217
title: "This Week In React #217: View Transitions, RSC, Next.js, SWR, Nextra, React Router, Rails, Compiler, EAS Hosting, Shopify, Skia, OTP, Gesture Handler, Radon, React-Query, TC55, Bun, CSS..."
authors: [slorber]
date: 01-15-2025
---

大家好！

本周，我们继续注意到围绕即将推出的`<ViewTransition>`组件的有趣动态。

Expo终于推出了其通用跨平台托管解决方案，Shopify也分享了关于其使用React Native的有趣反馈。

请务必查看我们的合作伙伴会议——[React Paris 2025](https://react.paris/?utm_source=thisweekinreact) - 🇫🇷 巴黎 - 3月20日 & 21日（2天）/ 3月19日（工作坊） - 完整演讲嘉宾阵容刚刚公布！Jemima Abu、Antoine Chalifour和David Khourshid已加入阵容。使用代码"TWIR"可享8折优惠。

<!-- truncate -->

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![如果运行缓慢，那就是出错了 🐢](/emails/issues/217/sentry.jpg)](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)

**[如果运行缓慢，那就是出错了 🐢](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)**

性能低下只是另一种类型的错误 🐛。Sentry能帮助您快速发现错误，包括那些不明显的问题。

- 大幅减少不良API调用所耗费的时间
- 优化代价高昂、频繁访问或整体缓慢的数据库操作
- 在数分钟内定位流量突增的根源

无论是错误还是性能下降，Sentry都能帮助您快速修复问题，确保应用平稳运行。因为如果运行缓慢，那就是出错了。[亲身体验](https://sentry.io/lp/new-apm/?utm_source=thisweekinreact&utm_medium=paid-community&utm_campaign=perf-fy26q1-evergreen&utm_content=newsletter-primary-slowbug-seehow)。

---

## ⚛️ React {#react}

[![揭秘：React的实验性动画API](/emails/issues/217/viewtransition.jpg)](https://motion.dev/blog/reacts-experimental-view-transition-api)

**[揭秘：React的实验性动画API](https://motion.dev/blog/reacts-experimental-view-transition-api)**

Motion创建者解析了使用视图过渡的动画权衡，并解释了为何React通过新的`<ViewTransition>`组件将其直接集成到协调器中是合理的。这篇互动文章提前展示了即将推出的React功能，包括当前实现细节，并说明其与Motion布局动画的部分重叠之处。

请注意这个令人兴奋的新API仍在积极开发中，可能发生变化，新PR持续落地：

- 👀 [React核心PR - 仅支持View Transitions v2](https://github.com/facebook/react/pull/31996)：新组件将利用最新的v2规范API（如`view-transition-class`），要求Safari 18.2+，Firefox暂不支持
- 👀 [React核心PR - 基于事件类型的视图过渡类名](https://github.com/facebook/react/pull/32050)
- 👀 [Next.js PR - `experimental.viewTransition`标志](https://github.com/vercel/next.js/pull/74659)：可在Next.js 15.2 canary 4中试用

---

- 💸 [工程师的产品 - 产品管理已失灵。工程师可以修复它](https://dub.link/twir-jan15)
- 👀 [React 官网 PR - 升级至 Next.js 15、React 19，启用 React 编译器](https://github.com/reactjs/react.dev/pull/6996)
- 👀 [React Router 里程碑](https://github.com/remix-run/react-router/milestones)：现在公布未来版本计划。v7.2 将包含初始 RSC 支持（通过 loaders/actions）、Server Actions 和中间件。
- 👀 [Wakelet 采用编译器的实践](https://github.com/reactwg/react-compiler/discussions/52)：积极反馈，改善了 LCP 和 INP 指标。虽未完全解决性能问题，但近乎"免费午餐"体验。
- 📖 [Next.js 文档 - 使用 Next.js 的单页面应用](https://nextjs.org/docs/app/building-your-application/upgrading/single-page-applications)：新文档说明最新发布的 [SWR 2.3](https://github.com/vercel/swr/releases/tag/v2.3.0) 支持在 `<SWRConfig fallback>` 中传递 promise，实现数据获取从客户端到服务端的无缝迁移。
- 📜 [理解 React 服务端组件](https://tonyalicea.dev/blog/understanding-react-server-components/)：对 RSCs 全面且清晰的概述。
- 📜 [前端开发者必知的辅助功能要点](https://martijnhols.nl/blog/accessibility-essentials-every-front-end-developer-should-know)：含 React 示例的辅助功能技巧。
- 📜 [React 代码臃肿？试试组件钩子](https://www.tymzap.com/blog/bloated-react-code-try-component-hooks)：通过提取组件钩子降低认知负荷，让组件专注渲染。
- 📜 [在 React 中实现 FormData 和输入名称的类型安全](https://www.typeonce.dev/article/make-form-data-and-input-names-type-safe-in-react)：从手写 TS 到使用 Effect.Schema 和 FP 的方案。
- 📜 [在 Remix/React Router 中慎用 navigate(-1)](https://programmingarehard.com/2025/01/13/maybe-dont-navigate-1.html/)：如何安全回退且不离开当前应用。
- 📜 [2025 年该在 React 中使用 MobX-State-Tree 吗？](https://coolsoftware.dev/blog/mobx-state-tree-react-2025/)
- 📜 [精通 React Query](https://tigerabrodi.blog/become-expert-in-react-query)
- 📦 [Next.js 服务端组件测试](https://github.com/kettanaito/nextjs-rsc-testing)：使用 MSW 和 Playwright 测试 Next.js RSCs 的示例仓库。
- 📦 [Nextra 4.0](https://the-guild.dev/blog/nextra-4)：基于 Next.js 的文档框架升级至 App Router 等多项改进。
- 📦 [Base UI 1.0.0-alpha.5](https://base-ui.com/react/overview/releases)
- 📦 [Superglue 1.0 - React + Rails](https://thoughtbot.com/blog/superglue-1-0-react-rails-a-new-era-of-thoughtfulness)
- 🎥 [Theo - HTML 到达浏览器的所有路径](https://www.youtube.com/watch?v=Cifkb-ZVps4)
- 🎥 [Simeon Griggs - 从 React 文档到生产环境的 useOptimistic](https://www.youtube.com/watch?v=_0bwnnlUZRU)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![测试已死 - Meticulous 来了](/emails/issues/217/meticulous.jpg)](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan15th)

**[测试已死 - Meticulous 来了](https://www.meticulous.ai?utm_source=thisweekinreact&utm_campaign=jan15th)**

Meticulous 创建并维护全套端到端 UI 测试，**无需**开发者投入精力。

Traba 首席技术官的这段话最好地总结了该产品："Meticulous 从根本上改变了我们在 Web 应用中处理前端测试的方式，完全消除了编写任何前端测试的需求。该软件让我们确信每次变更都会经过完整的回归测试，使我们能够更快地交付代码，同时显著减少代码中的错误。该平台易于使用，降低了后端开发人员参与前端代码库的门槛。"

Meticulous 已被 Lattice、Bilt Rewards、Power 等多家公司采用。

我们首席技术官的这篇[文章](https://www.meticulous.ai/blog/lessons-from-a-decade?utm_source=thisweekinreact&utm_campaign=jan15th)阐述了为什么详尽测试能使工程效率翻倍的背景。

---

## 📱 React-Native {#react-native}

[![EAS 托管预览](/emails/issues/217/easdeploy.jpg)](https://expo.dev/blog/expo-announces-eas-hosting-service)

**[EAS 托管预览](https://expo.dev/blog/expo-announces-eas-hosting-service)**

Expo 发布了我们期待的首个通用应用托管平台，实现了将 Web 开发体验引入跨平台领域的愿景。它让我们能无缝部署 Expo 的服务器相关功能，特别是 Expo for Web、API 路由和通用 React 服务器组件。该平台考虑了移动应用的特殊性，如后端/应用版本同步。您可以使用 CLI 或 CI（EAS Workflows），底层采用 Cloudflare Workers 技术，并提供免费套餐。

---

[![Shopify 使用 React Native 的五年历程](/emails/issues/217/shopify.jpg)](https://shopifyengineering.myshopify.com/blogs/engineering/five-years-of-react-native-at-shopify)

**[Shopify 使用 React Native 的五年历程](https://shopifyengineering.myshopify.com/blogs/engineering/five-years-of-react-native-at-shopify)**

Shopify 已成功将其全部 6 个应用迁移至 React Native，并分享了细致入微的实践反馈，很好地总结了使用 React Native 的权衡取舍。积极方面包括：跨平台支持、性能表现、热重载功能、知识可移植性等。但仍需原生开发知识，调试体验和升级便捷性等方面仍有改进空间。

---

- 💸 [WithFrame - 加速应用开发的 React Native 模板](https://withfra.me)
- 👀 [Expo Router RSC 电影演示](https://github.com/EvanBacon/expo-rsc-movies)
- 📜 [使用 React Native Skia 创建动画加载器](https://reactiive.io/articles/animated-loader-skia)
- 📦 [React Native 0.78 RC.0](https://github.com/facebook/react-native/releases/tag/v0.78.0-rc.0)：此即将发布的版本升级至 React 19！请注意，由于错误修复，v0.77 稳定版已推迟至下周发布。
- 📦 [React Native 0.76.6](https://github.com/facebook/react-native/releases/tag/v0.76.6)
- 📦 [React Query 5.63 - 允许 useQuery 和 useQueries 取消订阅查询缓存](https://github.com/TanStack/query/releases/tag/v5.63.0)：特别适用于取消订阅隐藏的 RN 堆栈屏幕（包括查询），比 react-freeze 更强大/更精细。
- 📦 [Input OTP Native - 无样式且完全可定制的一次性密码输入组件](https://github.com/yjose/input-otp-native)
- 📦 [Edge-to-Edge 1.3 - 透明按钮导航栏](https://github.com/zoontek/react-native-edge-to-edge/releases/tag/1.3.0)
- 📦 [Skia 1.9 & 1.10 - 支持 tvOS、新协调器、图像采样选项](https://github.com/Shopify/react-native-skia/releases)
- 📦 [Radon 1.2 - RN 0.77 支持，Redux 和 React Query 工具，本地 EAS 构建](https://github.com/software-mansion/radon-ide/releases/tag/v1.2.0)
- 📦 [Screens 4.5 - RN 0.77 支持](https://github.com/software-mansion/react-native-screens/releases/tag/4.5.0)
- 📦 [Gesture Handler 2.22 - RN 0.77 支持，文本组件](https://github.com/software-mansion/react-native-gesture-handler/releases/tag/2.22.0)
- 📦 [Reanimated 3.16.7 - RN 0.77 支持](https://github.com/software-mansion/react-native-reanimated/releases/tag/3.16.7)
- 🎥 [Simon Grimm - Universal React Native 缺失的一环](https://www.youtube.com/watch?v=UpPj5xZiiFo)
- 🎙️ [React Universe On Air 46 - Shopify 迁移到 React Native 的经验教训（与 Mustafa Ali）](https://www.youtube.com/watch?v=WFoO-GDvrY8)
- 🎙️ [Rocket Ship 58 - React Native 游戏与动画（与 Ben Awad）](https://share.transistor.fm/s/249233ec)
- 🎙️ [RNR 318 - 在 Software Mansion 维护开源库](https://www.reactnativeradio.com/episodes/rnr-318-maintaining-open-source-libraries-at-software-mansion)

---

## 🔀 其他 {#other}

- 📣 [WinterTC (TC55) - 面向 Web 互操作服务器运行时的技术委员会](https://www.w3.org/blog/2025/collaborating-across-w3c-and-ecma-for-web-interoperable-server-runtimes-through-wintertc/)：取代 WinterCG，负责定义与 Web API 对齐的服务器运行时最小通用 API 规范。
- 📜 [构建系统与打包工具](https://github.com/orgs/web-infra-dev/discussions/24)：Rspack 维护者关于构建工具和打包工具如何实现增量模式的研究。
- 📜 [Node.js 类型剥离完全指南](https://satanacchio.hashnode.dev/everything-you-need-to-know-about-nodejs-type-stripping)：由 Node.js PR 作者解释的权衡方案，包括为何不支持 `.tsx` 文件。
- 📜 [CSS text-box-trim - 从上/下回收空间实现视觉平衡](https://developer.chrome.com/blog/css-text-box-trim)
- 📜 [可自定义的 select API 更新](https://una.im/select-updates/)
- 📜 [ECMAScript 特性：import 属性](https://2ality.com/2025/01/import-attributes.html)
- 📦 [Lightning CSS 1.29 - 支持视图转换第 2 级](https://github.com/parcel-bundler/lightningcss/releases/tag/v1.29.0)
- 📦 [Bun 1.1.43 - 支持 S3、HTML 打包、V8 快照等](https://bun.sh/blog/bun-v1.1.43)

---

## 🤭 趣事 {#fun}

[![alt](/emails/issues/217/meme.jpg)](https://bsky.app/profile/did:plc:hxmev3uady7j4litwnr5fzbg/post/3lfmnhwx6e222)

[![alt](/emails/issues/217/meme2.jpg)](https://x.com/mrousavy/status/1878383018324222000)

再见！👋