---
slug: /156
title: "This Week In React #156: Server Actions, Stale Closures, React Falls Behind, Expo Builds, Suspense Throttling, React-Aria, Natuerlich, Obsidiosaurus, Expo-SQLite, Expo DevTools..."
authors: [slorber]
date: 08-15-2023
---

大家好！

本周，我们收到了来自 React 和 React-Native 社区的许多文章，以及最新的 Expo 启动派对公告。有些文章非常长，我没时间全部读完。

📷 我最近一直忙于创建这份通讯的 [**Instagram 账号**](https://www.instagram.com/thisweekinreact/)！我计划在那里发布视觉化的 React 新闻和技巧，包括那些我无法在这里发布的最佳 meme 🤭。

🧑 我还移除了职位招聘版块，因为它并没有带来太多价值：我稍后会考虑如何重新整合它。

👥 对于 React-Native 开发者：[React Native EU](https://www.react-native.eu/)（波兰弗罗茨瓦夫，9月7-8日）为我们提供了[-15%的门票折扣](https://ti.to/react-native-eu/2023/discount/thisweekinreact15)。

<!-- truncate -->

**💡 [在 Twitter 上查看这份通讯](https://slo.im/thread) - 视觉格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![企业级的信息流、聊天和视频 API！](/emails/issues/153/stream.jpg)](https://getstream.io/video/voice-calling/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)

[**企业级的信息流、聊天和视频 API！**](https://getstream.io/video/docs/react/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)

Stream 是企业级 **API** 和 **SDK** 的制造商，帮助产品和工程团队大规模解决两个常见问题：应用内聊天和社交活动信息流。

借助 Stream，开发者可以在极短的时间内将任何类型的消息或信息流体验集成到他们的应用中，而无需从头构建这些功能。Stream Chat 让开发者能够轻松地将丰富的实时消息功能集成到他们的应用中。

Stream 为流行的框架提供健壮的客户端 SDK，例如 [**React**](https://getstream.io/chat/sdk/react/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)、[**React-Native**](https://getstream.io/chat/sdk/react-native/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)、Expo、Flutter、Android、Angular、Compose、Unreal 和 iOS。通过 Maker 账户，为你的初创项目或个人项目完全免费解锁企业级的功能、函数和 UI 组件。

[**尝试新的 React 视频教程！**](https://getstream.io/video/docs/react/?utm_source=thisweekinreact&utm_medium=sponsorship&utm_content=&utm_campaign=thisweekinreact_July2023_video_klmh22)

---

## ⚛️ React {#react}

[![React 服务器操作最终能修复表单问题吗？](/emails/issues/156/serveractions.jpg)](https://www.mux.com/blog/what-are-react-server-actions)

[**React 服务器操作最终能修复表单问题吗？**](https://www.mux.com/blog/what-are-react-server-actions)

这是一篇关于服务器操作（Server Actions）的精彩介绍，这是一个即将推出的 React 功能，已经集成到 Next.js 13.4（实验性）中。文章包含一个关于上传带标题视频的简短教程。服务器操作可以返回响应以向用户提供反馈，但显然这还不是理想的开发者体验（DX）。

在我看来，Server Actions 应致力于完全支持渐进式增强。这可能需要引入一个"flash"API来管理反馈，而无需任何客户端JavaScript。这在许多后端框架中已经存在，而Remix提供了一个([`session.flash()`](https://remix.run/docs/en/main/utils/sessions#sessionflashkey-value)) API。你可能会感兴趣的相关信息：使用[`action.$$FORM_ACTION`](https://twitter.com/sebastienlorber/status/1689921046856474625)可以扩展React的渐进式增强行为。

---

- 💸 [从零到发布 - 掌握快节奏全栈开发并**最终**发布产品](https://www.zerotoshipped.com/)
- 🧑‍🎓 [React.dev - 使用 TypeScript](https://react.dev/learn/typescript)：新增的官方文档页面。
- 💬 [Next.js RFC - next/third-parties 中的 Google Tag Manager 和 gtag](https://github.com/vercel/next.js/discussions/53868)：提议通过钩子而非组件集成 Google Analytics，可能支持 Web Worker。
- 🐦 [Million.js 自动模式 - 视频预告片](https://twitter.com/aidenybai/status/1689773623827943424)
- 📜 [因 React 而被遗忘（或从未知晓）的事](https://joshcollinsworth.com/blog/antiquated-react)：长篇批判 React 被视为过时框架的文章。尽管[本人持异议](https://github.com/josh-collinsworth/joco-sveltekit/issues/35#issuecomment-1680817566)认为作者有失公允，仍值得一读。
- 📜 [奇妙的闭包及其在 React 中的定位方法](https://www.developerway.com/posts/fantastic-closures)：阐释 React 中陈旧闭包的概念，列举引发该问题的多种场景，并提出基于 `useRef()` 的解决方案。
- 📜 [理解 Next.js 中 Server Actions 的最简示例](https://scastiel.dev/simplest-example-server-actions-nextjs)：极易理解的 Server Actions 实例，提供调用 API 的实用 RPC 实现方案。
- 📜 [论 React Suspense 的节流机制](https://andreigatej.dev/blog/on-react-suspense-throttling/)：揭示嵌套 `<Suspense>` 时 React 的意外行为。
- 📜 [停止 YAP 式开发](https://kyleshevlin.com/quit-your-yapping)：倡导摒弃"又一个属性(YAP)"综合症，转向组合模式。
- 📜 [Node.js 的配置地狱问题](https://deno.com/blog/node-config-hell)：Deno 对 Next.js 等项目常含数十个配置文件的批评。
- 📜 [Supabase - Vercel 集成与 Next.js App Router 支持](https://supabase.com/blog/using-supabase-with-vercel)：值得研究的集成方案，包含命名有趣的 API 如 `createClientComponentClient` 😅。
- 📜 [Astro 启航指南](https://remotesynthesis.com/blog/lifting-off-with-astro/)
- 📜 [使用 React Hook Form 进行表单验证](https://claritydev.net/blog/form-validation-react-hook-form)
- 📜 [React Testing Library 新 Lint 规则发布](https://blog.testdouble.com/posts/2023-07-31-a-new-rtl-lint-rule/)
- 📜 [Jotai 与 useTransition 在数据变更中的应用](https://blog.axlight.com/posts/how-to-use-jotai-and-use-transition-for-mutation/)
- 📜 [编码星空 - 基于 Three.js 和 React Three Fiber 的交互式星座](https://supabase.com/blog/interactive-constellation-threejs-react-three-fiber)
- 📦 [React Aria - 8月9日更新 - HTML表单提交/重置、DropZone、FileTrigger...](https://react-spectrum.adobe.com/releases/2023-08-09.html)
- 📦 [Natuerlich - WebXR 体验的可组合交互 - 支持 React-Three-Fiber](https://github.com/coconut-xr/natuerlich)
- 📦 [Reakit - 2023年8月更新](https://newsletter.ariakit.org/p/all-things)
- 📦 [Obsidiosaurus - Obsidian 到 Docusaurus 转换器](https://github.com/CIMSTA/obsidiosaurus)
- 📦 [tw2panda - 轻松将代码从 Tailwind 迁移至 Panda CSS](https://github.com/astahmer/tw2panda)
- 🎥 [为何我放弃 Next.js 选择 Astro](https://www.youtube.com/watch?v=BoeZqPaYw9s)
- 🎥 [使用 Tailwind CSS 实现响应式 Framer Motion](https://www.youtube.com/watch?v=xSuxsfn13xg)
- 🎥 [Dominik Dorfmeister：App Router 中的 React Query](https://www.youtube.com/watch?v=R4NHXrvwZWA)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![CoderPad：在共同工作之前一起编写代码](/emails/issues/154/coderpad.png)](https://coderpad.io/?utm_medium=3pmedia&utm_source=ThisWeekInReact&utm_campaign=23-Q3-3PMedia-ThisWeekInReact-ACQ-All-Global-Newsletter)

[**CoderPad：在共同工作之前一起编写代码**](https://coderpad.io/?utm_medium=3pmedia&utm_source=ThisWeekInReact&utm_campaign=23-Q3-3PMedia-ThisWeekInReact-ACQ-All-Global-Newsletter)

招聘前端开发人员很难。😩 但包括 Netflix、Spotify 和 LinkedIn 在内的 4,000+ 个工程团队已找到更好的方法！🤠 跳过算法面试，**在完全可定制且协作的 IDE 中运行前端面试**——您可以：

- 拖放 React（以及 Angular 或 Vue）仓库
- 使用 npm install 添加包
- 让候选人在面试中实时使用 ChatGPT
- 面试后观看和共享代码回放

使用 CoderPad 运行快速、公平且真实的编码面试，赢得候选人和面试官的信任。[立即免费注册，充满信心地招聘](https://coderpad.io/?utm_medium=3pmedia&utm_source=ThisWeekInReact&utm_campaign=23-Q3-3PMedia-ThisWeekInReact-ACQ-All-Global-Newsletter)。

---

## 📱 React-Native {#react-native}

[![Expo 预览 - EAS Build 上的完全可定制构建](/emails/issues/156/easbuild.jpg)](https://expo.dev/changelog/2023/08-10-custom-builds)

[**Expo 预览 - EAS Build 上的完全可定制构建**](https://expo.dev/changelog/2023/08-10-custom-builds)。

Expo 为 EAS Build 推出了新系统，允许通过 Yaml 文件自定义流程，灵活使用您选择的 monorepo 工具（Nx、Turbo、Rush...）或添加自定义 CI 步骤。这看起来与 GitHub Actions 非常相似。TIL：EAS 似乎在 iOS 构建中使用 Fastlane。

---

- 👀 [Expo 概念验证 - expo-sqlite 与 CR-SQLite 集成](https://expo.dev/changelog/2023/08-10-cr-sqlite)：SQLite 与 CRDT 技术集成，简化本地优先移动应用的开发。
- 👀 [Expo 概念验证 - Expo CLI 开发者工具插件](https://expo.dev/changelog/2023/08-10-dev-tools-plugins)：Expo 计划推出开发者工具插件系统，并通过 Apollo DevTools 进行演示，未来将取代 Flipper 插件。
- 🐦 [Reanimated 在 react-native-windows 的演示](https://twitter.com/piaskowyk/status/1689982162886430721)
- 🐦 [异步组件 + use() 钩子演示](https://twitter.com/SzymonRybczak/status/1691037156712599552)
- 🐦 [Top 20 iOS 体育应用中半数采用 React Native](https://twitter.com/Baconbrix/status/1690805340290301954)
- 📜 [Web 开发者提升大型 React Native 应用启动性能实践](https://medium.com/engineering-udaan/reacting-to-change-tale-of-a-web-developer-improving-startup-performance-for-a-large-react-native-854f8a4850fd)
- 📜 [将 React Native 集成到复杂应用的四部曲](https://www.nearform.com/blog/adding-react-native-to-a-complex-app-part-1-planning/)
- 📜 [React Native Storybook 入门指南](https://dev.to/dannyhw/getting-started-with-react-native-storybook-96c)
- 📜 [探索 React Native 新架构：新架构初探](https://blog.devvivek.tech/exploring-react-natives-new-architecture-a-peek-into-the-new-architecture)
- 🎙️ [React Native Show 播客 #25 - 移动应用数据库：React Native 与 Realm](https://www.callstack.com/podcasts/databases-for-mobile-apps-react-native-realm)
- 👥 [React Native EU 2023](https://www.react-native.eu/)（波兰弗罗茨瓦夫，2023年9月7-8日）提供[-15% 会议门票折扣](https://ti.to/react-native-eu/2023/discount/thisweekinreact15)，优惠码 "thisweekinreact15"。

---

## 🔀 其他领域 {#other}

- 📣 [Gecko (Firefox) - 原型计划：:has 选择器](https://twitter.com/intenttoship/status/1690045325539520523)
- 📜 [Web 浏览器基准线的意义](https://thenewstack.io/what-does-it-mean-for-web-browsers-to-have-a-baseline/)
- 📜 [弃用 unload 事件](https://developer.chrome.com/blog/deprecating-unload/)
- 📜 [包含所有 HTML 元素的博客文章](https://www.patrickweaver.net/blog/a-blog-post-with-every-html-element/)
- 📜 [布局位置如何影响三大 Web 性能杠杆](https://performance.shopify.com/blogs/blog/how-layout-position-impacts-three-big-web-performance-levers)
- 📦 [TypeScript 5.2 RC 发布公告](https://devblogs.microsoft.com/typescript/announcing-typescript-5-2-rc/)
- 📦 [Zod 3.22 - readonly() 方法](https://twitter.com/colinhacks/status/1691172205516984322)
- 👥 [ViteConf 2023 - 10月5日](https://viteconf.org/23/)

---

## 🤭 轻松一刻 {#fun}

[![趣味图片](/emails/issues/156/meme.jpg)](https://twitter.com/DanStepanov/status/1689511613026775040)

下次见！👋