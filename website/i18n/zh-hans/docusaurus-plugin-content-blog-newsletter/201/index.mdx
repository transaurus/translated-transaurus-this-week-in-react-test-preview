---
slug: /201
title: "This Week In React #201: TanStack, Remix, Next.js-SaaS-Starter, routing, ?search, decoupling, LLM, Astro, Redwood, Storybook, Conform, Nitro Modules, RN CSS, Re.Pack, Swift, VisionOS, Lottie, Node.js, TypeScript, Vite, date-fns..."
authors: [slorber]
date: 09-18-2024
---

大家好！

本周又有很多有趣的 React 社区文章，尤其是围绕 TanStack 的内容。

我们还发布了很酷的 React Native 公告，比如 Nitro Modules。

✍ 别忘了签署这份重要请愿书：[Oracle, it's time to free JavaScript](https://javascript.tm/)

同时查看我们的合作会议 🗓 [React Summit US](https://reactsummit.us/?utm_source=Newsletter&utm_medium=thisweekinreact) - 🇺🇸 纽约 \- 12月19日 & 22日。盛大的 React Summit 会议将在美国迎来第二届！

<!-- truncate -->

**💡 [在 Twitter 上查看本期通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![揭示 React 组件在开发团队中的使用情况](/emails/issues/201/omletad.png)](https://omlet.dev/?utm_campaign=partner_this-week-in-react_first-sponsor-sep-2024)

**[揭示 React 组件在开发团队中的使用情况](https://omlet.dev/?utm_campaign=partner_this-week-in-react_first-sponsor-sep-2024)**

☁️ 想象一下，能够精确查看开发人员在何处如何使用特定 React 组件，从而发现减少前端技术债务并证明设计系统价值的方法。Omlet 让这一切成为可能。

- 集中管理生产环境中所有自定义和可复用组件的目录
- 按特定属性搜索和筛选组件，找出需要更新、调试或更充分利用的内容
- 轻松创建并与团队共享自定义图表，展示设计系统采用率、遗留代码减少量、最少/最多使用的组件和属性等

5 分钟内即可完成设置并运行首次扫描。[免费试用](https://omlet.dev/?utm_campaign=partner_this-week-in-react_first-sponsor-sep-2024)

---

## ⚛️ React {#react}

[![TanStack Router 简介](/emails/issues/201/tanstack.jpg)](https://frontendmasters.com/blog/introducing-tanstack-router/)

**TanStack 动态**

本周不确定该选哪个头条，让我们将所有 TanStack 相关新闻汇总如下：

- 📜 [Introducing TanStack Router](https://frontendmasters.com/blog/introducing-tanstack-router/): Great routing/navigation overview of this full-featured client-side framework that powers the upcoming TanStack Start framework (in alpha). It notably shines for its great typesafety for links, path segments and search parameters. I particularly like the idea of linking with `to=”/users/$id”` instead of `to=”/users/123”`.
- 📜 [A milestone for TypeScript Performance in TanStack Router](https://tanstack.com/blog/tanstack-router-typescript-performance): Still related to TanStack Router, I also liked this post that dives deep into troubleshooting TypeScript performance problems in the language service, leading to slow IDE autocompletion.
- 📜 [How Infinite Queries work](https://tkdodo.eu/blog/how-infinite-queries-work): Dominik from React Query explains how Infinite Queries work under the hood, using an elegant code architecture with a pluggable behavior logic. He also explains how he fixed an historical bug that was only reported recently, caused by the retry logic.
- 👀 [Clerk TanStack start SDK (beta)](https://clerk.com/docs/quickstarts/tanstack-start): A third-party auth provider adding first-class auth support to the upcoming framework is a great sign of traction.

---

- 💸 [React Bricks - Transform React components into dynamic, visually editable bricks of content with the pioneering React Visual Headless CMS.](https://www.reactbricks.com/?utm_source=twir&utm_campaign=ql24)
- 🧑‍🎓 [XState: Complete Getting Started Guide](https://www.typeonce.dev/course/xstate-complete-getting-started-guide): Free comprehensive course on XState in a React context.
- 🖨 [React 19 Cheat Sheet](https://www.epicreact.dev/react-19-cheatsheet)
- 🗓️ [React-Africa](https://react-africa.com/?utm_source=thisweekinreact) - 🇲🇦 Casablanca - 29 November - Get a 10% discount with code “TWIR”. The full line up is now available, take a tour on the conference website !
- 🗓️ [React Advanced London](https://reactadvanced.com/?utm_source=Newsletter&utm_medium=thisweekinreact) - 🇬🇧 London - 25 & 28 October - 10% discount with code TWIR. Full line-up revealed !
- 📜 [Remix's concurrent submissions are fundamentally flawed (without causal ordering)](https://dashbit.co/blog/remix-concurrent-submissions-flawed): Following the migration of ChatGPT from Next.js to Remix, the creator of Elixir argues that Remix submission and validation model is subject to race conditions. Ryan Florence plans to respond later. Note this is a more general problem affecting most client-side frameworks, although React 19 actions run sequentially and are not affected by it.
- 📜 [How Remix's Flat File-Based Routing Works](https://www.udohjeremiah.com/blog/how-remix-flat-file-based-routing-works): Remix routing convention can be customized, but it comes with a default one that this post explains in details.
- 📜 [Using callbacks to achieve better component decoupling in React](https://darios.blog/posts/using-callbacks-in-react): Short but important lesson on how to decouple a parent component from its children, by narrowing callback types instead of injecting a parent `setState`.
- 📜 [SPA Lazy Loading Pitfalls](https://reacttraining.com/blog/spa-lazy-loading-pitfalls): When using React Router with lazy routes and loader functions, you’d rather avoid co-locating your loader function with the component that receives its data because it creates a waterfall.
- 📜 [LLM and RSC: A match made in Heaven](https://nikhilsnayak.dev/blogs/llm-and-rsc): Uses OpenAI function/tool calls to implement an MVP of generative UI. The interactive demo can render an interactive React component during the chat session.
- 📜 [Clean React with TypeScript](https://weser.io/blog/clean-react-with-typescript): Long-time ReasonML user adopts TypeScript and shares a great overview on how to best type React components, state, refs and events. You might be familiar with most types, but it also covers more advanced patterns such as forwarding props with `ComponentProps`.
- 📜 [Implementing Feature Flagging with the Next.js App Router](https://aurorascharff.no/posts/implementing-feature-flagging-with-nextjs-app-router/): Implements a custom feature flag system based on env variables. It works for both client and server components.
- 📜 [Search Params in Next.js for URL State](https://www.robinwieruch.de/next-search-params/): A good introduction to the `nuqs` library to implement typed search params to filter/sort a list of items.
- 📜 [Redwood background Jobs](https://redwoodjs.com/blog/background-jobs): Details the new feature introduced in the recent 8.0 release. It’s notably useful to perform slower actions such as sending emails, without delaying user responses. Jobs are stored in a database and executed by a scheduler.
- 📜 [Tailwind UI Radiant \- A beautiful new marketing site template](https://tailwindcss.com/blog/2024-09-12-radiant-a-beautiful-new-marketing-site-template): New paid Next.js template from the Tailwind CSS team, but the launch blog post also explains interesting details, such as FramerMotion variant propagation.
- 📜 [Don't Sleep on AbortController](https://kettanaito.com/blog/dont-sleep-on-abort-controller): Great vanilla JS article overall, including a cool React `useEffect` example
- 📦 [Vite 6 beta](https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md): This comes with the new [Environment API](https://main.vitejs.dev/guide/api-environment) useful to support multiple module graphs for SSR and RSCs.
- 📦 [Valtio 2.0](https://github.com/pmndrs/valtio/releases/tag/v2.0.0): Valtio won’t handle promises anymore, you need to use `React.use()` now. This inspired me to create a [demo](https://x.com/sebastienlorber/status/1836060870733955127) showing how this pattern of storing promises could greatly simplify vanilla data fetching with less complexity than `useEffect()`.
- 📦 [Next.js SaaS Starter \- Using Next.js 15, React 19 Postgres, Drizzle, Stripe, and shadcn/ui](https://github.com/leerob/next-saas-starter): I’m not that much into boilerplates (there are too many), but this one is created by Lee Robinson from Vercel, free, using cutting edge React 19 features with best practices in application.
- 📦 [Astro 5.0 beta \- stable Content Layer, Server Islands, astro:env](https://astro.build/blog/astro-5-beta/)
- 📦 [Hono-Remix-Adapter](https://github.com/yusukebe/hono-remix-adapter)
- 📦 [Storybook 8.3 \- Vitest integration, experimental Story globals](https://github.com/storybookjs/storybook/releases/tag/v8.3.0)
- 📦 [Conform 1.2 \- Input key prop no longer required](https://github.com/edmundhung/conform/releases/tag/v1.2.0)
- 📦 [Isograph 0.2 \- Modern GraphQL client](https://isograph.dev/blog/2024/09/11/isograph-0.2.0/)
- 📦 [Relay 18.0 \- `@alias`, `@catch`, editor integration improvements and more](https://github.com/facebook/relay/releases/tag/v18.0.0)
- 📦 [Shopify Hydrogen \- September 2024 release \- Improved sitemaps, search enhancements, localization, CSP fixes](https://hydrogen.shopify.dev/update/september-2024)
- 🎥 [Theo \- We need to talk about Chrome's new API](https://www.youtube.com/watch?v=ucMNiYFB4CA): Greatly introduces the new `scheduler.yield()` that landed in Chrome 129\. It is useful for Concurrent React to split work into smaller chunks and give priority to the user inputs.
- 🎥 [UI Engineering \- Making setState() instant](https://www.youtube.com/watch?v=H9IIwbUhEJA)

<SubscribeFormEmbed placement="middle" />

---

## 💸 赞助商 {#sponsor2}

[![放大JWT和会话令牌的优势](/emails/issues/201/clerk.jpg)](https://go.clerk.com/4kxhIiA)

**[放大JWT和会话令牌的优势](https://go.clerk.com/4kxhIiA)**

了解如何利用会话令牌认证和JWT的双重优势，实现最佳方案。

---

## 📱 React-Native {#react-native}

[![Nitro模块](/emails/issues/201/nitro.jpg)](https://mrousavy.github.io/nitro/)

**[Nitro模块](https://mrousavy.github.io/nitro/)**

Marc Rousavy终于发布了他期待已久的框架，用于创建具有出色开发者体验（DX）的极速原生模块。它基于Nitrogen代码生成器，能够从TypeScript接口生成类型安全的C++/Swift/Kotlin绑定。支持多种TypeScript类型。与其他模块解决方案不同，它能够（从C++）直接桥接到Swift和Kotlin。简单基准测试显示，在基础操作上Nitro模块性能优于ExpoModules和TurboModules。早期采用者的社区反馈非常积极，特别是William Candillion在react-native-wgpu中的应用。也值得阅读[Brent Vatne的评论](https://x.com/notbrent/status/1834647244089307279)，了解Expo模块为何暂未采用直接Swift C++互操作。

---

- 💸 [React Native Mastery - 掌握 React Native 和 Expo 所需的唯一课程](https://notjust.dev/react-native-mastery?utm_source=twir&utm_medium=email)
- 🐦 [React Native Skia 运行在 WebGPU Canvas 上](https://x.com/wcandillon/status/1834245607906496888): 精彩的演示，更重要的是解释了为 React Native 实现通用 Canvas API 的意图，类似于 web 上可用的 API。
- 🐦 [React Native WebGPU + React Three Fiber 演示](https://x.com/wcandillon/status/1834901444320801032)
- 📜 [在 React Native 中塑造超级应用的未来](https://www.callstack.com/blog/shaping-the-future-of-super-apps-in-react-native): Callstack 解释了为何押注 Rspack、Re.Pack 和 Module Federation v2 来实现超级应用。他们还宣布与 Zephyr Cloud 建立新合作，将该平台集成到 React Native 生态系统中，这是一个 SaaS 服务，可简化联邦应用的管理。注意 [Re.Pack 5.0 alpha](https://github.com/callstack/repack/releases/tag/%40callstack%2Frepack%405.0.0-alpha.0) 已发布，支持 Rspack，构建速度比 Webpack 快 5 倍。
- 📜 [React Native 布局组件](https://kyleshevlin.com/snippets/react-native-layout-components/): 我也喜欢这种将布局样式作为属性暴露的模式，可能会用它来创建 React Native 设计系统。
- 📜 [管理 React Native TV 应用焦点的 5 种方法](https://www.reactnativetv.com/blog/five-ways-of-managing-focus)
- 📜 [Expo Go vs 开发构建：该用哪个？](https://expo.dev/blog/expo-go-vs-development-builds)
- 📦 [React Native 0.76 RC1](https://github.com/facebook/react-native/releases/tag/v0.76.0-rc.1): 此版本稳定支持 CSS boxShadow 和 filter！注意更多 CSS 功能正在开发中（mix-blend-mode、isolate、outline 等）。
- 📦 [Swift 6 - 并发内存安全、类型化抛出、C++ 互操作、Foundation、测试](https://www.swift.org/blog/announcing-swift-6/)
- 📦 [React Native VisionOS 0.76 RC.0 - 支持 React Native 调试器](https://github.com/callstack/react-native-visionos/releases/tag/v0.76.0-rc.0-visionos)
- 📦 [Lottie React Native 7.0 - VisionOS、XCode 16、要求 0.73+、无重大破坏性变更](https://github.com/lottie-react-native/lottie-react-native/releases/tag/v7.0.0)
- 📦 [Sonner-Native - 一个固执己见的 React Native toast 组件（Sonner 的移植版）](https://github.com/gunnartorfis/sonner-native)
- 📦 [React Native Testing Library 12.7 - 模拟 TextInputs/ScrollView 原生状态、Switch toBeChecked()、通过 `alt` 属性匹配 Image](https://github.com/callstack/react-native-testing-library/releases/tag/v12.7.2)
- 📦 [React Native Iconify 2.0 - 动态导入、Next.js + Vite 支持、变量](https://github.com/oktaysenkan/react-native-iconify/releases/tag/v2.0.0)
- 🎥 [Reactiive - 使用 React Native (Reanimated) 制作动画条形图](https://www.youtube.com/watch?v=RO3qutJhU_Y)
- 🎥 [Simon Grimm - Cursor AI 能构建我的 React Native 应用吗？](https://www.youtube.com/watch?v=5Y_t6NRl_xI)
- 🎙️ [RNR 307 - React Universe 回顾](https://www.reactnativeradio.com/episodes/rnr-307-react-universe-recap)

---

## 🔀 其他 {#other}

- 👀 [TypeScript 5.7 Iteration Plan](https://github.com/microsoft/TypeScript/issues/59905)
- 👀 [Web Features Explorer \- A release note for the web platform](https://patrickbrosset.com/articles/2024-09-04-a-release-note-for-the-web-platform/)
- 📜 [Understanding Concurrency, Parallelism and JS](https://www.rugu.dev/en/blog/concurrency-and-parallelism/)
- 📦 [date-fns 4.0 \- First-class time zones support](https://blog.date-fns.org/v40-with-time-zone-support/)
- 📦 [Chokidar 4.0 \- Shrink 13 deps to 1 dep, native TS, CJS+ESM, require Node.js 14](https://github.com/paulmillr/chokidar/releases/tag/4.0.0)
- 📦 [Node 22.9 \- getCallSite API](https://nodejs.org/en/blog/release/v22.9.0)
- 📦 [Safari 18.0 \- View Transitions, Style Queries, Animate display, URL.parse()...](https://webkit.org/blog/15865/webkit-features-in-safari-18-0/)
- 📦 [Hono 4.6 \- Context Storage Middleware (AsyncLocalStorage)](https://github.com/honojs/hono/releases/tag/v4.6.0)
- 📦 [Biome 1.9 \- Stable CSS and GraphQL formatter/linter, `.editorconfig`](https://biomejs.dev/blog/biome-v1-9/)

---

## 🤭 趣味 {#fun}

[![替代文本](/emails/issues/201/meme.jpg)](https://x.com/sophiebits/status/1836272297801585041)

[![替代文本](/emails/issues/201/meme2.jpg)](https://x.com/thymikee/status/1831602712577733035)

[![替代文本](/emails/issues/201/meme3.jpg)](https://x.com/sebastienlorber/status/1833145461328244774)

再见！ 👋