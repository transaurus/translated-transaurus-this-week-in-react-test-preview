---
slug: /128
title: "This Week In React #128: SWR, Vite, Codux, Storybook, Next.js, Forget, Nylon, Paper, align-deps, INP, Zod, Tauri..."
authors: [slorber]
date: 12-13-2022
---

大家好！

我们即将进入圣诞季，React 博主们都在放缓更新节奏。我这边将会跳过两期更新。

不过仍有一些不错的版本发布和文章值得关注。我特别喜欢那篇关于字体布局偏移的文章。

<!-- truncate -->

**💡 [在 Twitter 查看本期通讯](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![React Bricks 是基于 React 组件的可视化编辑 CMS](/emails/issues/128/reactbricks.png)](https://reactbricks.com/?utm_source=this_week_in_react)

**[React Bricks 是基于 React 组件的可视化编辑 CMS](https://reactbricks.com/?utm_source=this_week_in_react)**

**对开发者灵活**：使用 React 组件创建自己的设计系统，在 JSX 中添加可视化编辑功能，并通过侧边栏控件编辑背景色等属性。可选择 Next.js、Gatsby 或 Remix 以及任何喜欢的 CSS 框架！

**对内容编辑者简单**：无需担心破坏设计系统即可直接可视化编辑，比在无头 CMS 中使用灰色字段编辑抽象实体容易得多。**同时节省时间**，内容编辑者能自主操作！

**具备企业级功能**：支持协作、时光机、单点登录、GDPR 合规数据中心、全球 CDN 优化图片、电商集成、定时发布等。

立即开始：[ReactBricks.com](https://reactbricks.com/?utm_source=this_week_in_react)

---

## ⚛️ React {#react}

[![SWR 2.0](/emails/issues/128/swr2.png)](https://swr.vercel.app/blog/swr-v2)

**[SWR 2.0](https://swr.vercel.app/blog/swr-v2)**

Vercel 数据获取库的重大版本更新。主要改进包括：

- 新增 `useSWRMutation` hook
- 简化的乐观 UI 更新
- 浏览器扩展：[SWR 开发者工具](https://swr-devtools.vercel.app/)
- 命令式预加载 API
- 增强的 React 18 支持

---

[![Vite 4](/emails/issues/128/vite4.png)](https://vitejs.dev/blog/announcing-vite4.html)

**[Vite 4](https://vitejs.dev/blog/announcing-vite4.html)**

Vite 这个前端工具正日益流行。此版本现已采用 Rollup 3，大幅简化了 Vite 内部资源管理。现提供两个具有不同权衡的 React 插件：

- [vite-plugin-react](https://github.com/vitejs/vite-plugin-react)：esbuild + Babel
- [vite-plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc)：在开发环境中用 SWC 替代 Babel，可改善冷启动和热模块替换性能

---

[![Codux - React 项目可视化 IDE](/emails/issues/128/codux.jpg)](https://dev.to/codux/introducing-codux-15j5)

**[Codux - React 项目可视化 IDE](https://dev.to/codux/introducing-codux-15j5)**

Nadav 是 Wix 的联合创始人，他向我们介绍了他的新项目——一个面向 React（很快将支持其他框架）的可视化 IDE。其目的并非取代现有 IDE，而是作为补充工具。Codux 支持独立编辑组件，包括通过可视化界面修改属性和样式。视频 [Meet Codux](https://www.youtube.com/watch?v=KG6i6cCz0P0) 能帮助您更好理解。它类似 Storybook，但增加了编辑功能，并能与代码实现双向同步。

---

- 📖 Beta docs: [team page updated](https://twitter.com/reactjs/status/1601328677677338624) + [useTransition demo](https://twitter.com/dan_abramov/status/1600709819648069632) + [useSyncExternalStore API ref](https://twitter.com/dan_abramov/status/1600530747550564354)
- 📖 [New Supabase Docs, built with Next.js](https://supabase.com/blog/new-supabase-docs-built-with-nextjs): Supabase's doc is migrating from Docusaurus to Next.js, due to the growing need to build something custom. Nevertheless, they give a very positive feedback on Docusaurus.
- 📖 [React Router website repository public](https://twitter.com/remix_run/status/1600979694622367744)
- 📖 [React-Spring - New doc site](https://twitter.com/_josh_ellis_/status/1602253329526128641)
- 📜 [Integrate Next.js and Storybook automatically](https://storybook.js.org/blog/integrate-nextjs-and-storybook-automatically/): introduce the automatic support of Next.js via the new [Framework API](https://storybook.js.org/blog/framework-api/) that comes in Storybook 7 (now in [beta](https://github.com/storybookjs/storybook/releases/tag/v7.0.0-beta.0)). Storybook is able to understand your Next.js project better. No more need to add decorators/addons for navigation, Link and Image components. The support will continue to improve over time: Server Components, next/font...
- 📜 [Optimizing Web Fonts in Next.js 13](https://www.lydiahallie.io/blog/optimizing-webfonts-in-nextjs-13): probably the best illustrated article explaining font layout shifts. Explains at the end how Next.js optimizes this for us automatically. Worth reading!
- 📜 [Migrating a large, open-source React application to Next.js and Vercel](https://vercel.com/blog/migrating-a-large-open-source-react-application-to-next-js-and-vercel): Vercel is doing a POC of migrating the BBC's open-source site, just for fun 😄 They're highlighting the benefits gained just by being on a Next.js stack and call BBC to action if they want to pursue this migration.
- 📜 [Avoid These Common Pitfalls Of React useState](https://profy.dev/article/react-usestate-pitfalls): 6 common useState anti-patterns presented with solutions + embedded interactive exercice playgrounds
- 📜 [The Evolution of urql](https://formidable.com/blog/2022/evolution-of-urql/)
- 📜 [Publishing Docusaurus to dev.to with the dev.to API](https://dev.to/johnnyreilly/publishing-docusaurus-to-devto-with-the-devto-api-9bg)
- 📜 [An Introduction To RedwoodJS](https://blog.openreplay.com/an-intro-to-redwoodjs/)
- 📜 [Using Path Matching in React Router](https://www.taniarascia.com/path-matching-in-react-router/)
- 📜 [Testing API Calls in useEffect using React Testing Library and Jest](https://www.taniarascia.com/how-to-test-useeffect-api-call/)
- 💬 [Improve React Query hydration, Streaming SSR & Server Components](https://github.com/TanStack/query/discussions/4623)
- 🐦 [Xuan Huang - "Forget is in good hands as we now have a team behind it"](https://twitter.com/Huxpro/status/1601345567493214208): Xuan also mentions that he left Meta
- 🎨 [React-Three-Editor demo - Threejs Journey scene](https://twitter.com/0xca0a/status/1601315795006410752)
- 🐦 ["I fixed vanilla-extract/sprinkles using a vite plugin"](https://twitter.com/astahmer_dev/status/1601246126396428289): new Vite plugin that could significantly reduce the CSS emitted by Vanilla-Extract / Sprinkles
- 🐦 [Ryan Florence - "Next.js isn't really OSS"](https://twitter.com/ryanflorence/status/1600526114010845184)
- 📦 [React-Nylon](https://github.com/CodyJasonBennett/react-nylon) + [Four](https://github.com/CodyJasonBennett/four): something is cooking. Soon, a lightweight [Three.js / React-Three-Fiber alternative](https://twitter.com/0xca0a/status/1602286391777546242)?
- 📦 [Remix 1.8](https://github.com/remix-run/remix/releases/tag/remix%401.8.0): the "React-Router-ing" is progressing
- 📦 [Chakra UI Figma Kit](https://twitter.com/chakra_ui/status/1602683717830512641)
- 🎥 [Modern Component Library with React & Storybook](https://www.youtube.com/playlist?list=PLKBvDYynKmlWa59k8pnw-EHac2_miPagh)
- 🎥 [MaterialUI + Qwikify demo](https://twitter.com/Steve8708/status/1601257653367209984)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![开发者国家调查 - 您想影响开发者生态系统吗？](/emails/issues/128/dn-survey.png)](https://developereconomics.net/?member_id=thisweekinreact)

**[您想影响开发者生态系统吗？](https://developereconomics.net/?member_id=thisweekinreact)**

根据最新的《开发者国家状况报告》，React 是迄今为止最流行的客户端库，58% 使用客户端 Web 框架的开发者选择了它。您有何看法？

参与有史以来最全面的[调查](https://developereconomics.net/?member_id=thisweekinreact)，塑造 2023 年开发者关键趋势，赢取丰厚奖品！🎁

完成调查即可免费获得虚拟礼包。请务必注册参与每周抽奖。250 份奖品包括 ThinkPad L15 Gen 3、Intel NUC 10 性能迷你 PC、物联网套件、iPad Air、礼品卡、Udemy 课程、技术配件等。

[从这里开始](https://developereconomics.net/?member_id=thisweekinreact)！

---

## 📱 React-Native {#react-native}

- 📜 [React Native Paper 5.0 更新内容](https://www.callstack.com/blog/react-native-paper-5-0)：新增 Material Design 3 "Material You" 支持，同时保留继续使用 Material Design 2 的选项。新增多个组件，并提供辅助工具以便轻松集成 React-Navigation。
- 📜 [微软 - dep-check 工具升级：align-deps](https://devblogs.microsoft.com/react-native/2022-11-30-announcing-align-deps/)：微软推出的依赖检查工具新版，确保 monorepo 使用正确的包版本。因与 depcheck 重名而更名，现可更方便地应用于 React Native 之外的项目。
- 📜 [Maestro Studio 发布](https://blog.mobile.dev/introducing-maestro-studio-96454c7ca98a)：通过图形界面创建端到端黑盒测试
- 🔗 [微软 - React-Native 开发博客](https://devblogs.microsoft.com/react-native/)：微软官网新建的 React Native 专属博客。
- 🎨 [@expo-image 演示](https://twitter.com/tsapeta/status/1600888339619799042)：Software Mansion 正在开发 react-native-fast-image 的替代方案
- 🎨 [React-Native-Skia-Gesture 演示](https://twitter.com/reactiive_/status/1600494808048467973)：Skia 画布元素的手势检测器
- 📦 [android-performance-profiler](https://twitter.com/almouro/status/1600887206952198144)：新 API 现已可用
- 📦 [expo-router@next - 共享路由 + 布局克隆（实验性）](https://twitter.com/Baconbrix/status/1601362300891328513)
- 🎙️ [RNR 253 - 新闻热议：Kotlin 有了新东家](https://reactnativeradio.com/episodes/rnr-253-we-react-to-news)
- 🎥 [Expo 和 React Native 基于文件的导航](https://www.youtube.com/watch?v=PW4-79MgSO0)
- 📖 [Expo 文档更新](https://twitter.com/amanhimself/status/1601177437546897408)
- 🐦 ["苹果计划允许 iOS 使用替代应用商店和侧载"](https://twitter.com/markgurman/status/1602744671737942016) + ["并允许非 Safari 浏览器引擎"](https://twitter.com/cramforce/status/1602765963937472513)：这对 React Native 意义重大，尽管目前似乎仅限欧洲地区。

---

## 🧑‍💻 职位招聘 {#jobs}

🧑‍💼 [**Causal 产品工程师，远程/伦敦/纽约，$150-250k**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal 是 A 轮初创公司（Coatue/Accel 投资），致力于构建一体化数字处理与数据可视化工具。我们寻找能解决复杂 UX/性能挑战的资深 React 工程师。

🧑‍💼 [**Callstack - 高级 React Native 开发，远程全职，B2B 月薪 21-32k 波兰兹罗提净收入**](https://www.callstack.com/senior-react-native-developer)

您希望参与全球最流行应用的开发吗？您想共同塑造 React Native 技术吗？加入 Callstack 的 React & React Native 专家团队。详情请访问官网，期待您的申请——请尽情展示您的实力！

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们正在招聘多位专注于 React Native 的开发者职位！薪资约 16 万美元外加 10% 奖金。应聘者必须具备 RN 生产环境经验且位于美国境内。请私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 获取详情，并务必提及 This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [优化交互到下次绘制(INP)](https://web.dev/optimize-inp/)：Google 开发者详解如何提升应用交互性能（新 INP 指标）。这对 React 单页应用特别有价值。
- [2022 年回顾：Web 性能新进展](https://www.debugbear.com/blog/2022-in-web-performance)：全面综述 2022 年 Web 性能动态。2023 年预测显示将更注重 SPA 性能测量，而非仅关注初始页面加载指标。新发现 [soft-navigations](https://github.com/WICG/soft-navigations) 代码库。
- [Ecma International 迎来新成员](https://www.ecma-international.org/news/ecma-international-welcomes-new-members-6/)：欢迎 Shopify 和 Vercel 加入
- [Zod 3.20](https://twitter.com/colinhacks/status/1602238724120924160)：新增强制类型转换功能，可自动转换查询参数（如 ?pageSize=10）为数字类型
- [Vitest 0.27.7](https://github.com/vitest-dev/vitest/releases/tag/v0.25.7)：支持 Vite 4
- [Tauri 移动端 Alpha 版发布](https://tauri.app/blog/2022/12/09/tauri-mobile-alpha)：据理解采用 WebView 方案——Cordova/Capacitor 的新竞争者？🤔
- [npm 发布安全增强功能](https://github.blog/2022-12-06-new-npm-features-for-secure-publishing-and-safe-consumption/)：终于推出 npm 网站代码浏览器！
- [Safari 16.2 的 WebKit 特性](https://webkit.org/blog/13591/webkit-features-in-safari-16-2/)
- [Bun 0.3.0](https://bun.sh/blog/bun-v0.3.0)
- [Alma - 生成式图形数字创作平台](https://twitter.com/emilwidlund/status/1600815398672211969)
- [TypeScript：该用 Type 还是 Interface？](https://www.youtube.com/watch?v=zM9UPcIyyhQ)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/128/meme.jpg)](https://twitter.com/ThePrimeagen/status/1601570856265650176)