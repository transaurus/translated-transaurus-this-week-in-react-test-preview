---
slug: /144
title: "This Week In React #144: Server Actions, Million.js, Rendering, Layout Animations, Qwik, Lingui, Remix, React-Router, React-Native macOS, Expo Modules, Ignite..."
authors: [slorber]
date: 05-02-2023
---

大家好！

本周是 Vercel 的 "发布周"，预计将宣布有关 React、Next.js 及其云服务的重大消息。我们已经可以预览到 Next.js 即将推出的功能！

本周有不少精彩文章值得阅读，其中包括一些互动式内容。我特别感兴趣的是深入了解 Million.js 及其"区块虚拟 DOM"的概念。

在 React-Native 方面，macOS 平台正在迎头赶上，发布了 v0.71 版本，而 Expo 让使用本地原生模块变得前所未有的简单。

未来几周将举办多场 React 会议，届时应该会有重大公告！顺便说一句，你可能会在某个会议上看到我的新闻稿宣传单！拜托大家说服同事订阅这份新闻稿。

说到会议，[React Summit](https://reactsummit.com/?utm_source=email&utm_medium=thisweekinreact)（6月2-6日，阿姆斯特丹）是全球最大的 React 会议。他们为我们提供了 5% 的折扣（优惠码 "ThisWeekInReact5"）。

<!-- truncate -->

**💡 [在 Twitter 上查看本期新闻稿](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助 {#sponsor1}

[![Start UI](/emails/issues/144/start_ui.jpg)](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)

**[Start UI [web] - 开箱即用的 Web 应用 UI 启动器](https://web.start-ui.com?utm_source=newsletter&utm_term=this-week-in-react)**

我们的**免费开源 Web 应用 UI 启动器**提供快速简便的项目启动方案。包含**最佳实践和生产就绪工具**，助您立即开始开发，节省初始配置时间。

内置功能包括：🔐 身份验证、📱 响应式布局、🧑‍💻 用户管理、🇫🇷 国际化与从右到左支持、🌚 深色模式、🎛 高级组件等。可体验[示例应用](https://demo.start-ui.com)。

开箱即用支持 **TypeScript**、**NextJS**、Chakra UI、TanStack Query、Storybook 等技术栈。

[🚀 GitHub 上的 Start UI [web]](https://web.start-ui.com)

---

## ⚛️ React {#react}

[![Vercel 存储产品发布](/emails/issues/144/vercel.jpg)](https://vercel.com/blog/vercel-storage)

**[Vercel 存储产品发布](https://vercel.com/blog/vercel-storage)**

Vercel 刚刚推出其边缘优先存储解决方案，特别适用于 React 服务器组件和 Next.js：

- Vercel KV：基于 Upstash 的键值存储 Redis
- Vercel Postgres：基于 Neon 的 PostgreSQL 数据库
- Vercel Blob：基于 Cloudflare R2 的文件存储

当前是 [Vercel Ship week](https://vercel.com/ship)：未来几天将有更多公告。所选图片暗示明天将有 Next.js 发布，引入**Next.js 服务器操作**功能。这也体现了改进 React 应用[渐进增强](https://twitter.com/sebastienlorber/status/1653701538336915456)的意图，类似 Remix 的方式：这种表单无需 JavaScript 或注水即可工作。

注意：此示例不易受到 SQL 注入攻击，因为它使用了模板字面量。

---

[![Million.js - 虚拟 DOM：回归区块](/emails/issues/144/million.jpg)](https://millionjs.org/blog/virtual-dom)

**[Million.js - 虚拟 DOM：回归区块](https://millionjs.org/blog/virtual-dom)**

这篇交互式文章介绍了 Million.js 及其"区块虚拟 DOM"概念。其差异对比方法与众不同：采用非递归方式，基于静态分析、编译和脏检查机制，与 Svelte 的实现颇为相似。

Million.js 并非取代 React，而是与其集成以提升性能。建议仅在特定场景下使用：存在大量静态内容且 UI 树结构稳定的情况。

---

[![React 渲染交互式指南](/emails/issues/144/rendering.jpg)](https://ui.dev/why-react-renders)

**[React 渲染交互式指南](https://ui.dev/why-react-renders)**

这篇交互式文章详解了 React 组件何时会重新渲染。作为初学者的优质资源，深入解析了 setState(fn)、批处理、memo、StrictMode 等核心机制。

---

- 🐦 [Dan Abramov - "如果我们认为 Qwik 模型更好，我们早就直接实现了它"](https://twitter.com/dan_abramov/status/1651055386101796864)
- 🐦 [CSS 作用域 - 对 React 开发者有用的 CSS 新特性](https://twitter.com/sebastienlorber/status/1653432768544534531)
- 📜 [使用 React 和 Framer Motion 制作动画提示工具](https://sinja.io/blog/animated-tooltip-with-react-framer-motion)：交互式文章，利用 Floating UI 和精美的 Framer Motion 布局动画实现提示工具系统。
- 📜 [使用 vanilla-extract 构建类型安全的 Tailwind](https://www.highlight.io/blog/typesafe-tailwind)：Tailwind 是不错的解决方案但仍存缺陷，本文深入探讨类型安全替代方案 Vanilla-Extract/Sprinkles。
- 📜 [URL 是终极的全局状态管理工具](https://www.jacobparis.com/guides/url-as-state-management)：鼓励使用查询字符串，并提供 React 应用示例。
- 📜 [通过 Server Timing 定位修复 Remix 应用性能瓶颈](https://www.jacobparis.com/guides/remix-server-timing)
- 📜 [使用 React Three Fiber 和 GSAP 构建 WebGL 轮播图](https://tympanus.net/codrops/2023/04/27/building-a-webgl-carousel-with-react-three-fiber-and-gsap/)
- 📜 [服务端组件 vs. SSR](https://www.webscope.io/blog/server-components-vs-ssr)
- 📜 [2023 年学习 React 的最佳 YouTube 频道](https://www.code-insights.dev/posts/best-youtube-channels-to-learn-react-in-2023)
- 📦 [Qwik v1.0](https://www.builder.io/blog/qwik-v1)：以可恢复性概念挑战 React 的框架正式发布，支持在 Qwik 应用中使用 React 以降低迁移门槛。
- 📦 [Lingui 4.0](https://lingui.dev/blog/2023/04/26/announcing-lingui-4.0)：国际化库更新，提供 ICU 语法/消息提取/框架无关等特性，是 React-Intl 的优质替代方案。
- 📦 [Remix 1.16](https://github.com/remix-run/remix/releases/tag/remix%401.16.0)：稳定支持 CSS Modules/CSS 导入/Vanilla Extract/PostCSS/Tailwind。
- 📦 [React-Router 6.11](https://twitter.com/remix_run/status/1652000618620555264)
- 🎥 [45% 未通过 Dan 的服务端组件测验](https://www.youtube.com/watch?v=AGAax7WzStc)
- 🎥 [Reactathon 2023 首日直播](https://www.youtube.com/watch?v=gJaN9CnFqrI)
- 🎙️ [React 核心团队探讨 React Forget 与未来](https://twitter.com/PodRocketpod/status/1653429138387243010)
- 👥 [React Summit](https://reactsummit.com/?utm_source=email&utm_medium=thisweekinreact)（阿姆斯特丹，6月2-6日）提供5%门票折扣（优惠码 "ThisWeekInReact5"）。

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![Nylas](/emails/issues/144/nylas.jpg)](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)

**[Nylas：为您的产品提供邮件、日历和联系人集成能力](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)**

[Nylas 邮件与日历 API](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term) 允许开发者构建通信功能，通过单一集成即可连接全球所有主要服务提供商。

Nylas 让选择用例和服务器端 SDK 语言变得简单。您将获得一份[包含 **开箱即用的 React 前端**的分步教程](https://www.nylas.com/blog/how-to-build-email-templates-with-react/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content=&utm_term=)及附带 API 凭证的可下载代码库。停止构建和维护与多个提供商的单独集成，[立即启动邮件和日历功能](https://www.nylas.com/?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content&utm_term)，享受 99.99% 的正常运行时间保障且无维护停机。

[免费开始使用 Nylas 构建！](https://dashboard.nylas.com/register?utm_source=TWIR&utm_medium=sponsoredemail&utm_campaign=FY23Q2-TWIR-2P-DSU&utm_content=&utm_term=)

---

## 📱 React-Native {#react-native}

[![介绍 React Native macOS 0.71](/emails/issues/144/rnmacos.jpg)](https://devblogs.microsoft.com/react-native/2023-04-27-announcing-macos-71/)

**[介绍 React Native macOS 0.71](https://devblogs.microsoft.com/react-native/2023-04-27-announcing-macos-71/)**

Microsoft 跳过 v0.69 和 v0.70 版本直接发布 v0.71。当前目标是与其他平台保持同步：v0.72 的工作正在进行中。这种平台版本对齐极具价值：根据反馈，在单一 monorepo 中混合不同 React-Native 版本并不容易。

新发布的 v0.71 带来对 Fabric 的实验性支持，以及近期在其他平台发布的所有新功能：TypeScript、Flexbox... Microsoft 与 Meta 持续合作，该平台在两家公司的应用持续增长：例如 Meta 已在 Messenger Desktop 中使用 React-Native macOS。

---

- 🧵 [基于文件的 Expo Router 演示](https://twitter.com/Baconbrix/status/1652404780881289216)：Evan Bacon 提供了一个完整的 Expo Router 演示，支持移动端和网页端。
- 🐦 [`npx create-expo-module --local`](https://twitter.com/aleqsio/status/1651268836593655808)：强大的新 Expo 功能，无需 monorepo 即可轻松创建本地原生模块。
- 🐦 [`npx create-expo`](https://twitter.com/Baconbrix/status/1652372955450441729)：创建新 Expo 项目的命令。
- 🐦 [Bluesky 应用 (iOS + Android + web) 由 1 名开发者使用 Expo 构建](https://twitter.com/GergelyOrosz/status/1652679796818694146)：Gergely Orosz 的声明在 Twitter 上引发广泛讨论。
- 📦 [Ignite v8.7.0](https://twitter.com/ir_ignite/status/1651064452781953024)：用 Maestro 替代端到端 Detox 测试。
- 📦 [Tamagui 1.17 - selectionStyles](https://twitter.com/tamagui_js/status/1651432667412566016)
- 📦 [react-native-iconify](https://github.com/oktaysenkan/react-native-iconify)
- 📦 [react-native-dnd](https://github.com/mgcrea/react-native-dnd)
- 📦 [react-native-use-list](https://github.com/dozsolti/react-native-use-list)
- 🎥 [React Native 在 Facebook 的诞生历程](https://www.youtube.com/watch?v=On9ghjix77c)：Christopher Chedeau 回顾 React-Native 历史，这个项目几乎被他挽救于夭折边缘。
- 🎥 [使用 Skia 实现 React Native 转场动画](https://www.youtube.com/watch?v=PzKWpwmmRqM)：William Candillon 展示基于着色器和手势的图片转场，可能需要调整现有 glsl 着色器。
- 🎥 [这是最糟糕的音量控制吗？React Native 和 Reanimated](https://www.youtube.com/watch?v=FqdcRBqVS78)
- 🎙️ [RNR 265 - Chain React 回归！！](https://reactnativeradio.com/episodes/rnr-265-chain-react-is-back)
- 👥 [App.js](https://appjs.co/) (克拉科夫，5月10-12日) 提供[工作坊 -20% 折扣](https://ti.to/appjs/2023/discount/ThisWeekinReact20) (代码 "ThisWeekinReact20")。
- 👥 [Chain React](https://chainreactconf.com/) (波特兰，5月18-19日) 提供 -10% 门票优惠 (代码 "thisweekinreact")。
- 👥 [React-Native-Connection](https://reactnativeconnection.io/) (巴黎，6月1日) 提供 -10% 门票优惠 (代码 "REACTHEBDO")。

---

## 🧑‍💻 工作机会 {#jobs}

🧑‍💼 [**Passionfroot - 高级全栈工程师 (Remix) - €160k+, 柏林/远程**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot 的使命是通过 YouTube、播客、社交媒体和新闻通讯赋能未来的独立企业。加入我们，共同构建赋能全球创作者建立可扩展、可持续业务的工具。

🧑‍💼 [**Callstack - 高级 React Native 开发工程师 - 完全远程，B2B 月薪净额 PLN 21-32k**](https://www.callstack.com/senior-react-native-developer)

想要开发全球最受欢迎的应用程序吗？希望共同塑造 React Native 技术？加入 Callstack 的 React & React Native 领导者团队。访问官网查看详情，期待您的申请——展示您的实力！

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们有几个专注于 React Native 的开发职位空缺！薪资约为 16 万美元外加 10% 奖金。需具备 React Native 生产环境经验且位于美国境内。私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解更多，请务必提及 This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [Deno 1.33](https://twitter.com/deno_land/status/1652030907396530188)
- [Deno KV](https://deno.com/blog/kv)
- [推荐使用 TypeScript 类型而非接口](https://www.lloydatkinson.net/posts/2023/favour-typescript-types-over-interfaces/)
- [避免阻塞事件循环的实用指南](https://www.bbss.dev/posts/eventloop/)
- [TailwindCSS vs. UnoCSS](https://dev.to/mapleleaf/tailwindcss-vs-unocss-2a53)
- [联合配置 ESLint、Prettier 和 TypeScript](https://blog.joshuakgoldberg.com/configuring-eslint-prettier-and-typescript-together/)
- [JS 私有类字段被认为有害](https://lea.verou.me/2023/04/private-fields-considered-harmful/)
- [StackBlitz - WebContainers 现已支持 Safari/iOS/iPadOS](https://blog.stackblitz.com/posts/webcontainers-are-now-supported-on-safari/)
- [为何使用 Maps/WeakMaps 处理 DOM 节点](https://www.macarthur.me/posts/maps-for-dom-nodes)

---

## 🤭 趣闻 {#fun}

[![alt](/emails/issues/144/meme.jpg)](https://twitter.com/sebastienlorber/status/1653385919460696068)

再见！👋