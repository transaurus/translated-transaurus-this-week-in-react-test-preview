---
slug: /140
title: "This Week In React #140: React Labs, Server Components, Next.js, Remix, Storybook, Astro, refs, Ark, Impala, Docusaurus, Expo-Blur, WebView, AsyncContext..."
authors: [slorber]
date: 04-04-2023
---

大家好！

我刚刚结束休假回来：我们将回顾过去两周的新闻！

一篇新的 React Labs 文章现在将 React Forget 介绍为响应式编译器。

服务器组件不断带来惊喜。许多相关的创新目前仅在少数推文中被提及。

对于 React Native 开发者来说，**[Chain React](https://chainreactconf.com/)** 是一个在美国（波特兰，5月18-19日）举办的优秀会议。他们为我们提供10%的折扣，优惠码为 `thisweekinreact`。

<!-- truncate -->

**💡 [在 Twitter 上查看本期简报](https://slo.im/thread) - 可视化格式 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 赞助商 {#sponsor1}

[![React-admin](/emails/issues/140/reactadmin.jpg)](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)

**[React-admin - 用于 B2B 应用的开源框架](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react)**

单页应用（SPA）仍然是基于 REST/GraphQL API 创建管理面板、B2B 应用和 ERP 系统的最佳选择。[React-admin](https://marmelab.com/react-admin/?utm_source=newsletter&utm_term=this-week-in-react) 是**构建 SPA 的参考开源框架**。

React-admin 提供了 150 多个面向业务的组件库。它并非 UI 套件：而是充分利用了 React 的最佳 UI 套件 MUI。通过集成顶级库并处理所有您无需操心的重复工作，React-admin 显著提升了开发效率。

最大优势？您将获得最佳开发体验，由出色的文档和活跃社区支持。[仅需 30 分钟即可入门](https://marmelab.com/react-admin/Tutorial.html) 🚀

React-admin 已**持续维护 5 年**，赢得了全球超过 20,000 名开发者的信赖。快来免费试用吧，永久免费！😁

---

## ⚛️ React {#react}

[![React Labs](/emails/issues/140/reactlabs.jpg)](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023)

**[React Labs：我们正在做的工作 – 2023年3月](https://react.dev/blog/2023/03/22/react-labs-what-we-have-been-working-on-march-2023)**

来自 React 相关研发的官方更新，涉及以下主题：

- React 服务器组件。Next.js 已通过 App Router 提供了优秀的实现方案。支持 async/await 的 RSCs 也应能在客户端应用中运行。我的理解是 React 团队希望统一客户端/服务器端模型，而 [AsyncContext](https://twitter.com/sebastienlorber/status/1639183216799100928) 将对此大有裨益！
- 资源加载：与 Suspense 集成实现 CSS、字体和图片的加载（[更多细节](https://twitter.com/acdlite/status/1637102880850059264)）。
- 文档元数据：为 `<head>` 元数据提供原生 API 支持，并具备流式传输能力。
- React 优化编译器：不再定位为自动记忆化编译器，而是作为响应式编译器。[React Forget 已达成重要里程碑](https://twitter.com/en_JS/status/1641494974893281282)，团队正专注于集成工作。
- 离屏渲染：我极为期待的创新功能，该特性使 React 区别于其他框架。Meta 已在 React-Native 应用中进行预渲染测试并取得积极成果。
- 过渡追踪：可检测缓慢的过渡过程。

---

- 🥇 [React.dev on ProductHunt - Product of the day](https://twitter.com/ProductHunt/status/1640956972450328577)
- 👤 [Tom Occhino](https://twitter.com/tomocchino/status/1640800001625411606) and [Dominic Gannaway](https://twitter.com/trueadm/status/1640761270566633472) joined Vercel.
- 👀 Server Components can [lazily send modules](https://twitter.com/dan_abramov/status/1638760757239087104) to client.
- 👀 [Jarred Summer - "Server Components is coming in Bun v0.6.0"](https://twitter.com/jarredsumner/status/1642821108402630657)
- 👀 [Lee Robinson - "Improved sitemap support is coming to Nextjs"](https://twitter.com/leeerob/status/1639639575843729409)
- 👀 [Lee Robinson - "The Next.js App Router now supports static exports!"](https://twitter.com/leeerob/status/1640445075959484418)
- 👀 [Astro roadmap - Client-side Routing](https://github.com/withastro/roadmap/issues/532): Astro plans to implement client-side navigation. Opt-in: Astro remains by default an MPA framework.
- 👀 [Vercel - Remix without Limits](https://vercel.com/blog/vercel-remix-integration-with-edge-functions-support): Vercel now offers first-class integration with Remix.
- 🐦 [Dan Abramov - "we’ve changed our forms recommendations to emphasize uncontrolled inputs"](https://twitter.com/dan_abramov/status/1641830612955803650)
- 📜 [Learning React from two Angles in 2023](https://www.robinwieruch.de/learning-react/): it is possible to learn React as a library, or as a framework/architecture (Next.js). Not easy to know where to start for a beginner.
- 📜 [Refs in React: from access to DOM to imperative API](https://www.developerway.com/posts/refs-from-dom-to-api): good intro to refs, forwardRef, useImperativeHandle.
- 📜 [Rethinking React best practices](https://frontendmastery.com/posts/rethinking-react-best-practices/): describes well the trend of React which is progressively moving from a simple UI library to a full-stack architecture.
- 📜 [isMounted tricks are code-smell](https://reacttraining.com/blog/isMounted-tricks-are-code-smell): if you use this kind of pattern, I think it will become a problem with the future Offscreen API.
- 📜 [Setting State On An Unmounted Component](https://reacttraining.com/blog/setting-state-on-unmounted-component)
- 📜 [The useEffect cleanup and the two circumstances it's called](https://reacttraining.com/blog/useEffect-cleanup)
- 📜 [How Will the Future of Web Development Be Affected by Influential New React Docs?](https://luketheweb.dev/blog/how-will-the-future-of-web-development-be-affected-by-influential-new-react-docs)
- 📜 [Making Tanstack Table 1000x faster with a 1 line change](https://jpcamara.com/2023/03/07/making-tanstack-table.html)
- 📜 [How to build zero-CLS A/B tests with Next.js and Vercel Edge Config](https://vercel.com/blog/zero-cls-experiments-nextjs-edge-config)
- 📜 [Custom fonts without compromise using Next.js and `next/font`](https://vercel.com/blog/nextjs-next-font)
- 📜 [Animated page transitions with Remix's nested routes](https://www.jacobparis.com/guides/remix-animated-page-transitions)
- 📦 [Storybook 7.0](https://github.com/storybookjs/storybook/releases/tag/v7.0.0): nice release with Vite, CSF3, API frameworks, MDX2... The new features have already been presented before, but we'll probably get a blog post soon?
- 📦 [Server Components Demo updated](https://twitter.com/dan_abramov/status/1641596168290312195)
- 📦 [Ark UI](https://ark-ui.com/): the Chakra UI team introduced a new universal UI lib (React, Vue, Solid) based on Zag.js state machines.
- 📦 [Simple-RSC](https://github.com/bholmesdev/simple-rsc): simple and annotated Server Components implementation, related to a [long stream between Ben Holmes (Astro) and Dan Abramov](https://twitter.com/BHolmesDev/status/1641659705444401152).
- 📦 [Impala - A very simple static React framework](https://github.com/ascorbic/impala)
- 📦 [Webpack-RSC](https://twitter.com/unstubbable/status/1641495749627109380)
- 📦 [MDX syntax highlighting VS Code extension](https://twitter.com/wooorm/status/1638898049404612608)
- 📦 [ContentLayer 0.3.1 - React Server Components support](https://github.com/contentlayerdev/contentlayer/releases/tag/v0.3.1)
- 📦 [Styling Addon: configure styles and themes in Storybook](https://storybook.js.org/blog/styling-addon-configure-styles-and-themes-in-storybook/)
- 📦 [Docusaurus 2.4](https://docusaurus.io/blog/releases/2.4)
- 📦 [Framer Motion 10.9 - Timelines](https://twitter.com/mattgperry/status/1639286184965750790)
- 📦 [Planby 2.3.0 - Schedule / Timeline for React with](https://dev.to/kozerkarol/schedule-timeline-for-react-with-planby-223-2djf)
- 📦 [Ionic 7](https://ionic.io/blog/ionic-7-is-here)
- 🧑‍🎓 [React.gg](https://react.gg): new promising React course in private beta
- 🎥 [Theo - So I had a call with Dan...](https://www.youtube.com/watch?v=qZzmUVspiEo): I agree that the client/server components naming is not ideal, and "use interactive" seems to me a good idea.
- 🎥 [Smarter and Simpler React State](https://www.youtube.com/watch?v=Cp64YbYBNDA)
- 🎥 [Next.js App Router: Routing, Data Fetching, Caching](https://www.youtube.com/watch?v=gSSsZReIFRk)
- 🎥 [The official T3 Stack Tutorial](https://www.youtube.com/watch?v=YkOSUVzOAA4)

<SubscribeFormEmbed />

---

## 💸 赞助商 {#sponsor2}

[![Tina.io 是为 Markdown 站点设计的无头 CMS](/emails/issues/140/tinacms.jpg)](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)

**[Tina.io 是为 Markdown 站点设计的无头 CMS](https://tina.io/?utm_source=newsletter&utm_term=this-week-in-react)**

- 为 Markdown 文件提供可视化编辑界面
- 支持 MDX 组件的可视化操作
- 兼容静态生成 (SSG) 和服务器端渲染 (SSR)
- 可选可视化编辑功能（实时预览）
- 基于可复用区块构建

试用入门模板

- [Docusaurus](https://github.com/tinacms/tinasaurus) (github.com)
- [Next.js + Tailwind 含可视化编辑](https://github.com/tinacms/tina-cloud-starter) (github.com)

或运行  `npx create-tina-app@latest` 后访问 `localhost:3000/admin`

观看 [4 分钟演示视频](https://www.youtube.com/watch?v=zRkeKSZjlyw)

---

## 📱 React-Native {#react-native}

- 📜 [React Native 版 Storybook (6.5)](https://storybook.js.org/blog/storybook-for-react-native-6-5/)：对 React Native 的 Storybook 用户是个好消息，该集成正在追赶 Web 版 Storybook，已采用 CSF、Controls、Args 等特性，并将很快兼容 Storybook 7.0。借助 Metro 新特性（`require.context`），生成故事索引的需求将很快消失。
- 📜 [Shopify POS 从原生 Redux 迁移到 Redux Toolkit 如何改进状态管理](https://shopify.engineering/react-redux-toolkit-migration)：关于渐进式迁移至 RTK 的实践反馈，成功删减 3500 行代码。
- 👀 [RFC：React Native 中的 DOM 遍历与布局 API](https://github.com/react-native-community/discussions-and-proposals/pull/607)：新的高级 API 可能解锁 `MutationObserver`、`IntersectionObserver` 等特性的实现...
- 👀 [iOS 视图扁平化](https://twitter.com/SamuelSusla/status/1641086480675225601)：React Native 此前已在 Android 通过避免创建无效原生视图实现优化。Samuel 详解原理并宣布该特性现已支持 iOS。
- 👀 [Expo Router + Apple Handoff 演示](https://twitter.com/Baconbrix/status/1641850192839180315)：创新的 iOS 跨设备切换方案，与通用型 Expo Router 应用完美兼容 👌
- 🎥 [用 React Native 作画的乐趣](https://www.youtube.com/watch?v=GQqL1OCoOFM)：William Candillon 带来的全新 Skia ASMR 风格视频 😄
- 📦 [React Native WebView 12.0](https://twitter.com/titozzz/status/1642147926762815490)：支持新架构。
- 📦 [React Native 0.76.1](https://github.com/facebook/react-native/releases/tag/v0.71.6)：修复 XCode 构建问题的新版本。
- 📦 [Expo-Blur 支持 Android](https://twitter.com/aleqsio/status/1638893843457212418)：BlurView 即将实现跨平台支持。
- 🐦 [Tzvetan Mikov - "MacOS 版 Messenger 是 React Native 应用"](https://twitter.com/tmikov/status/1642630975430754305)
- 🎙️ [RNR 263 - Shopify 全面采用 React Native！](https://reactnativeradio.com/episodes/rnr-263-shopify-goes-react-native)
- 👥 [Chain React 技术大会](https://chainreactconf.com/)：波特兰，5月18-19日（使用优惠码"thisweekinreact"享9折）。

---

## 🧑‍💻 职位 {#jobs}

🧑‍💼 [**Passionfroot - 高级全栈工程师 (Remix) - €160k+，柏林/远程**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

Passionfroot 的使命是通过 YouTube、播客、社交媒体和新闻通讯赋能未来的独立商业体。加入我们，共同打造助力全球创作者建立可扩展、可持续业务的工具。

🧑‍💼 [**Callstack - 高级 React Native 开发 - 完全远程，B2B 月薪净额 PLN 21-32k**](https://www.callstack.com/senior-react-native-developer)

您希望参与全球最热门应用的开发吗？您想共同塑造 React Native 技术未来吗？加入 React & React Native 领导者 Callstack 团队。访问官网获取详情，我们期待您的申请——请展示您的实力！

🧑‍💼 [**G2i - 100% 远程 React Native 职位**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

我们有几个专注于 React Native 的开发者职位空缺！薪资约 16 万美元外加 10% 奖金。应聘者需具备 RN 生产环境经验且位于美国。请私信 [@gabe_g2i](https://twitter.com/gabe_g2i) 了解更多详情，并请注明来自 This Week in React。

💡 [如何发布招聘信息？](https://thisweekinreact.com/sponsor)

---

## 🔀 其他 {#other}

- [第 95 次 TC39 会议更新](https://dev.to/hemanth/updates-from-the-95th-tc39-meeting-ne5)：包括 [AsyncContext (阶段 2)](https://twitter.com/sebastienlorber/status/1639183216799100928) 在内的良好进展！
- [Cloudflare Workers 的 Node.js 兼容性](https://blog.cloudflare.com/workers-node-js-asynclocalstorage/)：支持 AsyncLocalStorage（≈服务端 AsyncContext）
- [Safari 16.4 中的 WebKit 特性](https://webkit.org/blog/13966/webkit-features-in-safari-16-4/)
- [JavaScript 导入映射现已跨浏览器支持](https://web.dev/import-maps-in-all-modern-browsers/)
- [推送通知现已跨浏览器支持](https://web.dev/push-notifications-in-all-modern-browsers/)
- [使用 Zod 和 JSDoc 实现 JavaScript 类型](https://blog.jim-nielsen.com/2023/types-in-jsdoc-with-zod/)
- [Qwik 1.0 RC](https://www.builder.io/blog/qwik-rc-milestone)
- [pnpm 8.0](https://twitter.com/pnpmjs/status/1640464273817362432)
- [Tailwind 3.3](https://tailwindcss.com/blog/tailwindcss-v3-3)
- [Deno 1.32：增强 Node.js 兼容性](https://deno.com/blog/v1.32)
- [Rome v12](https://rome.tools/blog/2023/03/28/rome12/)
- [Moon 1.0](https://twitter.com/tothemoonrepo/status/1640469052043980800)
- [Bun 0.5.9](https://bun.sh/blog/bun-v0.5.9)

---

## 🤭 趣味 {#fun}

[![alt](/emails/issues/140/meme.jpg)](https://twitter.com/thekitze/status/1638927506723033088)

再见！👋