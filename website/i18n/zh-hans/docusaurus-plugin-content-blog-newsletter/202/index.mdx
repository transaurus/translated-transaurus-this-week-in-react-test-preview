---
slug: /202
title: "This Week In React #202: Next.js, Composition, search params, PPR, useActionState, content-visibility, Astro, MDX, Storybook, Priompt, Radon, Expo, MiniSim, CSS, Bun, Deno, Node.js..."
authors: [slorber]
date: 09-25-2024
---

å¤§å®¶å¥½ï¼

æœ¬å‘¨React/RNç›¸å…³å…¬å‘Šç›¸å¯¹å¹³é™ï¼Œä½†æˆ‘ä»¬ä»æœ‰ä¼˜ç§€çš„åšå®¢æ–‡ç« å’Œå„ç§æœ‰è¶£çš„Next.jsåŠCSSæ–°é—»ã€‚

<!-- truncate -->

**ğŸ’¡ [åœ¨TwitteræŸ¥çœ‹æœ¬æœŸé€šè®¯](https://slo.im/thread) - å¯è§†åŒ–æ ¼å¼ ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ èµåŠ©å•† {#sponsor1}

[![AG Gridï¼šå…¨çƒæœ€ä½³Reactæ•°æ®è¡¨æ ¼](/emails/issues/202/aggrid.jpg)](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)

**[AG Gridï¼šå…¨çƒæœ€ä½³Reactæ•°æ®è¡¨æ ¼](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)**

AG Gridæ˜¯ä¸€æ¬¾å¿«é€Ÿã€å…è´¹ä¸”å®Œå…¨å¯å®šåˆ¶çš„Reactæ•°æ®è¡¨æ ¼ã€‚è¢«**è´¢å¯Œ500å¼ºä¸­90%çš„ä¼ä¸š**é‡‡ç”¨ï¼Œ**100%å¼€æº**ï¼Œæ¯æœˆ**npmä¸‹è½½é‡è¶…è¿‡400ä¸‡æ¬¡**ï¼š

- ğŸ†“ **å…è´¹ï¼š** æ°¸ä¹…å…è´¹ä½¿ç”¨**æ’åº**ã€**ç­›é€‰**ã€**åˆ†é¡µ**ã€**å•å…ƒæ ¼ç¼–è¾‘**ç­‰æ•°ç™¾é¡¹åŠŸèƒ½ã€‚
- **ğŸš€ å¿«é€Ÿï¼š** å¼€ç®±å³å¯æ˜¾ç¤º**æ•°ç™¾ä¸‡å•å…ƒæ ¼**ï¼Œä¸”ä¸å½±å“æ€§èƒ½ã€‚
- **ğŸ¨ å¯å®šåˆ¶ï¼š** å‘å•å…ƒæ ¼ã€è¡Œå’Œåˆ—æ·»åŠ è‡ªå®šä¹‰ç»„ä»¶ï¼Œä½¿ç”¨**100å¤šä¸ªCSSå˜é‡**è®¾è®¡æ¯ä¸ªå…ƒç´ ã€‚
- ğŸ¢ **ä¼ä¸šåŠŸèƒ½ï¼š** è´­ä¹°è®¸å¯è¯å¯ç»ˆèº«ä½¿ç”¨é«˜çº§åŠŸèƒ½ï¼ŒåŒ…æ‹¬**é€è§†è¡¨**ã€**åˆ†ç»„**ã€**ä¸»ä»è§†å›¾**å’Œ**å†…ç½®å›¾è¡¨**ï¼ˆç”±æˆ‘ä»¬çš„Reactå›¾è¡¨åº“[AG Charts](https://www.ag-grid.com/charts?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)é©±åŠ¨ï¼‰ã€‚å…è´¹è¯•ç”¨ - æ— éœ€è¯•ç”¨è®¸å¯è¯ã€‚

äº†è§£æ›´å¤šï¼š[ag-grid.com](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)

---

## âš›ï¸ React {#react}

[![æˆ‘å¦‚ä½•æ„å»ºä¸ªäººåšå®¢](/emails/issues/202/josh.jpg)](https://www.joshwcomeau.com/blog/how-i-built-my-blog-v2/)

**[æˆ‘å¦‚ä½•æ„å»ºä¸ªäººåšå®¢](https://www.joshwcomeau.com/blog/how-i-built-my-blog-v2/)**

Josh Comeauåˆ†äº«äº†å°†é«˜çº§åšå®¢ï¼ˆ10ä¸‡è¡Œä»£ç ï¼‰ä»Next.js Pages Routerè¿ç§»åˆ°App Routerçš„ç»éªŒï¼Œåé¦ˆå–œå¿§å‚åŠï¼ˆLighthouseè¯„åˆ†é™ä½ï¼Œå¼€å‘æœåŠ¡å™¨å˜æ…¢...ï¼‰ã€‚è¿™æ˜¯ä¸€ç¯‡æ•´ä½“ä¸Šå¼•äººå…¥èƒœçš„Reactè¯»ç‰©ï¼Œå‘ˆç°æ–¹å¼ç”ŸåŠ¨äº’åŠ¨ï¼Œä¸ä»…é™äºNext.jsç”¨æˆ·ã€‚åŒ…å«æ¶‰åŠå„ç§ä¾èµ–é¡¹çš„ç»†èŠ‚ï¼šMDXã€Shikiã€Linariaã€Framer-Motion...

---

[![ç»„ä»¶ç»„åˆéå¸¸æ£’](/emails/issues/202/composition.jpg)](https://tkdodo.eu/blog/component-composition-is-great-btw)

**[ç»„ä»¶ç»„åˆéå¸¸æ£’](https://tkdodo.eu/blog/component-composition-is-great-btw)**

Dominiké˜è¿°äº†Reactå¦‚ä½•é‡æ–°å®šä¹‰"å…³æ³¨ç‚¹åˆ†ç¦»"æ¦‚å¿µï¼Œä»¥åŠä¸ºä½•åº”ä¼˜å…ˆé‡‡ç”¨ç»„åˆå’Œæå‰è¿”å›è€Œéæ¡ä»¶æ¸²æŸ“å¤šç§çŠ¶æ€ã€‚æˆ‘ä¹Ÿæœ‰ç›¸åŒä½“éªŒï¼šè¿™ç§æ–¹å¼æ›´æœ‰å¯èƒ½é•¿æœŸä¿æŒç»„ä»¶çš„å¯ç»´æŠ¤æ€§ã€‚

---

- ğŸ’¸ [React Component Analytics â€” Omlet Scans Your Codebase to Measure Component Usage to Increase Code Quality and Design Systems Adoption](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-aug-2024)
- ğŸ‘€ [Next.js PR \- `@next/codemod upgrade` CLI](https://github.com/vercel/next.js/pull/69935): Next.js 15 will have a CLI to automatically upgrade your dependencies to the latest stable, RC, or canary, with the ability to run the appropriate breaking change codemods.
- ğŸ‘€ [Next.js PR \- Update Dynamic APIs to be async](https://github.com/vercel/next.js/pull/68812): APIs like `cookies()`, `headers()`, `params` are going async in Next.js 15\. The PR is still WIP but [codemods have already been merged](https://github.com/vercel/next.js/pull/69572). The breaking change is not so well-received by the community but opens the way to upcoming innovations for the Next.js team.
- ğŸ” [Next.js Cache Poisoning vulnerability](https://github.com/advisories/GHSA-gp8f-8m3g-qvj9): Only affects Page Router non-dynamic routes, fixed in 13.5.7 and 14.2.9
- ğŸ§‘â€ğŸ“ [Vim for React Developers](https://vimforreactdevs.com/): Free pragmatic mini-course from Lee Robinson.
- ğŸ§‘â€ğŸ“ [EpicReact v2 \- React 19 update](https://www.epicreact.dev/): Kent C. Dodds released a new version of his flagship React course (paid, currently 40% off).
- ğŸ—“ï¸ [React Summit US](https://reactsummit.us/?utm_source=Newsletter&utm_medium=thisweekinreact) - ğŸ‡ºğŸ‡¸ New-York - 19 & 22 December - [Free remote tickets are available now, click here !](https://gitnation.com/badges/react-summit-us-2024/addy_osmani?from=This+Week+In+React) 10% discount with code TWIR.
- ğŸ—“ï¸ [React Advanced London](https://reactadvanced.com/?utm_source=Newsletter&utm_medium=thisweekinreact) - ğŸ‡¬ğŸ‡§ London - 25 & 28 October - Hurry and grab your ticket to the conference as prices are about to go up ! And fonâ€™t forget your discount with code â€œTWIRâ€.
- ğŸ“œ [How to control a React component with the URL](https://buildui.com/posts/how-to-control-a-react-component-with-the-url): This cool interactive blog post greatly illustrates a common antipattern among React devs using search parameters. You should consider the URL as the source of truth, instead of trying to sync your state to the URL.
- ğŸ“œ [Partial Prerendering for Everyone with Cloudflare Workers](https://sunilpai.dev/posts/ppr-for-everyone/): Former React team member Sunil Pai shared a demo of implementing PPR from scratch outside of Next.js, using React `prerender()`, `postpone()` and `resumeToPipeableStream()`. These are very experimental APIs that may change, donâ€™t do this at home and only use this for learning/curiosity.
- ğŸ“œ [CSS `content-visibility` for React devs](https://dev.to/sebastienlorber/css-content-visibility-for-react-devs-4a3i): I aggregated a few interesting tweets/links explaining why React devs should care about this new CSS property that can improve your app rendering performance. Itâ€™s now in all browsers and although not widely supported, can be a progressive enhancement. You could use it as a replacement or alongside a React virtualization library to improve performance and accessibility.
- ğŸ“œ [HTMX Essay \- You Can't Build Interactive Web Apps Except as Single Page Applications... And Other Myths](https://htmx.org/essays/you-cant/): An interesting read debunking myths and explaining whatâ€™s possible to do without an SPA framework like React. The gap between MPAs and SPAs is getting thinner thanks to modern technologies: Service Workers, View Transitions, Speculation Rulesâ€¦
- ğŸ“œ [How to fetch data in React](https://www.robinwieruch.de/react-fetching-data/): Robin Wieruch refreshed his data fetching overview post listing modern 2024 practices using React Query, useEffect, use(), RSC, and tRPC.
- ğŸ“œ [Efficient Refresh Token Implementation with React Query and Axios](https://dev.to/elmehdiamlou/efficient-refresh-token-implementation-with-react-query-and-axios-f8d): Uses Axios interceptors to automatically add an `Authorization` header and React Query `onError` callback to refresh expired tokens and retry the query/mutation.
- ğŸ“œ [How to reset the state of useActionState in React](https://www.nico.fyi/blog/reset-state-from-react-useactionstate): Resetting the action state is surprisingly tricky.
- ğŸ“œ [From Parcel to Vite: A short story of a 100K LOC migration](https://blog.logto.io/parcel-to-vite): Logto migrated a React frontend to Vite and shared integration details on various React-related features: MDX, SVGR, `React.lazy`, Fast Refreshâ€¦
- ğŸ“œ [Astro Content Layer \- A Deep Dive](https://astro.build/blog/content-layer-deep-dive/)
- ğŸ“¦ [Storybook 8.3](https://storybook.js.org/blog/storybook-8-3/): Includes a first-class Vitest integration that makes Component Testing x6 faster, and a better integration with Next.js projects.
- ğŸ“¦ [Priompt \- JSX-based prompt design library](https://www.cursor.com/blog/prompt-design): I missed that AI prompting library released last year by a Cursor dev.
- ğŸ“¦ [next-view-transitions 0.3.2 \- useTransitionRouter API](https://x.com/shuding_/status/1838000183356850240)
- ğŸ“¦ [Legend-State 3.0 beta \- Signal-based state library \- Improves on computed observables, persistence, sync](https://www.legendapp.com/open-source/state/v3/)
- ğŸ“¦ [Vaultusaurus \- Tools to integrate an Obsidian Vault with a Docusaurus site, including a graph view](https://github.com/chanjunren/vaultusaurus)
- ğŸ¥ [Jack Herrington \- I hacked ShadCN to Create Insane React Templates and Installers](https://www.youtube.com/watch?v=NP2ULDZxpd0): The CLI can be hijacked by writing/generating your own JSON update files.
- ğŸ¥ [Theo \- The React "head" Dramaâ€¦](https://www.youtube.com/watch?v=qmM91SnSw8w): React 19 wonâ€™t deduplicate `<title>` tags for you and you still may want to use a lib like React Helmet.
- ğŸ¥ [ThePrimeTime \- Remix's Concurrent Submissions Are Fundamentally Flawed](https://www.youtube.com/watch?v=Tvms2DaG8UY)
- ğŸ™ï¸ [Frontend First 196 \- Tom Occhino on the future of React](https://www.youtube.com/watch?v=ktO2OqwvgEs): A look back at the many years of innovation at Facebook that led to the creation of RSC and Partial Prerendering as a North Star. From BigPipe to GraphQL/Relay to RSC.
- ğŸ™ï¸ [PodRocket \- TanStack and TanRouter with Tanner Linsley](https://podrocket.logrocket.com/tanstack-tanrouter-tanner-linsley)
- ğŸ™ï¸ [Syntax.fm 824 \- Taylor Otwell's opinions on PHP, React, Laravel and Lamborghini Memes](https://syntax.fm/show/824/taylor-otwell-s-opinions-on-php-react-laravel-and-lamborghini-memes)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ èµåŠ©å•† {#sponsor2}

[![å‡†å¤‡å¥½è‡ªåŠ¨åŒ–æ‚¨çš„æ•°æ®æå–äº†å—ï¼Ÿ](/emails/issues/202/apryse.jpg)](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)

**[å‡†å¤‡å¥½è‡ªåŠ¨åŒ–æ‚¨çš„æ•°æ®æå–äº†å—ï¼Ÿ](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)**

Apryse IDP ç®€åŒ–äº†ä» PDF ä¸­æå–æ•°æ®çš„è¿‡ç¨‹ã€‚è½»æ¾ä»¥é«˜ç²¾åº¦å’Œæœ€å°‘é…ç½®ä»è´¢åŠ¡æŠ¥å‘Šæˆ–æ‚£è€…è®°å½•ä¸­æå–è¯¦ç»†ä¿¡æ¯ã€‚æˆ‘ä»¬çš„ AI æŠ€æœ¯èƒ½ä»å„ç±»æ–‡æ¡£ä¸­æå–æ–‡æœ¬ã€è¡¨æ ¼å’Œè¡¨å•ï¼Œå‡å°‘äººå·¥å·¥ä½œé‡å¹¶æå‡æ•°æ®è´¨é‡ã€‚

[ç«‹å³å¼€å§‹ã€‚](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)

---

## ğŸ“± React-Native {#react-native}

- ğŸ’¸ [Sonny Sangha - ä½¿ç”¨ React Native æ„å»º Zoom 2.0 å…‹éš†ç‰ˆ](https://go.clerk.com/jBpMIuk)
- ğŸ¦ [React-Native-WebGPU åœ¨ macOS ä¸Šçš„æ¼”ç¤º](https://x.com/SaadNajmi/status/1838295375700201720)
- ğŸ¦ [Tzvetan Mikov å…³äºä¸º Hermes æ·»åŠ  Wasm æ”¯æŒçš„æœ‰ç”¨æ€§è®¨è®º](https://x.com/tmikov/status/1837600409386734037)
- ğŸ“Š [React Native åŸºå‡†æµ‹è¯•](https://dream-sports-labs.github.io/rn-benchmarking/)ï¼šè¿™ä¸ªæœ‰è¶£çš„ç½‘ç«™å…è®¸æˆ‘ä»¬æ ¹æ®ç‰ˆæœ¬ã€æ¶æ„å’Œå¹³å°ï¼ˆiOS/Androidï¼‰æ¯”è¾ƒ React Native çš„æ€§èƒ½
- ğŸ—“ï¸ [RNLConf](https://www.reactnativelondon.co.uk/?utm_source=thisweekinreact) - ğŸ‡¬ğŸ‡§ ä¼¦æ•¦ - 11æœˆ14æ—¥è‡³15æ—¥ - ä½¿ç”¨ä»£ç  "TWIR" å¯äº«å— 10% æŠ˜æ‰£ï¼Œç«‹å³è´­ç¥¨ï¼
- ğŸ“œ [React Native IDE ç°æ›´åä¸º Radon IDE](https://blog.swmansion.com/react-native-ide-is-now-radon-ide-cfbdad77d43c)ï¼šç®€è€Œè¨€ä¹‹ï¼Œè¿™åªæ˜¯ä¸€ä¸ªå‡ºäºå®é™…åŸå› çš„åç§°å˜æ›´ã€‚ä¸è¿‡é˜…è¯»ä»–ä»¬é€‰æ‹©è¯¥åç§°çš„åŸå› ä¹Ÿå¾ˆæœ‰è¶£ï¼ˆæç¤ºï¼šåŸå­ï¼Œé’‹ï¼‰
- ğŸ“œ [å¦‚ä½•åœ¨ React Native ä¸­ç›‘å¬æœªæ•è·/æœªå¤„ç†çš„é”™è¯¯](https://andrei-calazans.com/posts/how-to-global-catch-errors/)ï¼šä½¿ç”¨ `globalThis.ErrorUtils.setGlobalHandler()`
- ğŸ“œ [å¦‚ä½•é€æ­¥é‡‡ç”¨ Expo](https://expo.dev/blog/how-to-incrementally-adopt-expo)
- ğŸ“¦ [MiniSim 0.9 - æ”¯æŒç‰©ç†è®¾å¤‡](https://github.com/okwasniewski/MiniSim/releases/tag/v0.9.0)
- ğŸ“¦ [React Native 0.76.0-rc.2](https://github.com/facebook/react-native/releases/tag/v0.76.0-rc.2)
- ğŸ¥ [Simon Grimm - ä¸ºä»€ä¹ˆ React Native 3D ä¸å†ç³Ÿç³•äº†](https://www.youtube.com/watch?v=msErROjFY08)
- ğŸ™ï¸ [React Universe On Air - Coffee Talk 21 - å¦‚ä½•åœ¨ React ä¸­å¼€å§‹ä½¿ç”¨ 3D](https://www.youtube.com/watch?v=Olh_sE0BL1s)
- ğŸ™ï¸ [Rocket Ship 50 - æ–°æ¶æ„ã€JSIã€åŸç”Ÿæ¨¡å—å’Œ Rust ä¸ Oscar Franco](https://share.transistor.fm/s/01c99662)
- ğŸ™ï¸ [RNR 308 - Chris Ferdinandi è°ˆç¼–ç¨‹ä¸æ³¨æ„åŠ›ç¼ºé™·å¤šåŠ¨éšœç¢ï¼ˆADHDï¼‰](https://www.reactnativeradio.com/episodes/rnr-308-coding-and-adhd-with-chris-ferdinandi)

---

## ğŸ”€ å…¶ä»– {#other}

- ğŸ‘€ [CSS å€¼ä¸å•ä½ç¬¬ 5 çº§ - é¦–ä¸ªå…¬å¼€å·¥ä½œè‰æ¡ˆ](https://www.w3.org/blog/CSS/2024/09/13/css-values-5-fpwd/)
- ğŸ‘€ [CSS ç½‘æ ¼å¸ƒå±€ç¬¬ 3 çº§ / ç€‘å¸ƒæµå¸ƒå±€ - é¦–ä¸ªå…¬å¼€å·¥ä½œè‰æ¡ˆ](https://www.w3.org/blog/CSS/2024/09/24/css-grid-3-fpwd/)
- ğŸ¦ [Web Preference API å·²å¹¶å…¥ CSS åª’ä½“æŸ¥è¯¢è‰æ¡ˆè§„èŒƒ](https://x.com/sebastienlorber/status/1836698597548593350)
- ğŸ“œ [ä¼ä¸šç¯å¢ƒä¸­æ­£ç¡®ä½¿ç”¨ Node.js çš„ 9 æ¡åŸåˆ™](https://www.platformatichq.com/node-principles)
- ğŸ“œ [åœ¨ CSS ä¸­å®ç° height: auto;ï¼ˆä»¥åŠå…¶ä»–å›ºæœ‰å°ºå¯¸å…³é”®å­—ï¼‰çš„åŠ¨ç”»](https://developer.chrome.com/docs/css-ui/animate-to-height-auto/)
- ğŸ“œ [ä¸ºä½•ç±»å‹åŒ– Linting å¦‚ä»Šéœ€è¦ TypeScript](https://www.joshuakgoldberg.com/blog/why-typed-linting-needs-typescript-today/)
- ğŸ“¦ [Bun 1.1.28 - åœ¨ JavaScript ä¸­ç¼–è¯‘å¹¶è¿è¡Œ C è¯­è¨€ï¼Œä¿®å¤ React 19 SSR](https://bun.sh/blog/compile-and-run-c-in-js)
- ğŸ“¦ [ts-blank-space - å°† TypeScript è½¬æ¢ä¸º JavaScript çš„å¿«é€Ÿç±»å‹å‰¥ç¦»ç¼–è¯‘å™¨](https://bloomberg.github.io/ts-blank-space/)
- ğŸ“¦ [Deno 2.0 å€™é€‰å‘å¸ƒç‰ˆ](https://deno.com/blog/v2.0-release-candidate)
- ğŸ“¦ [æ¨¡å—è”é‚¦ Vite 1.0](https://www.learnbydo.ing/diary/2024-09-23-module-federation-vite-v1)

---

## ğŸ¤­ è¶£äº‹ {#fun}

[![alt](/emails/issues/202/meme.jpg)](https://x.com/Nateemerson/status/1836537823027134744)

[![alt](/emails/issues/202/meme2.jpg)](https://x.com/laszek44/status/1832024709887631384)

[![alt](/emails/issues/202/meme3.jpg)](https://x.com/jarredsumner/status/1836438965664256399)

å†è§ï¼ğŸ‘‹