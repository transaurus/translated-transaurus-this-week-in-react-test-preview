---
slug: /202
title: "This Week In React #202: Next.js, Composition, search params, PPR, useActionState, content-visibility, Astro, MDX, Storybook, Priompt, Radon, Expo, MiniSim, CSS, Bun, Deno, Node.js..."
authors: [slorber]
date: 09-25-2024
---

Bonjour Ã  tous !

Cette semaine a Ã©tÃ© plutÃ´t calme en termes d'annonces React/RN, mais nous avons tout de mÃªme eu d'excellents articles de blog et diverses nouvelles intÃ©ressantes sur Next.js et CSS.

<!-- truncate -->

**ğŸ’¡ [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![AG Grid : La meilleure grille de donnÃ©es React au monde.](/emails/issues/202/aggrid.jpg)](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)

**[AG Grid : La meilleure grille de donnÃ©es React au monde.](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)**

AG Grid est une grille de donnÃ©es React rapide, gratuite et entiÃ¨rement personnalisable. UtilisÃ©e par **90% du Fortune 500**, AG Grid est **100% open source** avec plus de **4 millions de tÃ©lÃ©chargements npm par mois** :

- ğŸ†“ **Gratuit :** AccÃ©dez Ã  des centaines de fonctionnalitÃ©s comme le **Tri**, le **Filtrage**, la **Pagination**, l'**Ã‰dition de cellules** et plus encore, entiÃ¨rement **gratuitement** - pour toujours.
- **ğŸš€ Rapide :** Affichez **des millions de cellules** prÃªt Ã  l'emploi sans compromettre les performances.
- **ğŸ¨ Personnalisable :** Ajoutez vos propres composants aux cellules, lignes et colonnes et utilisez **plus de 100 variables CSS** pour styliser chaque Ã©lÃ©ment.
- ğŸ¢ **FonctionnalitÃ©s Entreprise :** Achetez une licence pour un accÃ¨s Ã  vie Ã  des fonctionnalitÃ©s avancÃ©es incluant le **Pivotage**, le **Regroupement**, le **Master/DÃ©tail** et les **Graphiques IntÃ©grÃ©s** (alimentÃ©s par notre bibliothÃ¨que de graphiques React, [AG Charts](https://www.ag-grid.com/charts?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)). Essayez gratuitement - aucune licence d'essai requise.

En savoir plus : [ag-grid.com](https://www.ag-grid.com/react-table?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=2024-email-1)

---

## âš›ï¸ React {#react}

[![Comment j'ai construit mon blog](/emails/issues/202/josh.jpg)](https://www.joshwcomeau.com/blog/how-i-built-my-blog-v2/)

**[Comment j'ai construit mon blog](https://www.joshwcomeau.com/blog/how-i-built-my-blog-v2/)**

Josh Comeau partage son expÃ©rience de migration d'un blog avancÃ© (100k LOC) du Next.js Pages Router vers l'App Router, avec des retours mitigÃ©s (score Lighthouse plus bas, serveur de dÃ©veloppement plus lentâ€¦). Une lecture React intÃ©ressante, prÃ©sentÃ©e de maniÃ¨re interactive, et pas limitÃ©e aux utilisateurs Next.js. Inclut de nombreux dÃ©tails sur des dÃ©pendances variÃ©es : MDX, Shiki, Linaria, Framer-Motionâ€¦

---

[![La composition de composants est gÃ©niale au fait](/emails/issues/202/composition.jpg)](https://tkdodo.eu/blog/component-composition-is-great-btw)

**[La composition de composants est gÃ©niale au fait](https://tkdodo.eu/blog/component-composition-is-great-btw)**

Dominik explique comment React a redÃ©fini le concept de "SÃ©paration des prÃ©occupations" et pourquoi privilÃ©gier la composition et les retours prÃ©coces plutÃ´t qu'un rendu conditionnel d'Ã©tats multiples. Je partage la mÃªme expÃ©rience : le composant a plus de chances de rester maintenable dans le temps ainsi.

---

- ğŸ’¸ [React Component Analytics â€” Omlet Scans Your Codebase to Measure Component Usage to Increase Code Quality and Design Systems Adoption](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-quick-link-aug-2024)
- ğŸ‘€ [Next.js PR \- `@next/codemod upgrade` CLI](https://github.com/vercel/next.js/pull/69935): Next.js 15 will have a CLI to automatically upgrade your dependencies to the latest stable, RC, or canary, with the ability to run the appropriate breaking change codemods.
- ğŸ‘€ [Next.js PR \- Update Dynamic APIs to be async](https://github.com/vercel/next.js/pull/68812): APIs like `cookies()`, `headers()`, `params` are going async in Next.js 15\. The PR is still WIP but [codemods have already been merged](https://github.com/vercel/next.js/pull/69572). The breaking change is not so well-received by the community but opens the way to upcoming innovations for the Next.js team.
- ğŸ” [Next.js Cache Poisoning vulnerability](https://github.com/advisories/GHSA-gp8f-8m3g-qvj9): Only affects Page Router non-dynamic routes, fixed in 13.5.7 and 14.2.9
- ğŸ§‘â€ğŸ“ [Vim for React Developers](https://vimforreactdevs.com/): Free pragmatic mini-course from Lee Robinson.
- ğŸ§‘â€ğŸ“ [EpicReact v2 \- React 19 update](https://www.epicreact.dev/): Kent C. Dodds released a new version of his flagship React course (paid, currently 40% off).
- ğŸ—“ï¸ [React Summit US](https://reactsummit.us/?utm_source=Newsletter&utm_medium=thisweekinreact) - ğŸ‡ºğŸ‡¸ New-York - 19 & 22 December - [Free remote tickets are available now, click here !](https://gitnation.com/badges/react-summit-us-2024/addy_osmani?from=This+Week+In+React) 10% discount with code TWIR.
- ğŸ—“ï¸ [React Advanced London](https://reactadvanced.com/?utm_source=Newsletter&utm_medium=thisweekinreact) - ğŸ‡¬ğŸ‡§ London - 25 & 28 October - Hurry and grab your ticket to the conference as prices are about to go up ! And fonâ€™t forget your discount with code â€œTWIRâ€.
- ğŸ“œ [How to control a React component with the URL](https://buildui.com/posts/how-to-control-a-react-component-with-the-url): This cool interactive blog post greatly illustrates a common antipattern among React devs using search parameters. You should consider the URL as the source of truth, instead of trying to sync your state to the URL.
- ğŸ“œ [Partial Prerendering for Everyone with Cloudflare Workers](https://sunilpai.dev/posts/ppr-for-everyone/): Former React team member Sunil Pai shared a demo of implementing PPR from scratch outside of Next.js, using React `prerender()`, `postpone()` and `resumeToPipeableStream()`. These are very experimental APIs that may change, donâ€™t do this at home and only use this for learning/curiosity.
- ğŸ“œ [CSS `content-visibility` for React devs](https://dev.to/sebastienlorber/css-content-visibility-for-react-devs-4a3i): I aggregated a few interesting tweets/links explaining why React devs should care about this new CSS property that can improve your app rendering performance. Itâ€™s now in all browsers and although not widely supported, can be a progressive enhancement. You could use it as a replacement or alongside a React virtualization library to improve performance and accessibility.
- ğŸ“œ [HTMX Essay \- You Can't Build Interactive Web Apps Except as Single Page Applications... And Other Myths](https://htmx.org/essays/you-cant/): An interesting read debunking myths and explaining whatâ€™s possible to do without an SPA framework like React. The gap between MPAs and SPAs is getting thinner thanks to modern technologies: Service Workers, View Transitions, Speculation Rulesâ€¦
- ğŸ“œ [How to fetch data in React](https://www.robinwieruch.de/react-fetching-data/): Robin Wieruch refreshed his data fetching overview post listing modern 2024 practices using React Query, useEffect, use(), RSC, and tRPC.
- ğŸ“œ [Efficient Refresh Token Implementation with React Query and Axios](https://dev.to/elmehdiamlou/efficient-refresh-token-implementation-with-react-query-and-axios-f8d): Uses Axios interceptors to automatically add an `Authorization` header and React Query `onError` callback to refresh expired tokens and retry the query/mutation.
- ğŸ“œ [How to reset the state of useActionState in React](https://www.nico.fyi/blog/reset-state-from-react-useactionstate): Resetting the action state is surprisingly tricky.
- ğŸ“œ [From Parcel to Vite: A short story of a 100K LOC migration](https://blog.logto.io/parcel-to-vite): Logto migrated a React frontend to Vite and shared integration details on various React-related features: MDX, SVGR, `React.lazy`, Fast Refreshâ€¦
- ğŸ“œ [Astro Content Layer \- A Deep Dive](https://astro.build/blog/content-layer-deep-dive/)
- ğŸ“¦ [Storybook 8.3](https://storybook.js.org/blog/storybook-8-3/): Includes a first-class Vitest integration that makes Component Testing x6 faster, and a better integration with Next.js projects.
- ğŸ“¦ [Priompt \- JSX-based prompt design library](https://www.cursor.com/blog/prompt-design): I missed that AI prompting library released last year by a Cursor dev.
- ğŸ“¦ [next-view-transitions 0.3.2 \- useTransitionRouter API](https://x.com/shuding_/status/1838000183356850240)
- ğŸ“¦ [Legend-State 3.0 beta \- Signal-based state library \- Improves on computed observables, persistence, sync](https://www.legendapp.com/open-source/state/v3/)
- ğŸ“¦ [Vaultusaurus \- Tools to integrate an Obsidian Vault with a Docusaurus site, including a graph view](https://github.com/chanjunren/vaultusaurus)
- ğŸ¥ [Jack Herrington \- I hacked ShadCN to Create Insane React Templates and Installers](https://www.youtube.com/watch?v=NP2ULDZxpd0): The CLI can be hijacked by writing/generating your own JSON update files.
- ğŸ¥ [Theo \- The React "head" Dramaâ€¦](https://www.youtube.com/watch?v=qmM91SnSw8w): React 19 wonâ€™t deduplicate `<title>` tags for you and you still may want to use a lib like React Helmet.
- ğŸ¥ [ThePrimeTime \- Remix's Concurrent Submissions Are Fundamentally Flawed](https://www.youtube.com/watch?v=Tvms2DaG8UY)
- ğŸ™ï¸ [Frontend First 196 \- Tom Occhino on the future of React](https://www.youtube.com/watch?v=ktO2OqwvgEs): A look back at the many years of innovation at Facebook that led to the creation of RSC and Partial Prerendering as a North Star. From BigPipe to GraphQL/Relay to RSC.
- ğŸ™ï¸ [PodRocket \- TanStack and TanRouter with Tanner Linsley](https://podrocket.logrocket.com/tanstack-tanrouter-tanner-linsley)
- ğŸ™ï¸ [Syntax.fm 824 \- Taylor Otwell's opinions on PHP, React, Laravel and Lamborghini Memes](https://syntax.fm/show/824/taylor-otwell-s-opinions-on-php-react-laravel-and-lamborghini-memes)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![PrÃªt Ã  automatiser votre extraction de donnÃ©es ?](/emails/issues/202/apryse.jpg)](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)

**[PrÃªt Ã  automatiser votre extraction de donnÃ©es ?](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)**

Apryse IDP simplifie l'extraction de donnÃ©es Ã  partir de PDFs. Extrayez facilement des dÃ©tails de rapports financiers ou de dossiers patients avec une grande prÃ©cision et une configuration minimale. Notre IA extrait le texte, les tableaux et les formulaires de divers documents, rÃ©duisant le travail manuel et amÃ©liorant la qualitÃ© des donnÃ©es.

[Commencez dÃ¨s aujourd'hui.](https://apryse.com/capabilities/extraction?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=0815)

---

## ğŸ“± React-Native {#react-native}

- ğŸ’¸ [Sonny Sangha - Construire un clone de Zoom 2.0 avec React Native](https://go.clerk.com/jBpMIuk)
- ğŸ¦ [DÃ©monstration de React-Native-WebGPU sur macOS](https://x.com/SaadNajmi/status/1838295375700201720)
- ğŸ¦ [Tzvetan Mikov sur l'utilitÃ© d'ajouter la prise en charge Wasm Ã  Hermes](https://x.com/tmikov/status/1837600409386734037)
- ğŸ“Š [Benchmarking React Native](https://dream-sports-labs.github.io/rn-benchmarking/) : Ce site intÃ©ressant nous permet de comparer les performances de React Native selon la version, l'architecture et la plateforme (iOS/Android)
- ğŸ—“ï¸ [RNLConf](https://www.reactnativelondon.co.uk/?utm_source=thisweekinreact) \- ğŸ‡¬ğŸ‡§ Londres - 14 & 15 novembre - Obtenez 10% de rÃ©duction avec le code "TWIR", procurez-vous un billet maintenant !
- ğŸ“œ [L'IDE React Native devient dÃ©sormais Radon IDE](https://blog.swmansion.com/react-native-ide-is-now-radon-ide-cfbdad77d43c) : TL;DR il s'agit juste d'un changement de nom pour des raisons pratiques. Toujours intÃ©ressant de lire pourquoi ils ont choisi ce nom (indice : atomique, Polonium)
- ğŸ“œ [Comment Ã©couter les erreurs non capturÃ©es/non gÃ©rÃ©es dans React Native](https://andrei-calazans.com/posts/how-to-global-catch-errors/) : avec `globalThis.ErrorUtils.setGlobalHandler()`
- ğŸ“œ [Comment adopter Expo progressivement](https://expo.dev/blog/how-to-incrementally-adopt-expo)
- ğŸ“¦ [MiniSim 0.9 - Prise en charge des appareils physiques](https://github.com/okwasniewski/MiniSim/releases/tag/v0.9.0)
- ğŸ“¦ [React Native 0.76.0-rc.2](https://github.com/facebook/react-native/releases/tag/v0.76.0-rc.2)
- ğŸ¥ [Simon Grimm - Pourquoi la 3D dans React Native ne craint plus](https://www.youtube.com/watch?v=msErROjFY08)
- ğŸ™ï¸ [React Universe On Air - Coffee Talk 21 - Comment dÃ©marrer avec la 3D dans React](https://www.youtube.com/watch?v=Olh_sE0BL1s)
- ğŸ™ï¸ [Rocket Ship 50 - Nouvelle Arch, JSI, Native Modules & Rust avec Oscar Franco](https://share.transistor.fm/s/01c99662)
- ğŸ™ï¸ [RNR 308 - Coder avec le TDAH avec Chris Ferdinandi](https://www.reactnativeradio.com/episodes/rnr-308-coding-and-adhd-with-chris-ferdinandi)

---

## ğŸ”€ Autre {#other}

- ğŸ‘€ [CSS Values and Units Level 5 - Premier brouillon de travail public](https://www.w3.org/blog/CSS/2024/09/13/css-values-5-fpwd/)
- ğŸ‘€ [CSS Grid Level 3 / Masonry Layout - Premier brouillon de travail public](https://www.w3.org/blog/CSS/2024/09/24/css-grid-3-fpwd/)
- ğŸ¦ [API Web Preference intÃ©grÃ©e au brouillon de spÃ©cification CSS Media Queries](https://x.com/sebastienlorber/status/1836698597548593350)
- ğŸ“œ [9 principes pour bien utiliser Node.js en environnement d'entreprise](https://www.platformatichq.com/node-principles)
- ğŸ“œ [Animer vers height: auto; (et autres mots-clÃ©s de dimension intrinsÃ¨que) en CSS](https://developer.chrome.com/docs/css-ui/animate-to-height-auto/)
- ğŸ“œ [Pourquoi le linting typÃ© nÃ©cessite TypeScript aujourd'hui](https://www.joshuakgoldberg.com/blog/why-typed-linting-needs-typescript-today/)
- ğŸ“¦ [Bun 1.1.28 - Compiler et exÃ©cuter du C en JavaScript, correction du SSR React 19](https://bun.sh/blog/compile-and-run-c-in-js)
- ğŸ“¦ [ts-blank-space - compilateur rapide de suppression de types convertissant TypeScript en JavaScript](https://bloomberg.github.io/ts-blank-space/)
- ğŸ“¦ [Deno 2.0 Release Candidate](https://deno.com/blog/v2.0-release-candidate)
- ğŸ“¦ [Module Federation Vite 1.0](https://www.learnbydo.ing/diary/2024-09-23-module-federation-vite-v1)

---

## ğŸ¤­ Divertissement {#fun}

[![alt](/emails/issues/202/meme.jpg)](https://x.com/Nateemerson/status/1836537823027134744)

[![alt](/emails/issues/202/meme2.jpg)](https://x.com/laszek44/status/1832024709887631384)

[![alt](/emails/issues/202/meme3.jpg)](https://x.com/jarredsumner/status/1836438965664256399)

Ã€ plus ! ğŸ‘‹