---
slug: /132
title: "This Week In React #132: Astro, Remix, Server Components, useGlobalState, Next.js, Redwood, Expo Router, Expo Image, Android Widgets..."
authors: [slorber]
date: 01-25-2023
---

Bonjour à tous !

Cette semaine, nous avons de belles sorties avec Astro 2.0 et Remix 1.11. Ainsi que du contenu intéressant autour des Server Components.

React-Native n'est pas en reste avec Expo Router en version candidate, Expo Image en bêta, et une nouvelle solution pour créer des widgets Android.

J'ai été invité à l'émission [Learn With Jason - Create and deploy a documentation website](https://www.learnwithjason.dev/create-and-deploy-a-documentation-website?utm_source=thisweekinreact) dans laquelle Jason fait ses premiers pas sur Docusaurus.

Découvrez la newsletter [ES.next News](https://esnextnews.com/?utm_source=thisweekinreact), une bonne source d'information pour se tenir au courant de l'évolution du langage JavaScript, du comité TC39 et des outils JS comme ESLint, Babel, Bun, Prettier...

<!-- truncate -->

**💡 [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![refine](/emails/issues/132/refine.png)](https://github.com/refinedev/refine)

[**refine - Framework React headless 100% open-source pour créer des applications CRUD**](https://github.com/refinedev/refine)

Préparez-vous à passer à la vitesse supérieure ! Nous sommes ravis de lancer un Hackathon Open Source refine

Vous pouvez gagner 1500$ et des kits swag spéciaux !

Nous sommes ravis de collaborer avec Strapi, Appwrite, Meilisearch et Medusa. Ils sponsorisent le Hackathon refine et les gagnants recevront un kit swag de chacun d'entre eux !

[Plus d'informations sur le Hackathon](https://refine.dev/blog/refine-hackathon/).

---

## ⚛️ React {#react}

[![Astro 2.0](/emails/issues/132/astro2.jpg)](https://astro.build/blog/astro-2/)

**[Astro 2.0](https://astro.build/blog/astro-2/)**

Astro sort sa version 2. Les nouvelles fonctionnalités mises en avant :

- Content Collections : Sécurité de type automatique pour Markdown & MDX
- Rendu Hybride : Statique ? Dynamique ? Obtenez le meilleur des deux mondes
- Superpositions d'erreurs redessinées
- Serveur de développement amélioré (HMR)
- Vite 4.0
- Feuille de route publique

Voir aussi l'article [Introducing Content Collections: Type-Safe Markdown in Astro 2.0](https://astro.build/blog/introducing-content-collections/). Il s'agit de valider le front matter avec Zod, pour pouvoir utiliser ces données de manière typée dans les composants React, et d'afficher de bons messages d'erreur avec une bonne DX lorsque les données du front matter ne respectent pas le schéma. Une très bonne idée, d'ailleurs [Docusaurus le fait aussi](https://github.com/facebook/docusaurus/issues/4591) 😜.

---

[![Remix 1.11](/emails/issues/132/remix0.11.jpg)](https://github.com/remix-run/remix/releases/tag/remix%401.11.0)

**[Remix 1.11](https://github.com/remix-run/remix/releases/tag/remix%401.11.0)**

Une belle version de Remix avec les principales nouvelles fonctionnalités :

- `defer` + `<Await>` pour initier une réponse streamée. Le loader peut retourner des promesses qui seront attendues ultérieurement côté client.
- [Route Convention v2](https://remix.run/docs/en/v1/file-conventions/route-files-v2) : une nouvelle convention (routes plates) activable dès maintenant et qui deviendra la convention par défaut en v2.
- Support expérimental pour les imports CSS, CSS Modules et Vanilla Extract.

---

- 📖 Beta docs: ["the main remaining blocker is the landing page which we’re working on now"](https://twitter.com/dan_abramov/status/1617543301477060608)
- 🐦 ["If you use React, you should be using a React framework"](https://twitter.com/acdlite/status/1617611126514266112): Andrew Clark gives good reasons to use a framework. If you don't use one, you end up creating a not-so-great one yourself.
- 📜 [The building blocks of great docs](https://www.mux.com/blog/the-building-blocks-of-great-docs): migration in progress of a technical documentation to Next.js 13. The use of Server Components brings a lot of benefits on a site with lots of static content.
- 📜 [useGlobalState - Sharing state between React components without context or fancy libraries](https://yoavik.com/snippets/use-global-state): proposes to create its own global state abstraction, without the need to use providers.
- 📜 [What I Like About Astro](https://www.macarthur.me/posts/what-i-like-about-astro): interesting comparison with Gatsby or Next.js on data sourcing, integrations (RSS, sitemap...). Astro makes it difficult to have a slow site.
- 📜 [Improving readability with React Wrap Balancer](https://vercel.com/blog/react-wrap-balancer): details the inner workings of React Wrap Balancer which allows to balance headlines without producing layout shifts (missing CSS feature).
- 📜 [Things I want to see in JavaScript and Frontend development in 2023](https://paularmstrong.dev/blog/2023/01/20/javascript-and-frontend-things-to-see-in-2023/): interesting predictions and a hot criticism of React 🔥
- 📜 [Use Remix as a SPA only](https://sergiodxa.com/articles/use-remix-as-a-spa-only): using a `<ClientOnly>` component.
- 📜 [Gatsby 5, TypeScript, and Generated GraphQL Types: A Walkthrough](https://www.gatsbyjs.com/blog/gatsby-5-typescript-and-generated-graphql-types-a-walkthrough/)
- 📜 [Modals with React Router 6 and Remix](https://dev.to/infoxicator/modals-with-react-router-6-and-remix-1e35)
- 📜 [Why React Router is excellent for Micro-Frontends](https://dev.to/infoxicator/why-react-router-is-excellent-for-micro-frontends-2a21)
- 📜 [useAsyncEffect: The Missing React Hook](https://marmelab.com/blog/2023/01/11/use-async-effect-react.html)
- 📜 [Test-driven development of NextJS API routes](https://massimilianomirra.com/notes/test-driven-development-of-nextjs-api-routes)
- 📜 [How to build a better React map with Pigeon Maps and Mapbox](https://evilmartians.com/chronicles/how-to-build-a-better-react-map-with-pigeon-maps-and-mapbox)
- 📜 [Refraction, dispersion, and other shader light effects](https://blog.maximeheckel.com/posts/refraction-dispersion-and-other-shader-light-effects/)
- 🧑‍🎓 [Josh Comeau - Joy of React - Couse launch](https://twitter.com/JoshWComeau/status/1617553220242661377)
- 🎨 [TanStack Query multi-client sync demo](https://twitter.com/aryan__deora/status/1616097346558754819)
- 🎨 [DevTools - Toggle Suspense boundaries demo](https://twitter.com/delba_oliveira/status/1617205554547683328)
- 👀 [Remix PR - add built-in PostCSS and Tailwind support](https://github.com/remix-run/remix/pull/5229)
- 👀 [XState PR - createProvider](https://twitter.com/DavidKPiano/status/1617537783018422273)
- 👀 [React docs PR - Replace Create React App recommendation with Vite](https://github.com/reactjs/reactjs.org/pull/5487): controversial PR this week
- 📦 [Bright - React Server Component for syntax highlighting](https://github.com/code-hike/bright): promising WIP package for modern syntax highlighting. In a Node.js/server context, we can run heavier code like parsing an AST rather than using regexp (Prism).
- 📦 [Redwood 4.0 RC](https://twitter.com/RedwoodJS/status/1616002999729389568): new API Auth, GraphQL Yoga v3, GraphQL Armor, Node.js 16/18...
- 📦 [shadcdn/ui - Beautifully designed components built with Radix UI and Tailwind CSS](https://twitter.com/shadcn/status/1617916719242293248)
- 📦 [next-mdx-remote 4.3 - Server Components Support (experimental)](https://github.com/hashicorp/next-mdx-remote/releases/tag/v4.3.0)
- 🎥 [Astro 2.0 is Revolutionary!](https://www.youtube.com/watch?v=gi4c7fbeURc)
- 🎥 [Lee Robinson - Revisiting my React course 3 years later](https://www.youtube.com/watch?v=DQk0TWmgYXw)

<SubscribeFormEmbed />

---

## 📱 React-Native {#react-native}

[![RC Expo Router](/emails/issues/132/expo-router.jpg)](https://blog.expo.dev/announcing-the-expo-router-v1-release-candidate-c5680b88a18c)

**[Expo Router v1 Release Candidate](https://blog.expo.dev/announcing-the-expo-router-v1-release-candidate-c5680b88a18c)**

Expo Router propose de créer votre navigation mobile (toujours basée sur React-Navigation) en utilisant des conventions de nommage de système de fichiers, comme le font déjà la plupart des frameworks React web. On retrouve les fonctionnalités habituelles : routes de mise en page, routes dynamiques, gestionnaires d'erreurs...

Le plus intéressant pour moi : le support universel. La navigation est basée sur des liens, un composant `<Link>` et le support web Metro (expérimental). Maintenant que la partie native d'Expo fonctionne bien, je ne serais pas surpris de voir Expo devenir progressivement un framework full-stack universel, réalisant ainsi [la prédiction d'Andrew Clark](https://twitter.com/acdlite/status/1489755769876754434).

---

- 👀 [Expo-Image en bêta](https://twitter.com/JI/status/1616337848558551041) : le nouveau composant image d'Expo passe en bêta. Performant, multiplateforme (web/mobile), nombreux formats, placeholders, object-fit... Consultez la [doc](https://docs.expo.dev/versions/unversioned/sdk/image/).
- 📖 [Guides Maestro - React-Native](https://maestro.mobile.dev/platform-support/react-native) : le framework de tests e2e propose désormais une page doc dédiée à React-Native.
- 📦 [React-Native-Android-Widget](https://saleksovski.github.io/react-native-android-widget/) : nouveau package pour créer des widgets Android, utilisant des primitives UI dédiées. Dispose d'un système de prévisualisation. Facile à utiliser avec Expo (Config Plugin).
- 📦 [Moti 0.22](https://twitter.com/FernandoTheRojo/status/1616583066054545408) : un correctif ajoute le support Hermes.
- 📦 [Metro 0.74](https://github.com/facebook/metro/releases/tag/v0.74.0) : d'importantes améliorations de performances.
- 🎙️ [RNR 256 - Expo Router avec Evan Bacon](https://reactnativeradio.com/episodes/rnr-256-expo-router-with-evan-bacon)

---

## 🧑‍💻 Emplois {#jobs}

🧑‍💼 [**Lab - Développeur Frontend - Hybride à distance, Londres**](https://4dayweek.io/remote-job/frontend-developer-lab?utm_source=newsletter&utm_medium=newsletter&utm_campaign=weekinreact)

Rejoignez l'agence Riverr en tant que développeur frontend, travaillant sur des projets clients utilisant des technologies modernes comme React, Next.js et TypeScript. Poste en [**semaine de 4 jours**](https://4dayweek.io/?utm_source=newsletter&utm_medium=newsletter&utm_campaign=weekinreact).

🧑‍💼 [**TLDR - Ingénieur logiciel senior (Télétravail, $120k-200k)**](https://tldr.tech/jobs/senior-software-engineer/23?utm_source=thisweekinreact)

La newsletter TLDR recrute son premier ingénieur pour développer la plateforme de recrutement ainsi que d'autres projets internes. Recherche quelqu'un ayant de l'expérience dans le déploiement de projets personnels ou au sein de petites équipes, avec une expertise en Next.js et Postgres/Supabase.

🧑‍💼 [**Callstack - Développeur React Native Senior - Entièrement à distance, 21-32k PLN net en B2B, mensuel**](https://www.callstack.com/senior-react-native-developer)

Voulez-vous travailler sur les applications les plus utilisées au monde ? Souhaitez-vous co-créer la technologie React Native ? Rejoignez l'équipe Callstack, composée de leaders React et React Native. Consultez notre site pour plus de détails. Nous avons hâte de voir votre candidature - montrez-nous ce que vous savez faire !

🧑‍💼 [**G2i - Emplois React Native 100% à distance**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

Nous avons plusieurs postes ouverts pour des développeurs spécialisés en React Native ! La rémunération est d'environ 160k $ plus 10% de bonus. Vous devez avoir une expérience en production avec RN et être basé aux États-Unis. Envoyez un DM à [@gabe_g2i](https://twitter.com/gabe_g2i) pour en savoir plus et n'oubliez pas de mentionner This Week in React.

💡 [Comment publier une offre ?](https://thisweekinreact.com/sponsor)

---

## 🔀 Autres sujets {#other}

- ["Un portage complet de webpack vers Rust est en cours. Ce n'est pas turbopack."](https://twitter.com/ScriptedAlchemy/status/1617815340905553921)
- [V8 - Présentation de l'API d'intégration de promesses JavaScript pour WebAssembly](https://v8.dev/blog/jspi)
- [Fonctionnalités WebKit dans Safari 16.3](https://webkit.org/blog/13691/webkit-features-in-safari-16-3/)
- [La vérité sur les performances des sélecteurs CSS](https://blogs.windows.com/msedgedev/2023/01/17/the-truth-about-css-selector-performance/)
- [Rendre les fonctions génériques vérifiables par le système de types](https://type-level-typescript.com/articles/making-generic-functions-pass-type-checking)
- [CSS Nesting - Blink annonce l'intention de livrer](https://twitter.com/sebastienlorber/status/1617882799100526595)
- [TypeScript 5.0 PR - Prise en charge des décorateurs](https://twitter.com/robpalmer2/status/1616215250055090187)
- [Bun 0.5](https://bun.sh/blog/bun-v0.5.0)
- [esbuild 0.17](https://github.com/evanw/esbuild/releases/tag/v0.17.0)
- [Bilan 2022 d'ESLint](https://eslint.org/blog/2023/01/eslint-2022-year-review/)
- [Construire et délivrer des frontends à grande échelle](https://frontendmastery.com/posts/building-and-serving-frontends-at-scale/)
- [Écrire un client tRPC minimaliste](https://trpc.io/blog/tinyrpc-client)

---

## 🤭 Fun {#fun}

[![alt](/emails/issues/132/meme.jpg)](https://twitter.com/fireship_dev/status/1617708616496345088)