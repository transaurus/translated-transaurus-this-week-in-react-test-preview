---
slug: /120
title: "This Week In React #120: use RFC, Sandpack, Progressive enhancement, Streaming, Storybook, React-Native, Codeflow, Fontaine, Unplugin, Node.js 19, TypeRunner..."
authors: [slorber]
date: 10-18-2022
---

Bonjour Ã  tous !

La newsletter est en retard : un nouveau RFC React m'a donnÃ© beaucoup de lecture ğŸ˜„ L'article de Kent C. Dodds est Ã©galement assez long mais en vaut la peine. Nous avons deux articles mettant en avant Sandpack en deux semaines, cela vaut probablement le coup d'Å“il !

Les choses avancent bien aussi du cÃ´tÃ© du cÅ“ur React Native, avec de nouvelles discussions ouvertes. On pourrait mÃªme penser qu'aprÃ¨s la migration vers la nouvelle architecture et la stabilisation des API publiques, il pourrait y avoir une version 1.0 ? Cela n'a pas grande importance en pratique, mais certains semblent tenir profondÃ©ment Ã  avoir une version majeure.

Il y a aussi pas mal de nouveautÃ©s intÃ©ressantes dans l'Ã©cosystÃ¨me frontend. Je suis particuliÃ¨rement intÃ©ressÃ© par Codeflow, Fontaine et Unplugin qui pourraient concerner directement Docusaurus.

En parlant de Docusaurus, j'ai Ã©tÃ© invitÃ© Ã  en parler dans le [podcast Changelog JS Party](https://changelog.com/jsparty/247).

<!-- truncate -->

**ğŸ’¡ [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Sizzy - le navigateur pour dÃ©veloppeurs](/emails/issues/120/sizzy.jpg)](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact)

Comment se fait-il que les professionnels de tous les autres secteurs disposent d'outils spÃ©cialisÃ©s, mais que les dÃ©veloppeurs web soient encore coincÃ©s Ã  utiliser le navigateur que leur grand-mÃ¨re utilise pour faire des achats sur Amazon ?

Si vous ouvrez localhost:3000 dans un autre navigateur que Sizzy, vous gaspillez des heures de votre temps prÃ©cieux.

**Avant Sizzy :** le dÃ©veloppement web vous stresse, le design responsive est difficile, vous avez une quantitÃ© Ã©crasante d'onglets et d'applications ouverts.

**AprÃ¨s Sizzy :** tous les outils dont vous avez besoin sont au mÃªme endroit, le design responsive est un jeu d'enfant, plus de changement de contexte.

Vous pouvez [le tÃ©lÃ©charger ici](https://sizzy.co/?utm_campaign=newsletter&utm_source=thisweekinreact) et l'essayer gratuitement pendant 14 jours !

---

## âš›ï¸ React {#react}

**[RFC React : Support de premiÃ¨re classe pour les promesses et async/await](https://github.com/reactjs/rfcs/pull/229)**

L'Ã©quipe React a dÃ©cidÃ© de revenir Ã  un modÃ¨le `async/await` pour simplifier l'utilisation des Server Components. ProblÃ¨me : il est difficile de prendre en charge `async/await` dans les Client Components. Ils proposent donc d'introduire une API `use(promise)` cÃ´tÃ© client. Contrairement Ã  d'autres hooks, `use` peut Ãªtre appelÃ© conditionnellement. Plus tard, il pourrait Ãªtre utilisÃ© avec d'autres "utilisables" comme le contexte React (en rÃ©alitÃ©, vous pouvez dÃ©jÃ  [utiliser `useContext` conditionnellement !](https://twitter.com/acdlite/status/1581401077915975680)). Utiliser diffÃ©rentes API peut aussi Ãªtre vu comme une fonctionnalitÃ© : cela permet de distinguer les Server Components des Client Components.

Ce RFC suscite des dÃ©bats intÃ©ressants. On s'interroge sur l'intÃ©gration avec les bibliothÃ¨ques de rÃ©cupÃ©ration de donnÃ©es. L'utilisation de gÃ©nÃ©rateurs semble adaptÃ©e Ã  ce cas, mais ils sont difficiles Ã  utiliser en pratique. Nous attendons un nouveau RFC qui introduira une API de cache.

**[La prochaine transition du Web](https://www.epicweb.dev/the-webs-next-transition)**

Kent C. Dodds propose une belle rÃ©trospective des 3 principales architectures web, trÃ¨s bien illustrÃ©e et documentÃ©e. Il met en avant la derniÃ¨re architecture, la tendance du moment : Progressively Enhanced Single-Page-Application (Application Ã  Page Unique Ã  AmÃ©lioration Progressive). Remix en est une implÃ©mentation, avec des abstractions bien pensÃ©es qui encouragent Ã  Ã©muler le comportement natif du navigateur. Je ne suis pas tout Ã  fait d'accord qu'un serveur soit absolument nÃ©cessaire. [Docusaurus](https://github.com/facebook/docusaurus) est Ã©galement une implÃ©mentation PESPA qui fonctionne bien sans JavaScript.

**[Un terrain de jeu de code de classe mondiale avec Sandpack](https://www.joshwcomeau.com/react/next-level-playground/)**

Josh Comeau vante [Sandpack](https://github.com/codesandbox/sandpack), la boÃ®te Ã  outils CodeSandbox qu'il utilise pour crÃ©er des terrains de jeu de code interactifs. Cela semble facile Ã  utiliser et trÃ¨s flexible !

- ğŸ“œ [Streaming : cela en vaut-il la peine ?](https://www.builder.io/blog/streaming-is-it-worth-it) : les auteurs de Qwik, Solid et Marko expliquent les avantages du streaming, et pourquoi il est difficile d'adopter cette technique. Dans un contexte React, les bibliothÃ¨ques utilisÃ©es (Helmet, CSS-in-JS, Redux...) doivent Ãªtre compatibles pour que le streaming soit efficace.
- ğŸ“œ [Storybook - Support de premiÃ¨re classe pour Vite](https://storybook.js.org/blog/first-class-vite-support-in-storybook/) : 7.0 sera bientÃ´t en version bÃªta : support de Vite sans configuration, prÃ©-bundling, plus besoin de Webpack, support de nouvelles technologies comme Vue 2, Lit et Svelte...
- ğŸ“œ [Passer de React Ã  htmx](https://htmx.org/essays/a-real-world-react-to-htmx-port/) : retour d'expÃ©rience (article + vidÃ©o) sur une migration rÃ©ussie de React vers [htmx](https://htmx.org/). Nous sommes dans un contexte backend Python, leurs conclusions seraient probablement diffÃ©rentes dans un contexte JavaScript oÃ¹ tous les dÃ©veloppeurs sont full-stack. Le dÃ©veloppeur JS a fait la POC et a perdu son emploi par la suite ğŸ˜….
- ğŸ“œ [PrivilÃ©gier le contenu par rapport aux composants](https://www.simeongriggs.dev/components-considered-harmful-for-content) : idÃ©es intÃ©ressantes sur la conception de composants React sous diffÃ©rents angles : designer, dÃ©veloppeur et auteur de contenu (CMS)
- ğŸ“œ [Une petite astuce HTML sÃ©mantique pour les composants React](https://queen.raae.codes/emails/2022-10-10-semantic-react/) : explique comment respecter la sÃ©mantique HTML en passant l'Ã©lÃ©ment DOM Ã  crÃ©er dans les props.
- ğŸ“œ [Utiliser des Web Components avec Next (ou n'importe quel framework SSR)](https://css-tricks.com/using-web-components-with-next-or-any-ssr-framework/)
- ğŸ“œ [Explorer comment le DOM virtuel est implÃ©mentÃ© dans React](https://indepth.dev/posts/1501/exploring-how-virtual-dom-is-implemented-in-react)
- ğŸ“œ [Chargement diffÃ©rÃ© des composants React dans Remix](https://sergiodxa.com/articles/lazy-load-react-components-in-remix)
- ğŸ¦ [Astuce React : isFocused ne devrait presque jamais Ãªtre une prop](https://twitter.com/DavidKPiano/status/1580179833052876800)
- ğŸš§ [Streaming SSR dans le prototype Preact](https://twitter.com/marvinhagemeist/status/1581762567328104448)
- ğŸ§‘â€ğŸ“ [CrÃ©er un site 3D avec des contrÃ´les de jeu dans Spline et React](https://designcode.io/spline2) ([vidÃ©o](https://www.youtube.com/watch?v=uYp_ipIasYE))
- ğŸ¨ [DÃ©mo Satori + React-Three-Fiber](https://twitter.com/0xca0a/status/1581751380339232768)
- ğŸ¨ [DÃ©mo de mise en Ã©vidence de la syntaxe du code SVG avec Satori](https://twitter.com/shuding_/status/1581358324569645056)
- ğŸ™ï¸ [Docusaurus 2 est un gros coup](https://changelog.com/jsparty/247)
- ğŸ¥ [En dÃ©fense de useEffect](https://www.youtube.com/watch?v=Zw4lJqBphvA)
- ğŸ¥ [Rendre React Context rapide !](https://www.youtube.com/watch?v=ZKlXqrcBx88)
- ğŸ“¦ [Planby - Composant React.js pour les emplois du temps et chronologies](https://planby.netlify.app/)
- ğŸ“¦ [Gatsby v5 bÃªta](https://twitter.com/GatsbyJS/status/1580288285229735936)
- ğŸ“¦ [Astro 1.5](https://twitter.com/astrodotbuild/status/1580611193429168129)
- ğŸ“¦ [SWR 2.0 RC](https://github.com/vercel/swr/releases/tag/2.0.0-rc.0)

<SubscribeFormEmbed />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Chain React - La confÃ©rence amÃ©ricaine React Native - 17-19 mai 2023 Portland Oregon](/emails/issues/120/chainreact.jpg)](https://cr.infinite.red/?utm_source=react_hebdo)

**[Chain React - La confÃ©rence amÃ©ricaine React Native - 17-19 mai 2023 Portland Oregon](https://cr.infinite.red/?utm_source=react_hebdo)**

Chain React revient pour la 4Ã¨me confÃ©rence annuelle phare sur React Native en mai 2023. Les meilleurs esprits, entreprises et partenaires que vous ne voudrez pas manquer.

- **Ateliers | 17 mai 2023** - Nous proposons trois ateliers passionnants pour tous les niveaux de compÃ©tences ! Ces ateliers exclusifs se dÃ©rouleront le 17 mai Ã  l'hÃ´tel officiel des confÃ©renciers. Vous y apprendrez, Ã©changerez et bÃ©nÃ©ficierez d'un accÃ¨s direct aux experts.

- **ConfÃ©rence | 18-19 mai 2023** - Notre Ã©vÃ©nement principal ! C'est ici que les entreprises annoncent des nouveautÃ©s majeures, que les dÃ©veloppeurs partagent leurs secrets et que des amitiÃ©s durables se crÃ©ent. La confÃ©rence principale n'est jamais diffusÃ©e en direct.

---

## ğŸ“± React-Native {#react-native}

**[2022 : Comment pouvons-nous amÃ©liorer React Native ?](https://github.com/react-native-community/discussions-and-proposals/discussions/528)**

L'Ã©quipe React Native souhaite recueillir des retours sur les amÃ©liorations nÃ©cessaires dans React Native. Quelques points mentionnÃ©s : support CSS (Yoga, gap, grid, ombres...), support multiplateforme, mises Ã  jour de version, dÃ©bogage, clavier, liens symboliques Metro...

- ğŸ’¬ [Restructuration de l'API publique de React Native](https://github.com/react-native-community/discussions-and-proposals/discussions/523)
- ğŸ“œ [Configurer un monorepo React Native avec Yarn Workspaces](https://www.callstack.com/blog/setting-up-react-native-monorepo-with-yarn-workspaces)
- ğŸ“œ [Comment utiliser Module Federation avec Re.Pack 3](https://www.callstack.com/blog/module-federation-with-re-pack-3)
- ğŸš§ [Expo Router 0.0.27](https://twitter.com/Baconbrix/status/1579912795323215872) + [RFC sur les changements de l'API Layout](https://twitter.com/Baconbrix/status/1582057133939384321)
- ğŸš§ [React-Native Bottom Sheet v5 aura un support web](https://twitter.com/gorhom/status/1581334529121218561)
- ğŸš§ [Support Flex gap dans React-Native Ã  venir ?](https://twitter.com/Baconbrix/status/1580587087174062080)
- ğŸ“– [AmÃ©liorations de la documentation Expo](https://twitter.com/amanhimself/status/1580615698321399811) : "Les tests E2E sur EAS Build fonctionnent dÃ©sormais sur Android"
- ğŸ“¦ [Metro 0.73.0](https://github.com/facebook/metro/releases/tag/v0.73.0)
- ğŸ“¦ [React-Native 0.70.3](https://twitter.com/Kelset/status/1580210635266084864)
- ğŸ¥ [Animation de carte retournÃ©e avec React-Native Re-Animated 2](https://www.youtube.com/watch?v=nVsvcu93488)
- ğŸ™ï¸ [React-Native-Radio 248 - PrÃ©sentation d'Ignite v8 : Maverick !](https://reactnativeradio.com/episodes/rnr-248-introducing-ignite-v8-maverick)

---

## ğŸ§‘â€ğŸ’» Emplois {#jobs}

ğŸ§‘â€ğŸ’¼ [**IngÃ©nieur Produit chez Causal, Remote/Londres/NY, 150-250k$**](https://jobs.lever.co/causal-app/4acaafbe-ef3d-45a6-bbe6-687c022d727c?lever-origin=applied&lever-source%5B%5D=thisweekinreact.com)

Causal est une startup de sÃ©rie A (soutenue par Coatue/Accel) qui construit un outil tout-en-un pour travailler avec des chiffres et visualiser des donnÃ©es. Nous recherchons des ingÃ©nieurs React expÃ©rimentÃ©s capables de rÃ©soudre des dÃ©fis complexes d'UX/performance.

ğŸ§‘â€ğŸ’¼ [**G2i - Emplois React Native 100% Remote**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

Nous avons plusieurs postes ouverts pour des dÃ©veloppeurs spÃ©cialisÃ©s en React Native ! La rÃ©munÃ©ration est d'environ 160k plus 10% de bonus. Vous devez avoir une expÃ©rience en production avec RN et Ãªtre basÃ© aux Ã‰tats-Unis. Envoyez un DM Ã  [@gabe_g2i](https://twitter.com/gabe_g2i) pour en savoir plus et n'oubliez pas de mentionner This Week in React.

ğŸ’¡ [Comment publier une offre ?](https://thisweekinreact.com/sponsor)

---

## ğŸ”€ Autre {#other}

**[StackBlitz Codeflow](https://stackblitz.com/codeflow)**

La technologie [WebContainers](https://blog.stackblitz.com/posts/introducing-webcontainers/) de StackBlitz permet d'exÃ©cuter Node.js dans le navigateur via WebAssembly. Vous pouvez exÃ©cuter VS Code, Next.js ou Docusaurus directement dans votre navigateur, sans passer par un conteneur Docker distant. Codeflow ajoute une couche complÃ¨te d'intÃ©gration avec GitHub qui facilite l'ouverture, la rÃ©vision ou la modification d'une pull-request en l'exÃ©cutant localement de maniÃ¨re sÃ©curisÃ©e : extrÃªmement utile pour les projets open-source.

Ils ont Ã©galement lancÃ© Web Publisher, une vue d'Ã©dition simplifiÃ©e pour les fichiers Markdown (Ã©diteur, aperÃ§u, bouton d'enregistrement). TrÃ¨s pratique pour contribuer Ã  la documentation sur Git, mÃªme pour les utilisateurs moins techniques. Il y a un vÃ©ritable aperÃ§u du contenu, contrairement Ã  l'expÃ©rience dÃ©gradÃ©e de l'aperÃ§u Markdown de GitHub. C'est un [besoin important pour les utilisateurs de Docusaurus](https://twitter.com/ericsimons40/status/1580371754974781440).

**[Fontaine - Rechange de police automatique basÃ© sur les mÃ©triques de police](https://github.com/unjs/fontaine)**

Permet d'Ã©viter les dÃ©calages de mise en page lors du chargement d'une police personnalisÃ©e. Rend la police de rechange de la mÃªme taille que la police finale, pour une transition fluide qui n'affecte pas la taille des conteneurs de texte. Excellente idÃ©e !

- [Node.js 19](https://twitter.com/nodejs/status/1582401871179747329)
- [Node 18.11](https://nodejs.org/en/blog/release/v18.11.0/) : ajoute un nouveau mode `--watch` et [quelques autres fonctionnalitÃ©s intÃ©ressantes](https://twitter.com/matteocollina/status/1580911016506163202)
- [Unplugin - SystÃ¨me de plugins unifiÃ© pour Vite, Rollup, Webpack et plus](https://github.com/unjs/unplugin) : pour crÃ©er des plugins agnostiques fonctionnant sur tous les bundlers !
- [CSS - Aide au choix d'une syntaxe d'imbrication - RÃ©sultats de l'enquÃªte](https://developer.chrome.com/blog/help-css-nesting-results/)
- [Mise Ã  jour de mon portage tsc](https://kdy1.dev/posts/2022/10/tsc-port-status) + [DÃ©pÃ´t public du vÃ©rificateur de types TypeScript rapide](https://twitter.com/kdy1dev/status/1582174891230760960)
- [TypeRunner - Compilateur TypeScript haute performance](https://github.com/marcj/TypeRunner)
- [Lerna renaÃ®t â€” Quoi de neuf dans la v6 ?](https://blog.nrwl.io/lerna-reborn-whats-new-in-v6-10aec6e9091c)
- [Quoi de neuf dans Nx 15 ?](https://blog.nrwl.io/whats-new-in-nx-15-7e14e1ff282d)
- [JetBrains Fleet - AperÃ§u public](https://blog.jetbrains.com/fleet/2022/10/introducing-the-fleet-public-preview/)
- [Les import maps bientÃ´t disponibles dans tous les navigateurs](https://twitter.com/sebastienlorber/status/1582024272788480000)
- [Intervention de Bun Ã  la ViteConf](https://twitter.com/jarredsumner/status/1581427214691708929)
- [rRPC-chrome - Adaptateur tRPC pour les extensions Web](https://github.com/jlalmes/trpc-chrome)
- [Qu'est-ce que pnpm ? Est-il vraiment si rapide et Ã©conome en espace ?](https://dev.to/stackblitz/what-is-pnpm-and-is-it-really-so-fast-and-space-efficient-29la)
- [Intl Explorer - Outil pour expÃ©rimenter l'API d'internationalisation ECMAScript](https://www.intl-explorer.com/)
- [Pourquoi nous utilisons Babylon.js au lieu de Three.js en 2022](https://www.spotvirtual.com/blog/why-we-use-babylonjs-instead-of-threejs-in-2022)
- [Comment Vite est nÃ© - Diapositives de la ViteConf 2022](https://docs.google.com/presentation/d/1O09rAOu_wRLHVjukVbBeSlRkLeX-dcYZfsdjPiU4kGQ/edit#slide=id.p)
- [Rollup v3](https://github.com/rollup/rollup/releases/tag/v3.0.0)
- [Jest 29.2](https://github.com/facebook/jest/releases/tag/v29.2.0)
- [Obsidian 1.0](https://obsidian.md/1.0)

---

## ğŸ¤­ Amusant {#fun}

[![MÃ¨me - Quand une rÃ¨gle ESLint est un avertissement plutÃ´t qu'une erreur. - oh non - de toute faÃ§on (personne ne s'en soucie)](/emails/issues/120/meme.png)](https://twitter.com/markdalgleish/status/1580827326799310848)