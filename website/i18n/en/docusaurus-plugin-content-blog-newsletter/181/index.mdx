---
slug: /181
title: "This Week In React #181: React errors, Fast JSX, Flow, React-Query, Jotai, Inline styles, RSC, Next.js, RTL, RN 3D, Orbit, Gesture Handler, Skia, NewArch Helper, TC39, ESLint, VSCode..."
authors: [slorber, bndkt]
date: 04-10-2024
---

Bonjour Ã  tous !

Cette semaine, j'ai trouvÃ© de nombreuses PR React Core Ã  examiner. Trop mÃªme, du coup j'en ai gardÃ© quelques-unes pour la semaine prochaine !

AprÃ¨s la 2D avec Skia, c'est super excitant de voir les dÃ©veloppeurs React Native explorer l'univers 3D !

**ğŸ’¡ [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

<!-- truncate -->

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Abonnements in-app simplifiÃ©s](/emails/issues/177/revenuecat.jpg)](https://www.revenuecat.com?utm_source=twir&utm_medium=sponsorship&utm_campaign=dec_23)

**[Abonnements in-app simplifiÃ©s](https://www.revenuecat.com?utm_source=twir&utm_medium=sponsorship&utm_campaign=dec_23)**

RevenueCat vous offre tout ce dont vous avez besoin pour monÃ©tiser, analyser et dÃ©velopper votre application. ContrÃ´lez facilement l'accÃ¨s et les droits des clients, gÃ©rez les donnÃ©es et expÃ©rimentez avec les tarifs. DÃ©couvrez pourquoi plus de 30 000 applications font confiance Ã  RevenueCat pour leur infrastructure d'achats in-app.

---

## âš›ï¸ React {#react}

[![Documentation React - Ajout de onCaughtError / onUncaughtError, amÃ©lioration de onRecoverableError](/emails/issues/181/react-errors.jpg)](https://github.com/reactjs/react.dev/pull/6742)

[**Documentation React - Ajout de onCaughtError / onUncaughtError, amÃ©lioration de onRecoverableError**](https://github.com/reactjs/react.dev/pull/6742)

RÃ©cemment, l'Ã©quipe React Core a repensÃ© la gestion des erreurs dans React 19. Ces amÃ©liorations sont disponibles dans les versions canary de React 19 et devraient probablement arriver dans Next.js 14.2+ tÃ´t ou tard. Cela inclut notamment de nouveaux callbacks d'API publique disponibles sur la racine React (`createRoot`, `hydrateRoot`) :

- `onCaughtError` ğŸ†• signale les erreurs interceptÃ©es par les limites d'erreur
- `onUncaughtError` ğŸ†• signale les erreurs non interceptÃ©es (Ã©videmment)
- `onRecoverableError` utilise dÃ©sormais la fonctionnalitÃ© ES Error Cause pour signaler la cause originale

La PR liÃ©e est la documentation WIP pour ces nouvelles API, incluant de nombreux exemples interactifs. La motivation principale semble Ãªtre d'afficher une boÃ®te de dialogue d'erreur Ã  l'utilisateur.

Ce qui m'a le plus enthousiasmÃ©, c'est que c'est la premiÃ¨re fois que je vois en action le tout nouveau message d'erreur d'hydratation de React affichÃ© dans une boÃ®te de dialogue, comme sur la capture ci-dessus. Cela va grandement amÃ©liorer la DX de React !

---

- ğŸ’¸ [Get drop-in authentication for your React app using Clerk, with ready-to-use components, hooks, and helpers.](https://go.clerk.com/WtsedFE)
- ğŸ‘€ [React Core - Fast JSX: Don't clone props object](https://github.com/facebook/react/pull/28768): Creating JSX elements under React 19 should become much faster. Recent changes in how key/refs are handled make it possible to avoid cloning props. We create a lot of JSX nodes so this should have a significant impact!
- ğŸ‘€ [React Core - Remove defaultProps support (except for classes)](https://github.com/facebook/react/pull/28733)
- ğŸ‘€ [React Core - Rename SECRET INTERNALS](https://github.com/facebook/react/pull/28789)
- ğŸ¦ [TIL React can render promises and contexts as JSX nodes](https://twitter.com/sebastienlorber/status/1777383298618077331)
- ğŸ“– [TanStack Query - new Render Optimizations guide](https://tanstack.com/query/v5/docs/framework/react/guides/render-optimizations): Itâ€™s nice that React Query uses structural sharing under the hood, and try hard to preserve object identities over time.
- ğŸ“ˆ [Docusaurus has overtaken Gatsbyâ€™s npm downloads](https://npmtrends.com/@docusaurus/core-vs-@remix-run/react-vs-astro-vs-gatsby-vs-nextra-vs-vitepress-vs-vuepress): It feels surreal that the framework I work on is now the 2nd most used React web framework just after Next.js (far behind), despite its focus on content-centric websites. This should not last though: Astro, Remix, and Expo Web have more potential to grow.
- ğŸ—“ [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - ğŸ‡³ğŸ‡± Amsterdam - 14-18 June - Get a 10% discount with code "TWIR".
- ğŸ—“ [React Connection - 22 April](https://reactconnection.io/) + [React-Native Connection - 23 April](https://reactnativeconnection.io/) - ğŸ‡«ğŸ‡· Paris - 2 days of web/mobile conferences. Get a [\-20% discount](https://www.billetweb.fr/react-connection-2024?discount=TWIR) with code "TWIR".
- ğŸ“œ [New Flow Language Features for React](https://medium.com/flow-type/announcing-component-syntax-b6c5285660d0): Meta engineers use Flow (and not TypeScript). This post presents the benefits of new keywords `component`, `hook`, and `renders` keywords introduced directly into the language, and presents great benefits in terms of DX, type-safety, and static analysis in general. I wish we had those in TypeScript too, but since itâ€™s specific to React itâ€™s unlikely to happen unless benefiting the whole JS ecosystem.
- ğŸ“œ [Are Inline Styles Faster than CSS?](https://danielnagy.me/posts/Post_tsr8q6sx37pl): Daniel implemented his personal React website in 3 variants and measured several things: HTML/JS size, compression, Web Vitalsâ€¦ Surprisingly, using plain inline styles outperforms other CSS techniques!
- ğŸ“œ [Exploring using Suspense with React Query](https://www.teemutaskula.com/blog/exploring-query-suspense): Nicely explains how you can improve the UX when using React Query. Creates a `useSuspenseQueryDeferred` to avoid showing a Suspense fallback on query key changes.
- ğŸ“œ [React Server Components in a Nutshell](https://thenewstack.io/react-server-components-in-a-nutshell/): Paul takes Waku to illustrate how RSCs enable convenient server-side requests at the component level, while former solutions only supported route level. He also makes an interesting comparison between Gatsbyâ€™s static queries and RSCs.
- ğŸ“œ [Jotai Tips](https://blog.axlight.com/posts/jotai-tips/): Daishi aggregated 20 Jotai tips in a single article.
- ğŸ“œ [State machines in React](https://thesametech.com/state-machines-in-react/): Implements a wizard flow by building a state machine from scratch.
- ğŸ“œ [Server-only Code in Next.js App Router](https://www.builder.io/blog/server-only-next-app-router): Use server-only and client-only packages to ensure code runs where it should.
- ğŸ“œ [Next.js Forms with Server Actions](https://www.jtmthf.com/posts/nextjs-forms): A tutorial using Radix Form (in preview) to implement form elements compatible with Server Actions.
- ğŸ“œ [Exploring Server Actions with Next.js](https://www.robinwieruch.de/next-server-actions/): A Tutorial showing how to do each CRUD operation.
- ğŸ“œ [Techniques for Fetching Data - Comparing Next.js, Remix, and RedwoodJS](https://redwoodjs.com/blog/techniques-for-fetching-data): Revisits old data fetching techniques to explain why RSC is better.
- ğŸ“œ [React 19 - Part 1: The Backstory; My journey writing a framework from scratch!](https://www.cmrg.me/blog/rsc-part-1-the-backstory)
- ğŸ“œ [Synchronize Backend and Frontend Types With tRPC](https://marmelab.com/blog/2024/04/04/trpc-full-stack-types.html)
- ğŸ“¦ [Jotai Effect 1.0 - A JÅtai utility package for reactive side-effects](https://github.com/jotaijs/jotai-effect/releases/tag/v1.0.0)
- ğŸ“¦ [Jotai 2.8 - atomWithLazy, experimental store](https://github.com/pmndrs/jotai/releases/tag/v2.8.0)
- ğŸ“¦ [react-testing-library 15.0 - requires Node 18, supports new WAI-ARIA 1.2 roles](https://github.com/testing-library/react-testing-library/releases/tag/v15.0.0)
- ğŸ“¦ [use-signals - An experimental React hook for TC39 signals](https://github.com/dai-shi/use-signals)
- ğŸ¥ [Jack Herrington - Declarative Routes for NextJS and React-Router](https://www.youtube.com/watch?v=MiZcNHJT_Ss): Jack introduced [declarative-routing](https://github.com/ProNextJS/declarative-routing), a new typesafe routing solution heâ€™s working on with support for React Router and Next.js. It also supports API routes, which makes it an alternative to tRPC with control over the API endpoints.
- ğŸ¥ [Theo - Facebook wrote a language just for React](https://www.youtube.com/watch?v=HOFIefkepMA)
- ğŸ¥ [James Quick - Donâ€™t Make This Mistake with Next.js Server Components](https://www.youtube.com/watch?v=F_AplRX3dJU)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Refine - Alternative open source Ã  Retool](/emails/issues/177/refine.jpg)](https://github.com/refinedev/refine)

**[Refine - Alternative open source Ã  Retool](https://github.com/refinedev/refine)**

Le point idÃ©al entre le low code et le dÃ©veloppement traditionnel pour les applications riches en CRUD.

En tant que mÃ©ta-framework React open source conÃ§u pour les applications d'entreprise, [Refine](https://github.com/refinedev/refine) offre une solution headless idÃ©ale pour les panneaux d'administration, tableaux de bord et outils internes.

Bien que les outils low code puissent sembler prometteurs initialement, ils Ã©chouent souvent Ã  gÃ©rer des scÃ©narios complexes en raison de problÃ¨mes d'Ã©volutivitÃ©, d'options de personnalisation limitÃ©es et du risque de verrouillage fournisseur.

Refine permet aux Ã©quipes de dÃ©velopper rapidement des applications prÃªtes pour la production tout en conservant une grande flexibilitÃ©.

---

## ğŸ“± React Native {#react-native}

Cette section est dÃ©sormais co-Ã©crite avec [Benedikt](https://twitter.com/bndkt)

[![Nouvelle bibliothÃ¨que 3D pour React Native en cours de dÃ©veloppement](/emails/issues/181/rn3d.jpg)](https://twitter.com/mrousavy/status/1775840325161853389)

ğŸ¦ [**Nouvelle bibliothÃ¨que 3D pour React Native en cours de dÃ©veloppement**](https://twitter.com/mrousavy/status/1775840325161853389)

L'un des aspects les plus inspirants de la communautÃ© RN est d'observer des contributeurs comme Marc Rousavy, William Candillon et Christian Falch repousser les limites du possible avec cette technologie, dÃ©passant largement le simple rendu de texte et de boutons Ã  l'Ã©cran. AprÃ¨s les rÃ©centes annonces sur Skia, nous avons vu l'Ã©tat de l'art du rendu 2D dans RN. DÃ©sormais, Marc nous offre un aperÃ§u des avancÃ©es excitantes dans le rendu 3D avec RN. Apparemment, Margelo dÃ©veloppe une nouvelle bibliothÃ¨que pour accÃ©der aux API graphiques natives (Metal/Vulkan) depuis RN. Au-delÃ  de la courte [vidÃ©o de dÃ©monstration](https://twitter.com/JPoliachik/status/1775866218743787934), j'ai aussi trouvÃ© ce [thread](https://twitter.com/mrousavy/status/1775870100945461277) particuliÃ¨rement intÃ©ressant, oÃ¹ Marc explique leur approche avec une bibliothÃ¨que C++ et pourquoi ils n'ont pas choisi Three.js, pourtant remarquable sur le web (React-Three-Fiber prend en charge RN).

---

- ğŸ’¸ [React Library Analytics â€” Omlet vous aide Ã  identifier quels composants et props conserver, supprimer ou amÃ©liorer grÃ¢ce Ã  des donnÃ©es d'utilisation rÃ©elles.](https://omlet.dev/?utm_campaign=partner_this-week-in-react_newsletter-rn-ql-apr-2024)
- ğŸ¦ [VisionCamera rendu direct sur Skia](https://twitter.com/mrousavy/status/1776326923674661065) : Disponible avec Vision Camera 4, dont la sortie semble imminente.
- ğŸ“£ [Expo - Orbit disponible en prÃ©version pour Windows](https://expo.dev/blog/expo-orbit-now-available-as-a-preview-for-windows) : Application pratique de la barre de menus pour lancer des builds sur simulateur.
- ğŸ“£ [Expo - Changement de format des IDs de reÃ§u des notifications push](https://expo.dev/blog/push-receipt-id-format-will-change)
- ğŸ“– [Les gestes dans RN Gesture Handler sont des machines Ã  Ã©tats](https://docs.swmansion.com/react-native-gesture-handler/docs/fundamentals/states-events/#state-flows) : Les docs incluent dÃ©sormais une visualisation interactive pour les comprendre.
- ğŸ—“ [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - ğŸ‡µğŸ‡± KrakÃ³w - 22-24 mai. BÃ©nÃ©ficiez d'une [rÃ©duction de 10%](https://ti.to/appjs/2024/discount/TWIR) avec le code "TWIR".
- ğŸ“œ [Texte vÃ©ritablement sÃ©lectionnable avec React Native sur iOS](https://haileyok.com/truly-selectable-text-with-react-native-on-ios/) : Solution apprÃ©ciable pour la sÃ©lection partielle de texte, accompagnÃ©e d'une bibliothÃ¨que.
- ğŸ“œ [Dockeriser une application React Native](https://scientyficworld.org/how-to-dockerize-a-react-native-app/) Bons conseils pour l'environnement de dev RN sous Docker. La limitation des builds iOS sous Docker rÃ©duit l'intÃ©rÃªt, mais reste utile dans certains scÃ©narios (ex: sans builds natifs locaux).
- ğŸ“œ [AmÃ©liorer les animations 3D dans React Native : contrÃ´le camÃ©ra avec Three.js](https://www.themorrow.digital/blog/how-to-improve-your-react-native-3d-animations-camera-control-with-three-js)
- ğŸ“œ [Configurer Detox pour les tests end-to-end dans une app React Native](https://thoughtbot.com/blog/set-up-detox-for-end-to-end-testing-in-your-react-native-app)
- ğŸ“œ [CrÃ©er des applications local-first rÃ©actives avec TinyBase et PowerSync](https://bndkt.com/blog/2024/the-easiest-way-to-build-reactive-local-first-apps-with-tinybase-and-powersync)
- ğŸ“¦ [React Native 0.74.0-rc.8](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.8)
- ğŸ“¦ [React-Native-Skia 1.1 - makeImageSnapshotAsync](https://github.com/Shopify/react-native-skia/releases/tag/v1.1.0)
- ğŸ“¦ [New Architecture Helper - VÃ©rifie la compatibilitÃ© des dÃ©pendances avec la nouvelle architecture et le mode bridgeless](https://github.com/aleqsio/new-arch-helper)
- ğŸ“¦ [react-native-localize 3.1 - Support visionOS](https://github.com/zoontek/react-native-localize/releases/tag/3.1.0)
- ğŸ“¦ [expo-proximity - AccÃ©der au capteur de proximitÃ© systÃ¨me](https://github.com/tmallet/expo-proximity)
- ğŸ“¦ [react-native-qrcode-skia](https://github.com/enzomanuelmangano/react-native-qrcode-skia)
- ğŸ¥ [Simon Grimm - SÃ©curitÃ© React Native : Verrouillage Ã©cran, Face ID et Privacy Overlay](https://www.youtube.com/watch?v=iMFUWaIEzOs)
- ğŸ™ï¸ [RNR 293 - React Native en situation rÃ©elle avec Benji Lightstone](https://reactnativeradio.com/episodes/rnr-293-real-life-react-native)
- ğŸ™ï¸ [Rocket Ship 37 - IntÃ©grer Swift Ã  React Native avec Gary Tokman](https://share.transistor.fm/s/cf35076f)

---

## ğŸ”€ Autre {#other}

- ğŸ“£ [MÃ©thodes d'ensembles (intersection, union, diffÃ©rence) passÃ©es au stade 4](https://twitter.com/robpalmer2/status/1777777295941386429) ğŸ‰
- ğŸ“£ [Promise.try passe au stade 2.7](https://github.com/tc39/proposal-promise-try/issues/15)
- ğŸ“œ [Une proposition TC39 pour les Signaux](https://eisenbergeffect.medium.com/a-tc39-proposal-for-signals-f0bedd37a335)
- ğŸ“œ [Angular et Wiz sont meilleurs ensemble](https://blog.angular.io/angular-and-wiz-are-better-together-91e633d8cd5a)
- ğŸ“œ [Streaming HTML Over the Wire - Une plongÃ©e approfondie](https://aralroca.com/blog/html-streaming-over-the-wire)
- ğŸ“œ [CrÃ©ation et importation de styles avec les feuilles de style constructibles et les scripts de modules CSS](https://fullystacked.net/constructable/)
- ğŸ“œ [Enhance WASM - Rendu cÃ´tÃ© serveur (SSR) agnostique pour les Web Components](https://begin.com/blog/posts/2024-04-08-introducing-enhance-wasm)
- ğŸ“¦ [ESLint 9.0 - Configuration plate par dÃ©faut, inspecteur de config, Node 20, nettoyage des formateurs](https://eslint.org/blog/2024/04/eslint-v9.0.0-released/)
- ğŸ“¦ [VS Code 1.88 - Ã‰tiquettes personnalisÃ©es d'Ã©diteur, API de couverture de tests, amÃ©liorations Copilot](https://code.visualstudio.com/updates/v1_88)
- ğŸ“¦ [zx 8.0 - Ã‰crivez de meilleurs scripts - plus lÃ©ger, appels synchrones, entrÃ©e, AbortControllerâ€¦](https://github.com/google/zx/releases/tag/8.0.0)
- ğŸ¥ [JavaScript VisualisÃ© - Boucle d'Ã©vÃ©nements, APIs Web, File d'attente (Micro)tÃ¢ches](https://www.youtube.com/watch?v=eiC58R16hb8)

---

## ğŸ¤­ Divertissement {#fun}

[![alt](/emails/issues/181/meme.jpg)](https://twitter.com/sebastienlorber/status/1777647108822102502)

Ã€ plus ! ğŸ‘‹