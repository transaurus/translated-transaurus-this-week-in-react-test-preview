---
slug: /137
title: "This Week In React #137: Code Extraction, Server Components, Signals, Forget compiler, Next.js, Astro, Deno, Remix, Preact, Signia, TypeScript..."
authors: [slorber]
date: 03-07-2023
---

Bonjour à tous !

Cette semaine, il y a encore beaucoup de contenu sur les signaux, mais c'est au tour des Server Components de dominer les discussions !

Plus qu'une semaine pour envoyer votre proposition de talk au CFP de [React-Native-Connection](https://reactnativeconnection.io/) (Paris - 1er juin).

<!-- truncate -->

**💡 [Découvrez cette newsletter sur Twitter](https://slo.im/thread) - format visuel 🎨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## 💸 Sponsor {#sponsor1}

[![Suncel](/emails/issues/136/suncel.jpg)](https://suncel.io/)

**[Construisez des blocs réutilisables. Publiez du contenu plus rapidement. Obtenez de meilleurs Core Web Vitals et SEO.](https://suncel.io/)**

**Éditeurs de contenu** : un changement majeur pour les entreprises qui doivent produire beaucoup de contenu avec une stratégie SEO solide. Marketeurs et éditeurs peuvent modifier et publier des pages sans complexité. Éliminez les longs délais et publiez instantanément. Pages et images sont optimisées grâce à Next.js pour atteindre des scores Core Web Vitals parfaits.

**Développeurs :** plug and play avec votre application Next.js existante. Avantages d'utiliser Suncel CMS en tant que développeur :

- Construisez vos blocs réutilisables en React
- Les méta SEO et sitemap sont générés automatiquement (grâce à notre module SEO)
- Créez vos propres paramètres personnalisés en React
- Interface d'administration personnalisable en React
- Aucun système de routage nécessaire pour s'adapter au CMS

**[Visitez Suncel.io](https://suncel.io/)** | **[Vidéo démo de 5mn](https://www.youtube.com/watch?v=LUupLEZKp3w)**

---

## ⚛️ React {#react}

[![WTF Is Code Extraction](/emails/issues/137/codeextraction.jpg)](https://www.builder.io/blog/wtf-is-code-extraction)

**[Qu'est-ce que l'extraction de code ?](https://www.builder.io/blog/wtf-is-code-extraction)**

Miško (Qwik) explique les avantages de co-localiser le code serveur/client dans un même fichier et les limites du modèle Next.js actuel (extraction d'export) : une seule fonction `getServerSideProps` déclarable nécessitant `ReturnType` pour injecter le bon type de données dans les composants clients. L'extraction de fonctions et de fermetures offre une meilleure expérience développeur.

Ces techniques ne sont pas encore utilisées dans l'écosystème React, mais devraient apparaître prochainement dans nos frameworks. L'équipe Qwik prévoit de [découpler son extraction de code](https://twitter.com/manucorporat/status/1630955309890957313). Tanner Linsley [collabore avec eux](https://twitter.com/tannerlinsley/status/1630994907405115393) et [l'utilise déjà dans Bling](https://twitter.com/tannerlinsley/status/1631003945522065409), le toolkit du futur framework TanStack Start.

Les React Server Components appartiennent aussi aux techniques permettant de mixer transparentement code serveur/client : cette solution devrait être considérée lorsqu'on discute des limites actuelles de Next.js.

---

![React Server Components](/emails/issues/137/rsc.jpg)

**React Server Components**

Après les signaux, les Server Components sont sous les projecteurs cette semaine. Dan Abramov a déclenché de nombreuses discussions en cherchant des modèles mentaux pour expliquer cette fonctionnalité. Explorez ces échanges pour trouver les analogies qui vous parlent le plus.

- 🧵 [Dan Abramov - "Je dois commencer à rassembler des méthodes pour présenter les React Server Components"](https://twitter.com/dan_abramov/status/1631885118355718144)
- 🧵 [Dan Abramov - "Posez-moi toutes vos questions sur les React Server Components"](https://twitter.com/dan_abramov/status/1631641431742857216)
- 🧵 [Dan Abramov - `ui = client(server(data), state)`](https://twitter.com/dan_abramov/status/1632535654142713862)
- 🧵 [Rick Hanlon - "ils déplacent vos composants conteneurs vers le serveur"](https://twitter.com/rickhanlonii/status/1632041893960855552)
- 🧵 [Josh Comeau sur les Server Components](https://twitter.com/JoshWComeau/status/1631398854632304641)
- 🧵 [Andrew Clark sur les outils agnostiques vs bien intégrés](https://twitter.com/acdlite/status/1632910367289491459)
- 🐦 [Ben Holmes - "Les React Server Components et Astro sont... quasiment la même chose"](https://twitter.com/BHolmesDev/status/1633133090057986050)
- 🐦 [Daishi Kato - "Voici comment j'intègre des RSC dans des composants clients"](https://twitter.com/dai_shi/status/1631989295866347520)
- 🎥 [React est désormais un framework backend](https://www.youtube.com/watch?v=EhI6wb5nEEs)
- 🎥 [React Server Components avec Dan Abramov, Joe Savona et Kent C. Dodds](https://www.youtube.com/watch?v=h7tur48JSaw) : discussion en direct qui commence très bientôt, devrait être très intéressante.

Les Server Components pourraient aussi avoir des avantages insoupçonnés : [une couche de communication pour les threads Electron](https://twitter.com/Eli_White/status/1632445703950852096) ou [une couche de données flexible pour les générateurs de sites statiques](https://twitter.com/sebastienlorber/status/1632310649609920513).

---

- 📜 [React vs Signals : 10 ans après](https://dev.to/this-is-learning/react-vs-signals-10-years-later-3k71) : Ne manquez pas la réponse de Dan Abramov à cet article de Ryan Carniato. Dan ne souhaite pas que la fonction d'un composant React soit un "setup" comme dans SolidJS : la ré-exécution de la fonction est volontaire.
- 📜 [Plaidoyer pour les Signaux en JavaScript](https://dev.to/this-is-learning/making-the-case-for-signals-in-javascript-4c7i) : Ryan Carniato expose des arguments solides en faveur des signaux avec des points très intéressants. Je pense aussi qu'on ne devrait pas avoir à modifier l'organisation des composants pour des raisons de performances.
- 📜 [Le futur compilateur de React ne résout qu'une partie du problème](https://www.builder.io/blog/react-compiler-will-not-solve-prop-drilling) : explique pourquoi le compilateur React Forget ne résoudra pas les re-rendus intermédiaires, contrairement aux signaux.
- 📜 [Les Hooks React étaient-ils une erreur ?](https://jakelazaroff.com/words/were-react-hooks-a-mistake/) : Jake explique les problèmes introduits par les hooks, et comment les signaux ressemblent fortement aux composants classes de React.
- 📜 [Infrastructure définie par le framework](https://vercel.com/blog/framework-defined-infrastructure) : le CTO de Vercel explique comment l'infra s'adapte automatiquement à votre code en utilisant Next.js comme exemple.
- 📜 [Rapport de performance des frameworks web 2023](https://astro.build/blog/2023-web-framework-performance-report/) : Fred (Astro) a analysé des données réelles de perf pour dégager des tendances sur l'influence des frameworks. On y trouve des scores de performance pour Astro, Gatsby, Remix et Next.js.
- 📜 [Deno - Vous n'avez pas besoin d'une étape de build](https://deno.com/blog/you-dont-need-a-build-step) : explique la complexité derrière les 4 étapes de build de Next.js (compilation, minification, bundling, code splitting). Propose une alternative avec Fresh et son mode Just-In-Time.
- 📜 [Erreurs courantes des débutants avec React](https://www.joshwcomeau.com/react/common-beginner-mistakes/) : excellent article interactif de Josh Comeau pour les débutants.
- 📜 [Liste de souhaits pour un compilateur React](https://electricui.com/blog/wishlist-for-a-react-compiler) : Michael explique ce qu'il aimerait que le compilateur React-Forget fasse, illustré par de nombreux exemples avant/après compilation.
- 📜 [Benchmark des Signaux Preact versus les alternatives React](https://electricui.com/blog/benchmarking-preact-signals)
- 📜 [Les tests frontend de Sentry : migration d'Enzyme vers React Testing Library](https://blog.sentry.io/2023/02/23/sentrys-frontend-tests-migrating-from-enzyme-to-react-testing-library/)
- 📜 [Prop drilling et composition de composants dans React](https://alexsidorenko.com/blog/react-prop-drilling-composition/)
- 🎨 ["Penser en React" visualisé](https://twitter.com/asidorenko_/status/1631967645376315400)
- 🎥 [Reconstruire le gestionnaire d'état Jotai pour React en 20 minutes !](https://www.youtube.com/watch?v=gg31JTZmFUw)
- 📦 [preact-reconcilers](https://github.com/CodyJasonBennett/preact-reconciler) : un package pour créer des renderers Preact personnalisés. Cody parvient à exécuter [React-Three-Fiber + Preact](https://twitter.com/Cody_J_Bennett/status/1632674026408558592).
- 📦 [Remix 1.14](https://twitter.com/kentcdodds/status/1631059357654818819) : Hot Module Replacement + Hot Data Revalidation.
- 📦 [Signia - Signaux scalables pour TypeScript](https://tldraw.substack.com/p/introducing-signia) : nouvelle librairie de signaux avec liaison React.
- 📦 [Remix + support Fastly](https://twitter.com/FastlyDevs/status/1631031583523192832) : nouvel adaptateur serveur pour Remix
- 📦 [Mantine 6.0](https://mantine.dev/changelog/6-0-0/)
- 📦 [Storybook-Docusaurus](https://github.com/jodyheavener/storybook-docusaurus)

<SubscribeFormEmbed />

---

## 💸 Sponsorisé {#sponsor2}

[![Surveyjs - Bibliothèques JavaScript extensibles pour les enquêtes et les formulaires](/emails/issues/136/surveyjs.jpg)](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)

**[Bibliothèques JavaScript extensibles pour les enquêtes et les formulaires](https://surveyjs.io/?utm_source=thisweekinreact&utm_medium=referral)**

[SurveyJS](https://surveyjs.io/form-library?utm_source=thisweekinreact&utm_medium=referral) est un ensemble de bibliothèques de formulaires JavaScript open source que vous pouvez facilement intégrer à votre application web. Il vous permet de **créer et exécuter plusieurs formulaires**, en conservant toutes les données sensibles sur vos serveurs, ou d'avoir **votre propre constructeur de formulaires WYSIWYG auto-hébergé** que les utilisateurs non techniques peuvent utiliser directement.

Vous pouvez également **analyser les résultats des enquêtes** dans des tableaux de bord personnalisés, enregistrer vos formulaires au format PDF ou simplement **les convertir en fichiers PDF modifiables**. Il offre une prise en charge native pour le **rendu React et Angular** et une liberté totale de choix pour le backend, car **toute combinaison serveur + base de données est entièrement compatible**.

---

## 📱 React-Native {#react-native}

- 👀 [Démonstration d'élimination de code pour les applications React Native](https://twitter.com/Baconbrix/status/1631749459389431808) : fonctionnalité à venir d'Expo CLI pour vous indiquer quel code natif votre application n'utilise pas et peut être supprimé en toute sécurité.
- 👀 [React Native sera bientôt un monorepo](https://twitter.com/o_kwasniewski/status/1631292628217266176)
- 📜 [J'ai rendu JSON.parse() 2 fois plus rapide](https://radex.io/react-native/json-parse/) : Radek propose d'améliorer les performances d'Hermes en utilisant des bibliothèques C++ très rapides basées sur les [instructions SIMD](https://en.wikipedia.org/wiki/Single_instruction,_multiple_data). Intéressant à lire même si vous n'utilisez pas React-Native. Discussions en cours sur la [PR Hermes](https://github.com/facebook/hermes/issues/811).
- 📜 [Les dix principales raisons d'aller à Chain React](https://shift.infinite.red/top-ten-reasons-to-go-to-chain-react-665a93883e4f)
- 🔗 [Guide du routard React Native](https://twitter.com/ospfranco/status/1631984862474248193) : Oscar partage sa base de connaissances React-Native. De nombreux sujets avancés, beaucoup liés à JSI.
- 🎙️ [RNR 261 - Qu'est-ce qui se passe avec EAS ?](https://reactnativeradio.com/episodes/rnr-261-whats-the-deal-with-eas)
- 🎥 [Riveo Page Curl - « Peut-on le faire en React Native ? »](https://www.youtube.com/watch?v=xNZCQvtnhIU)
- 📦 [React-Native-Graph 1.0](https://github.com/margelo/react-native-graph/releases/tag/v1.0.1) : version stable de la bibliothèque de graphiques basée sur Skia de Margelo.
- 📦 [Expo Router 1.2](https://twitter.com/Baconbrix/status/1630969201421582341)
- 📦 [React-Native-Replicache](https://github.com/Braden1996/react-native-replicache/)
- 📦 [VisionCamera Realtime Object Detection with TensorFlow Lite](https://github.com/jaroslawkrol/vision-camera-realtime-object-detection) - [démo](https://twitter.com/mrousavy/status/1631269105796886528)

---

## 🧑‍💻 Emplois {#jobs}

🧑‍💼 [**Passionfroot - Ingénieur Full-stack Senior (Remix) - €160k+, Berlin/télétravail**](https://passionfroot.recruitee.com/o/senior-fullstack-engineer)

La mission de Passionfroot est de permettre aux entreprises indépendantes de demain via YouTube, les podcasts, les réseaux sociaux et les newsletters. Rejoignez-nous pour construire un outil qui permettra aux créateurs du monde entier de créer des entreprises évolutives et durables.

🧑‍💼 [**Callstack - Développeur React Native Senior - Entièrement à distance, 21-32k PLN net en B2B, mensuel**](https://www.callstack.com/senior-react-native-developer)

Vous souhaitez travailler sur les applications les plus utilisées au monde ? Aimeriez-vous co-créer la technologie React Native ? Rejoignez l'équipe Callstack de leaders React & React Native. Consultez notre site pour plus de détails. Nous attendons votre candidature avec impatience - montrez-nous ce que vous savez faire !

🧑‍💼 [**G2i - Emplois React Native 100% à distance**](https://twitter.com/gabe_g2i/status/1563204813881425926?s=20&t=ArRLC77BpRwXXCdx8fnUqw)

Nous avons plusieurs postes ouverts pour des développeurs spécialisés en React Native ! La rémunération est d'environ 160k plus 10% de bonus. Vous devez avoir une expérience en production avec RN et être basé aux États-Unis. Envoyez un DM à [@gabe_g2i](https://twitter.com/gabe_g2i) pour en savoir plus et n'oubliez pas de mentionner This Week in React.

💡 [Comment publier une offre ?](https://thisweekinreact.com/sponsor)

---

## 🔀 Autre {#other}

- [Ancrer des éléments entre eux avec le positionnement CSS](https://developer.chrome.com/blog/tether-elements-to-each-other-with-css-anchor-positioning/) : fonctionnalité ébauche CSS qui pourrait remplacer les bibliothèques de positionnement comme Popper, Floating-UI ou Tether.
- [TypeScript 5.0 RC](https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-rc/)
- [Zod 3.21](https://twitter.com/colinhacks/status/1632472849960280064)
- [ArkType Types isomorphiques pour TS/JS](https://github.com/arktypeio/arktype)
- [JavaScript Import maps, Partie 2 : Exploration approfondie](https://spidermonkey.dev/blog/2023/03/02/javascript-import-maps-part-2-in-depth-exploration.html)
- [WebAssembly peut-il résoudre les problèmes du Serverless ?](https://thenewstack.io/can-webassembly-solve-serverless-problems/)
- [Expérimentations avec le Garbage Collector JavaScript](https://dev.to/codux/experiments-with-the-javascript-garbage-collector-2ae3)
- [Drizzle ORM - ORM TypeScript pour SQL](https://github.com/drizzle-team/drizzle-orm)

---

## 🤭 Amusant {#fun}

[![alt](/emails/issues/137/meme.jpg)](https://twitter.com/potetotes/status/1631401117186764803)

🤣 [Autres tweets drôles cette semaine](https://twitter.com/sebastienlorber/status/1633443251955875840)

À bientôt ! 👋