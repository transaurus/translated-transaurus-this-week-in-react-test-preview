---
slug: /182
title: "This Week In React #182: v18.3, useDeferredValue, Next.js, DevTools, Zustand, CSS-in-JS, R19, Remix, Jest, XState, Astro, RNSC, Strict DOM, 3D, Metro, Worklets, TC39, TypeScript, Effect, Rspack, GraphQL..."
authors: [slorber, bndkt]
date: 04-17-2024
---

Bonjour Ã  tous !

Cette semaine, nous avons une belle version de Next.js et de nombreux articles de blog communautaires intÃ©ressants.

On sent aussi que l'Ã©quipe principale de React travaille dur pour peaufiner les derniers dÃ©tails de React 19. De maniÃ¨re inattendue, une version 18.3 est finalement prÃ©vue avec des avertissements supplÃ©mentaires. React Native 0.74 est Ã©galement Ã  nos portes.

Cette semaine, j'aimerais vous prÃ©senter [**ECMAScript News**](https://ecmascript.news/?utm_source=thisweekinreact). C'est ma newsletter prÃ©fÃ©rÃ©e pour me tenir au courant d'ES, TC39, des outils JS et des runtimes.

La semaine prochaine, nous avons les confÃ©rences [React Connection](https://reactconnection.io/) et [React Native Connection](https://reactnativeconnection.io/) Ã  Paris. On se voit lÃ -bas pour ceux qui y assistent ğŸ‘‹. Vous pouvez toujours obtenir une [rÃ©duction de -20%](https://www.billetweb.fr/react-connection-2024?discount=TWIR) avec mon code partenaire Â« TWIR Â».

<!-- truncate -->

**ğŸ’¡ [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![React-admin : Le Framework Open-Source pour les applications B2B](/emails/issues/182/marmelab.jpg)](https://marmelab.com/react-admin/)

**[React-admin : Le Framework Open-Source pour les applications B2B](https://marmelab.com/react-admin/)**

UtilisÃ© par 25 000 entreprises, React-admin est le framework leader pour construire des ERP, des outils internes et des applications B2B avec React. Voici 3 raisons de l'essayer :

1ï¸âƒ£ **DÃ©veloppement Rapide** ğŸï¸ğŸ Dispose d'une bibliothÃ¨que de plus de 170 hooks et composants, vous permettant de vous concentrer sur les aspects uniques de votre application plutÃ´t que sur des opÃ©rations CRUD rÃ©pÃ©titives.

2ï¸âƒ£ **Personnalisable et Extensible** âœ¨ğŸ’« Construit sur un cÅ“ur headless, react-admin permet une personnalisation complÃ¨te de l'apparence et de l'expÃ©rience de votre application. Et il s'efface lorsque vous avez besoin d'une logique personnalisÃ©e.

3ï¸âƒ£ **Bonnes Pratiques IntÃ©grÃ©es** ğŸ¤“ React-admin intÃ¨gre 7 annÃ©es de bonnes pratiques en matiÃ¨re de rÃ©cupÃ©ration de donnÃ©es, de performance, de gestion de formulaires et de sÃ©curitÃ©, garantissant une expÃ©rience dÃ©veloppeur robuste et agrÃ©able.

Le meilleur : c'est gratuit et s'intÃ¨gre parfaitement Ã  votre API (pas de [SSO Tax](https://sso.tax/)). [**Essayez-le maintenant**](https://marmelab.com/react-admin/) ğŸ˜‰

---

## âš›ï¸ React {#react}

[![Next.js 14.2](/emails/issues/182/next14.2.jpg)](https://nextjs.org/blog/next-14-2)

[**Next.js 14.2**](https://nextjs.org/blog/next-14-2)

Jusqu'Ã  ce que nous ayons React 19 et Next.js 15, cette nouvelle version mineure comprend des amÃ©liorations en dÃ©veloppement, production et mise en cache. Les points forts sont :

- Turbopack (RC) : 99,8 % des tests passent pour `next dev --turbo`
- AmÃ©liorations de la build / production : RÃ©duction de l'utilisation mÃ©moire
- AmÃ©liorations de la mise en cache : RÃ©validation configurable du cache cÃ´tÃ© client avec `staleTimes`
- DX des erreurs : Meilleurs messages d'erreur de non-correspondance d'hydratation

Je suis ravi de voir un excellent dialogue d'erreur de non-correspondance d'hydratation de React dÃ©jÃ  implÃ©mentÃ© dans Next.js ! Au moment oÃ¹ j'Ã©cris, Turbopack est prÃªt Ã  99,9 % pour une utilisation en dÃ©veloppement (6 tests d'intÃ©gration manquants). Pour une utilisation en production, il est prÃªt Ã  75 %, nous devrons donc patienter encore un peu.

---

- ğŸ’¸ [Clerk - A complete suite of embeddable UIs, flexible APIs, and admin dashboards to authenticate and manage your users.](https://go.clerk.com/JTqLYDZ)
- ğŸ‘€ [React Core - Upcoming v18.3 release](https://github.com/facebook/react/pull/28843): The React team has finally decided to release a v18 minor version. It should not contain any behavior change but will emit new warnings for deprecated features to help us upgrade to React 19. It should warn us when using string refs, defaultProps on FC/memo components, or when spreading a key prop (ğŸ¦ [preview](https://twitter.com/sebastienlorber/status/1780519349247205589)).
- ğŸ‘€ [React Core - useDeferredValueâ€™s `initialValue`](https://github.com/reactjs/react.dev/pull/6747): In upcoming React 19 canary releases, this hook will take a new 2nd argument affecting the initial render. It will return the `initialValue` on initial render, and schedule a re-render in the background with the `value` returned.
- ğŸ‘€ [React Core - Automatically reset forms after action finishes](https://github.com/facebook/react/pull/28804): This new React 19 behavior only affects uncontrolled inputs, and aligns with the native platform behavior (it will now be the same with/without JS). It will only affect uncontrolled inputs. They also added a new public API [DOM.requestFormReset](https://github.com/facebook/react/pull/28809) so that form abstraction authors can implement this behavior too.
- ğŸ‘€ [React Core - DevTools v5.1](https://github.com/facebook/react/pull/28840)
- ğŸ‘€ [React Core - Document new react-reconciler methods](https://github.com/facebook/react/pull/28750)
- ğŸ—“ [React Summit](https://reactsummit.com/?utm_source=thisweekinreact) - ğŸ‡³ğŸ‡± Amsterdam - 14-18 June - Get a 10% discount with code "TWIR". Awesome lineup including Evan Bacon, Kent C. Dodds, Theo, Tim Neutkens, Mark Erikson, Fred Schott and so many others!
- ğŸ“œ [Zustand and React Context](https://tkdodo.eu/blog/zustand-and-react-context): I cannot agree more with Dominik that suggests putting your Zustand store instance in a React context. This way, you can initialize the store from props, make things easier to test, and allow using a store on multiple subtrees.
- ğŸ“œ [CSS in React Server Components](https://www.joshwcomeau.com/react/css-in-rsc/): Josh explains why Styled-Components/Emotion do not play well with RSC, and presents alternative solutions providing a similar styled API, like Linaria, Panda, or Pigment. Avoid FOMO, there's no need to adopt RSCs and these libraries now if your app already works fine.
- ğŸ“œ [R19, a dead-simple React 19 framework - Part 2 - The Code; How it works under the hood!](https://www.cmrg.me/blog/rsc-part-2-the-code): Great technical deep dive into what it takes to create a custom React 19 / RSC / Server Actions setup on top of Bun.
- ğŸ“œ [Rebuilding "Remix Contacts" in Next.js 14 with Transitions, Server Actions and Prisma](https://aurorascharff.no/posts/rebuilding-remix-contacts-in-nextjs-14-with-transitions-server-actions-and-prisma/): A nicely detailed walkthrough of converting an official Remix tutorial app to Next.js while preserving the progressive enhancement behavior. It also explains the differences between the 2 approaches and lists the pros/cons of each implementation. Thereâ€™s no clear winner, although Remix looks quite competitive!
- ğŸ“œ [The Two-Tree Problem with Styling on the Web](https://danielnagy.me/posts/Post_jt4adn0o5bnr): An interesting read on the DOM/CSS tree separation, and whether React CSS-in-JS or Tailwind solves this problem. The author is pro-inline-style (like me BTW).
- ğŸ“œ [Improving our Jest execution time by 300%](https://www.camggould.com/posts/Jest-With-RTL-Is-Slow/): Investigations of Jest execution time on a React codebase. RTL getByRole was a bottleneck, among other things.
- ğŸ“œ [Empathetic Coding - Button Component](https://react-japan.dev/en/blog/empathetic-coding-button-component): Nice article showing the steps to design a React button component using TypeScript and Tailwind, keeping in mind maintenance and convenience.
- ğŸ“œ [Overcoming Next.js' Search Params Limitation in Layouts](https://www.nico.fyi/blog/workaround-layout-has-no-search-params): Suggest using parallel routes to overcome the limitation.
- ğŸ“œ [The process.env frontend time bomb (plus: a sustainable definition of â€œfixedâ€)](https://massimilianomirra.com/notes/the-frontend-process-env-time-bomb-plus-a-sustainable-definition-of-fixed): Instead of spreading process.env across your codebase, parses env variables with Zod and exposes app config in a React context.
- ğŸ“œ [How to Style a React Application](https://alexkondov.com/full-stack-tao-styling/)
- ğŸ“œ [Understanding Layout and Template Next.js App Router](https://www.nico.fyi/blog/understanding-layout-and-template-next-app-router)
- ğŸ“¦ [Next.js View Transitions](https://next-view-transitions.vercel.app/): Shu from Vercel released a basic userland implementation of CSS View Transitions, although it looks possible that Next.js will provide this feature later.
- ğŸ“¦ [XState Store](https://stately.ai/blog/2024-04-10-xstate-store): New tiny typesafe event-driven state manager, including a React useSelector API. This reminds me a bit of both Redux and Zustand.
- ğŸ“¦ [Astro 4.6 - Manual i18n routing, move dev toolbar, CSRF protection, cookiesâ€¦](https://astro.build/blog/astro-460/)
- ğŸ“¦ [Next-Video 1.0 - The easiest way to add video in your NextJS app](https://github.com/muxinc/next-video/releases/tag/v1.0.0)
- ğŸ“¦ [Mantine 7.8.0 - Uncontrolled form mode, form.getValues, form.watch, automatic px to rem conversions](https://mantine.dev/changelog/7-8-0/)
- ğŸ“¦ [NextUI 2.3 - Date/Time/Calendar components](https://nextui.org/blog/v2.3.0)
- ğŸ¥[Theo - From 0 to Production - The Modern React Tutorial (RSCs, Next.js, Shadui, Drizzle, TS and more)](https://www.youtube.com/watch?v=d5x0JCZbAJs)
- ğŸ¥ [React Paris 2024 - Conf Talks YouTube Playlist](https://www.youtube.com/playlist?list=PL53Z0yyYnpWhUzgvr2Nys3kZBBLcY0TA7)
- ğŸ¥ [Ryan Toronto - Handling RSC Errors in Next.js](https://www.youtube.com/watch?v=idEL0dv2V1A)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Commanditaire {#sponsor2}

[![SDK FormBuilder pour React](/emails/issues/171/tripetto.jpg)](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)

**[SDK FormBuilder pour React](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk)**

Une solution complÃ¨te de formulaires pour les projets React, utilisÃ©e par des entreprises du Fortune 500. Avec des composants open-source faciles Ã  utiliser pour crÃ©er et exÃ©cuter des formulaires puissants dans votre application React. DocumentÃ©e de maniÃ¨re exhaustive, opÃ©rationnelle en quelques minutes et hautement personnalisable.

- Builder pour crÃ©er des formulaires puissants ;
- Runner pour dÃ©ployer des formulaires et collecter des donnÃ©es ;
- Dispositions de formulaires flexibles (conversationnelles, chat, etc.) et style ;
- Extensible avec des types de questions personnalisÃ©s ;
- Documentation, exemples et dÃ©monstrations complets ;
- Auto-hÃ©bergÃ© sans dÃ©pendances externes ;
- Commencez, testez et perfectionnez gratuitement.

ExclusivitÃ© TWIR : [Obtenez 25% de rÃ©duction sur votre licence FormBuilder SDK](https://tripetto.com/sdk/this-week-in-react/?utm_source=thisweekinreact&utm_medium=sponsor&utm_campaign=sdk).

---

## ğŸ“± React-Native {#react-native}

[![Les React Server Components Ã  taille de bundle nulle sont-ils possibles dans React Native ?](/emails/issues/182/rn0kb.jpg)](https://twitter.com/Baconbrix/status/1780259340458340360)

ğŸ¦ [Les React Server Components Ã  taille de bundle nulle sont-ils possibles dans React Native ?](https://twitter.com/Baconbrix/status/1780259340458340360)

Evan Bacon rÃ©pond oui et nous donne un aperÃ§u de ce que l'avenir pourrait rÃ©server dans un monde React Native pilotÃ© par serveur. Des temps passionnants Ã  venir !

---

- ğŸ’¸ [PowerSync â€“ crÃ©ez des applications local-first avec une gestion d'Ã©tat simple et une rÃ©activitÃ© en temps rÃ©el. Non invasif pour l'architecture existante.](https://www.powersync.com/?utm_source=newsletter&utm_medium=sponsorship&utm_campaign=this-week-in-react)
- ğŸ¦ [DÃ©monstrations de batching automatique de Brent Vatne](https://twitter.com/notbrent/status/1778266063832056285) : DÃ©couvrez la nouvelle architecture en action !
- ğŸ¦ [Belle dÃ©monstration de composant de boÃ®te de dialogue pour les actions destructives](https://twitter.com/marceloterreiro/status/1779657639745798411)
- ğŸ¦ [Le site Ignite Cookbook a discrÃ¨tement reÃ§u plusieurs nouvelles recettes](https://twitter.com/jamonholmgren/status/1778829659775676653) : Supabase & PowerSync
- ğŸ¦ [Rendu 3D avec RN sur Vision Pro](https://twitter.com/o_kwasniewski/status/1780602815167283485)
- ğŸ‘€ [rn.new - Une maniÃ¨re astucieuse de dÃ©marrer un nouveau projet React Native](https://rn.new)
- ğŸ—“ [App.js Conf](https://appjs.co/?utm_source=thisweekinreact) - ğŸ‡µğŸ‡± KrakÃ³w - 22-24 mai. Obtenez une [rÃ©duction de 10%](https://ti.to/appjs/2024/discount/TWIR) avec le code "TWIR".
- ğŸ“œ [Ajoutez des formes et des textures aux animations 3D avec React, Expo et ThreeJS](https://www.themorrow.digital/blog/add-shapes-and-textures-to-3d-animations-with-react-expo-and-threejs) : La semaine derniÃ¨re, j'ai Ã©crit sur une future bibliothÃ¨que d'animation 3D, mais il existe dÃ©jÃ  des approches pour le 3D dans RN. Cet article en dÃ©crit une.
- ğŸ“œ [Comment implÃ©menter le cache HTTP de Metro](https://andrei-calazans.com/posts/metro-http-cache/) : Saviez-vous que Meta utilise un cache central pour ses dÃ©veloppeurs RN ? Si un dev a dÃ©jÃ  empaquetÃ© quelque chose, un autre peut profiter du rÃ©sultat du cache. Cet article explique le fonctionnement des caches HTTP distants dans Metro.
- ğŸ“œ [React Strict DOM : L'avenir des applications universelles avec React Native](https://blog.theodo.com/2024/04/react-strict-dom-react-native-web/)
- ğŸ“œ [L'art oubliÃ© de la conception de la barre d'Ã©tat](https://brainsandbeards.com/blog/2024-forgotten-art-of-status-bar-design/)
- ğŸ“œ [Gist - Manifeste de confidentialitÃ© Apple avec Expo 50.0.17](https://gist.github.com/catalinmiron/d2cabb835088d0342bc48030464ee615)
- ğŸ“œ [react-native-worklets-core 1.0](https://github.com/margelo/react-native-worklets-core/releases/tag/v1.0.0)
- ğŸ“¦ [VisionCamera 4.0.0-beta.15 - premiÃ¨re bÃªta pour les processeurs de trames Skia](https://github.com/mrousavy/react-native-vision-camera/releases/tag/v4.0.0-beta.15)
- ğŸ“¦ [react-native 0.74.0-rc.9](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.9) : Ajoute un modÃ¨le pour un manifeste de confidentialitÃ© iOS Ã  l'Ã©tape de build
- ğŸ“¦ [Unistyle 2.6 + 2.7 - Ajoute la prise en charge de tvOS + visionOS](https://github.com/jpudysz/react-native-unistyles/releases)
- ğŸ“¦ [RN Storybook v8.0.0-alpha.4](https://github.com/storybookjs/react-native/releases/tag/v8.0.0-alpha.4)
- ğŸ¥ [Simon Grimm - 10 bibliothÃ¨ques d'animation React Native Ã©piques](https://www.youtube.com/watch?v=8CZy6DjDXK0)
- ğŸ¥ [La taille de votre application compte | React Native Optimization Shorts 2](https://www.youtube.com/watch?v=d2xlQRoea-8)
- ğŸ™ï¸ [Rocket Ship 38 - Expo EAS et 100 serpents avec Jon Samp](https://share.transistor.fm/s/6896005f)

---

## ğŸ”€ Autre {#other}

- ğŸ“œ [Mises Ã  jour de la 101e rÃ©union TC39 - MÃ©thodes Set, Regex, Promise.try, isError, Signauxâ€¦](https://dev.to/hemanth/updates-from-the-101th-tc39-meeting-1mm)
- ğŸ“œ [La crÃ©ation d'une fonctionnalitÃ© TypeScript : InfÃ©rence des prÃ©dicats de type](https://effectivetypescript.com/2024/04/16/inferring-a-type-predicate/)
- ğŸ“œ [Deno - Comment nous avons construit JSR](https://deno.com/blog/how-we-built-jsr)
- ğŸ“œ [Vous n'avez probablement pas besoin de GraphQL](https://mxstbr.com/thoughts/graphql)
- ğŸ“œ [Sommet de collaboration Node.js (Londres 2024)](https://nodejs.org/en/blog/events/collab-summit-2024-london)
- ğŸ“œ [PlongÃ©e approfondie dans le Tree Shaking de Rspack & Webpack](https://github.com/orgs/web-infra-dev/discussions/17)
- ğŸ“¦ [Safari Technology Preview 192 - Transitions de vue CSS, URL.parse()](https://webkit.org/blog/15260/release-notes-for-safari-technology-preview-192/)
- ğŸ“¦ [Rspack v0.6 - Plugin d'extraction CSS intÃ©grÃ©, activation du nouveau treeshaking](https://www.rspack.dev/blog/announcing-0.6.html)
- ğŸ“¦ [pnpm 9.0 - Abandon de Node 16, amÃ©lioration du format de lockfile et de la rÃ©solution](https://github.com/pnpm/pnpm/releases/tag/v9.0.0)
- ğŸ“¦ [Biome 1.7 - AmÃ©lioration de la CLI de migration ESLint/Prettier](https://biomejs.dev/blog/biome-v1-7/)
- ğŸ“¦ [Effect 3.0 - API Stable](https://effect.website/blog/effect-3.0)
- ğŸ“¦ [gql.tada 1.5 - OpÃ©rations persistantes, mode Turbo, nouvelle CLI](https://gql-tada.0no.co/devlog/2024-04-15)

---

## ğŸ¤­ Amusant {#fun}

[![alt](/emails/issues/182/meme.jpg)](https://twitter.com/bndkt/status/1780615189202907426)

Ã€ plus ! ğŸ‘‹