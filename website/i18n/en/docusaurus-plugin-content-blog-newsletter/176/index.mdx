---
slug: /176
title: "This Week In React #176: useActionState, React Compiler, Million Lint, TanStack, Generative UI, Vinxi, Remix i18n, Next.js security, Typesafe Router, Shopify RN perf, RCTRootViewFactory, iOS Live Activities, Uni Stack, TypeScript, Parcel..."
authors: [slorber, bndkt]
date: 03-06-2024
---

Bonjour Ã  tous !

Cette semaine est difficile Ã  rÃ©sumer, il y a beaucoup de nouvelles intÃ©ressantes et je ne sais pas lesquelles mettre en avant.

Nous avons notamment un aperÃ§u d'un nouveau hook React de base remplaÃ§ant le `useFormState` confus, que mÃªme les dÃ©veloppeurs React Native pourront dÃ©sormais utiliser !

<!-- truncate -->

**ğŸ’¡ [Consultez cette newsletter sur Twitter](https://slo.im/thread) - format visuel ğŸ¨**

---

import Support from "@site/newsletter/_support.mdx";

<Support />

---

## ğŸ’¸ Sponsor {#sponsor1}

[![Axiom - la meilleure plateforme de logs pour les apps Vercel](/emails/issues/171/axiom.jpg)](https://axiom.co/vercel)

**[Axiom - la meilleure plateforme de logs pour les apps Vercel](https://axiom.co/vercel)**

ğŸ˜´ Dormez paisiblement sachant que l'observabilitÃ© sans configuration d'Axiom pour les projets Vercel vous couvre.

- Utilisez le tableau de bord prÃ©construit d'Axiom pour une vue d'ensemble de tous vos logs et mÃ©triques Vercel, explorez des projets et dÃ©ploiements spÃ©cifiques, et obtenez des insights sur les performances des fonctions en un clic.
- [next-axiom](https://github.com/axiomhq/next-axiom) vous permet d'envoyer des logs et Ã©vÃ©nements depuis n'importe quelle partie de vos projets Next.js - client, edge ou serveur - sans configuration spÃ©ciale.
- Envoyez facilement des logs structurÃ©s depuis votre code et analysez-les avec vos logs Vercel.

Axiom capture efficacement 100% de vos donnÃ©es Ã©vÃ©nementielles, vous n'aurez jamais Ã  vous soucier d'Ã©chantillonnage ou de rÃ©tention, et ne devinerez plus ce que vivent vos utilisateurs.

**PS** :Â [Je l'utilise personnellement pour surveiller les inscriptions Ã  la newsletter](https://twitter.com/sebastienlorber/status/1528666563452317696)Â ğŸ˜‰

---

## âš›ï¸ React {#react}

[![PR React Core - Nouveau hook useActionState](/emails/issues/176/useActionState.jpg)](https://github.com/facebook/react/pull/28491)

**[PR React Core - Nouveau hook useActionState](https://github.com/facebook/react/pull/28491)**

It turns out the useFormState hook was confusing, and not even meant to be solely used in forms. The React team is addressing this by introducing a new React core hook to replace it:

- Renomme `useFormState` en `useActionState`
- Ajoute un Ã©tat pending au tuple retournÃ©
- DÃ©place le hook vers le package `react`

Le dÃ©placer de `react-dom` vers `react` signifie Ã©galement que d'autres moteurs de rendu comme React Native pourront dÃ©sormais l'utiliser. D'autres avantages existent, comme une fonctionnalitÃ© de "progressive enhancement partiel", mais aussi de nouvelles mises en garde documentÃ©es dans la PR.

---

- ğŸ’¸ [Secure your documents with PDF Redaction. Discover how to protect sensitive information in PDFs using React. Visit our blog to learn more.](https://apryse.com/blog/pdf-redaction-using-react?utm_source=this%20week%20in%20react&utm_medium=newsletter3)
- ğŸ¦ [React 19 != React Compiler](https://twitter.com/sebastienlorber/status/1764950877620654474): The React Labs post is a bit ambiguous and misled many of us, so letâ€™s clarify. The compiler will likely come after the React 19.0 release as a separate project, and thereâ€™s a good chance it will initially be released as a Babel/TypeScript plugin. The internals are decoupled through, so it shouldnâ€™t take long to adapt it it to Rust.
- ğŸ¦ [TanStack Start preview](https://twitter.com/tannerlinsley/status/1765120904370307438): Tanner works on a TanStack Start full-stack framework based on Vinxi and TanStack Router. This preview shows heâ€™s migrating his own TanStack site to it.
- ğŸ“œ [Vercel - Introducing AI SDK 3.0 with Generative UI support](https://vercel.com/blog/ai-sdk-3-generative-ui): With the AI SDK 3.0 and thanks to React Server Components, you can now stream UI components directly from LLMs. Super impressive demos!
- ğŸ“œ [Secure statically rendered paid content in Next.js (with the App Router)](https://www.ericburel.tech/blog/static-paid-content-app-router): Shows that using Next.js layouts for authentication is not super secure, and the protected content can still leak through the RSC endpoint. Suggests using a middleware instead.
- ğŸ“œ [Internationalization with Remix](https://remix.run/blog/remix-i18n): Goes back to i18n fundamentals, and then detail various i18n solutions you can set up within Remix. Optional route segments can help you use localized sub-directories.
- ğŸ“œ [Did you know you can write your own typesafe React router in 500 lines?](https://sinja.io/blog/build-typesafe-react-router-from-scratch): A great comprehensive article that might give you a better understanding of how existing routers work. Also great to learn about advanced TypeScript type-level programming techniques.
- ğŸ“œ [Streaming HTML out of order without JavaScript](https://lamplightdev.com/blog/2024/01/10/streaming-html-out-of-order-without-javascript/): This super interesting demo shows we donâ€™t need JavaScript to stream out-of-order HTML chunks, and yet render them in the correct order. All you need is Declarative Shadow DOM and slots. It will be interesting to see if RSC streaming + Suspense could leverage that technique in the future instead of inlining JavaScript.
- ğŸ“œ [Simple RSC With Vinxi](https://www.brenelz.com/posts/simple-rsc-with-vinxi/): The Vinxi SDK helps you create your own full-stack framework, and it even has a plugin for React Server Components support!
- ğŸ“œ [Million.js - Blocks with noSlot Mode](https://million.dev/blog/block-noSlot): the Million compiler might wrap your components with `<slot>` elements, which might cause issues (styling). This introduces a new experimental `noSlot` mode..
- ğŸ“œ [How to add Monaco to a Next.js app to enable custom user workflows](https://deno.com/blog/monaco-nextjs): Interesting tutorial that also shows how to deploy untrusted user code to Deno.
- ğŸ“œ [Conceptual Model of React and RSC](https://ondrejvelisek.github.io/conceptual-model-of-react-and-rsc/): Reflects around the UI=f(state) formula in interesting ways, and concludes RSC kind of breaks the original model.
- ğŸ“œ [Why React Server Components Are Breaking Builds to Win Tomorrow](https://www.builder.io/blog/why-react-server-components)
- ğŸ“œ [The End Of My Gatsby Journey](https://www.smashingmagazine.com/2024/03/end-of-gatsby-journey/)
- ğŸ“œ [React Admin March 2024 Update](https://marmelab.com/blog/2024/03/05/react-admin-march-2024-update.html)
- ğŸ“¦ [Million Lint - public beta](https://million.dev/blog/lint): A VSCode extension that helps you keep your React code fast thanks to dynamic analysis. Much simpler to use than React Devtools flame graphs. There will be an additional AI-based Lint++ paid service built on top to suggest you possible performance improvements.
- ğŸ“¦ [react-unforget - A compiler for automatic optimization of React apps](https://github.com/mohebifar/react-unforget): After Forgetti, this is another new alternative React compiler coming from the community. See also ğŸ¦ [Joe Savonaâ€™s feedback](https://twitter.com/en_JS/status/1763593971224494106).
- ğŸ“¦ [Remix 2.8 - Pass resolved viteConfig to buildEnd hook](https://remix.run/docs/en/main/start/changelog#v280)
- ğŸ“¦ [React Query 5.25 - skipToken, typesafe query disabling](https://github.com/TanStack/query/releases/tag/v5.25.0)
- ğŸ“¦ [TanStack Router 1.18 - route groups](https://github.com/TanStack/router/releases/tag/v1.18.0)
- ğŸ“¦ [Starlight 0.21 - New UI components: Steps, FileTree](https://starlight.astro.build/guides/components/)
- ğŸ“¦ [Storybook 8.0 RC - v8 is officially stable enough to be used in production](https://github.com/storybookjs/storybook/releases/tag/v8.0.0-rc.0)
- ğŸ“¦ [Onborda - Onboarding wizard flow for Next.js powered by Framer Motion](https://github.com/uixmat/onborda)
- ğŸ“¦ [Input-OTP - One-time password input component for React](https://input-otp.rodz.dev/)
- ğŸ“¦ [Panda 0.33](https://github.com/chakra-ui/panda/discussions/2274)
- ğŸ“¦ [UVCanvas - React component library for beautifully shaded canvas](https://uvcanvas.com)
- ğŸ¥ [Jack Herrington - Is Tanstack Router Better Than React-Router?](https://www.youtube.com/watch?v=qOwnQJOClrw)
- ğŸ¥ [Theo - How Shadcn/ui Actually Works](https://www.youtube.com/watch?v=AqmMx_JidGo)

<SubscribeFormEmbed placement="middle" />

---

## ğŸ’¸ Sponsor {#sponsor2}

[![Besoin de plus qu'une simple boÃ®te de connexion ?](/emails/issues/176/clerk.jpg)](https://clerk.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=middleware&utm_content=03-06-24)

**[Besoin de plus qu'une simple boÃ®te de connexion ?](https://clerk.com/?utm_source=thisweekinreact&utm_medium=newsletter&utm_campaign=middleware&utm_content=03-06-24)**

Clerk simplifie l'authentification et la gestion des utilisateurs pour les applications React, garantissant une configuration rapide pour le web moderne.

DÃ©couvrez les avantages de Clerk :

- ğŸ’… Composants d'interface prÃ©dÃ©finis pour la connexion, l'inscription, les profils utilisateurs et les organisations. Personnalisez avec n'importe quelle bibliothÃ¨que CSS et dÃ©ployez sur votre domaine
- ğŸ“¦ SDKs pour React, React Native, Next.js, Redwood, Remix et autres frameworks
- âš¡ IntÃ©grations avec Firebase, Supabase, Convex et autres fournisseurs BaaS
- ğŸ Gestion des utilisateurs, connexion sociale, liens magiques, MFA et plus encore prÃªts Ã  l'emploi

Plongez dans les [dÃ©marrages rapides et tutoriels de Clerk](https://clerk.com/docs/quickstarts/overview?utm_source=sponsorship&utm_medium=newsletter&utm_campaign=thisweekinreact&utm_term=02-28-24) pour lancer votre projet ğŸš€

---

## ğŸ“± React-Native {#react-native}

Cette section est dÃ©sormais co-Ã©crite avec [Benedikt](https://twitter.com/bndkt). N'hÃ©sitez pas Ã  nous envoyer vos commentaires par email ou sur [Twitter](https://twitter.com/bndkt) !

[![AmÃ©lioration des performances de l'application Shopify](/emails/issues/176/shopify.jpg)](https://shopify.engineering/improving-shopify-app-s-performance)

**[AmÃ©lioration des performances de l'application Shopify](https://shopify.engineering/improving-shopify-app-s-performance)**

Shopify est un partisan de React Native depuis longtemps. Mais ils ont constatÃ© une baisse des performances de leur application depuis leur migration vers React Native. PlutÃ´t que de blÃ¢mer la pile technologique, ils se sont attelÃ©s Ã  optimiser les performances. Les rÃ©sultats parlent d'eux-mÃªmes : le lancement de l'application est 44% plus rapide et les temps de chargement des Ã©crans ont Ã©tÃ© rÃ©duits de 59%. Voici un rÃ©sumÃ© rapide des mesures prises (indice : FlashList joue un rÃ´le majeur dans certaines). Pour les dÃ©tails, lisez leur excellent article de synthÃ¨se :

- Rendre initialement uniquement ce qui est visible Ã  l'Ã©cran (particuliÃ¨rement vrai pour l'Ã©cran d'accueil)
- Construire tous les Ã©crans sous forme de listes (basÃ©es sur FlashList)
- Utiliser inlineRequires
- Regrouper les changements d'Ã©tat
- Optimiser la mise en cache

Des informations trÃ¨s intÃ©ressantes et des rÃ©sultats impressionnants. J'espÃ¨re que l'Ã©quipe Shopify continuera Ã  partager ces dÃ©tails et peut-Ãªtre verrons-nous certaines des solutions dÃ©veloppÃ©es pendant ce processus devenir open source ?

---

- ğŸ’¸ [React Universe Conf combine les meilleurs Ã©lÃ©ments de React Native EU avec un nouveau programme enrichi. Obtenez votre billet au prix le plus bas avant le 7 mars](https://www.reactuniverseconf.com/?utm_campaign=React_Universe_Conf&utm_source=email&utm_content=This_Week_in_React)
- ğŸ‘€ [PR - RCTRootViewFactory](https://github.com/facebook/react-native/pull/42263) : Simplifie les intÃ©grations brownfield sur iOS et vous Ã©vite de vous prÃ©occuper des combinaisons Old Arch/New Arch/Bridge/Bridgeless.
- ğŸ¦ [Glisser-dÃ©poser des fichiers d'autres applications dans votre app RN](https://x.com/alihdjr/status/1764393524940673529)
- ğŸ“– [Documentation visionOS - IntÃ©gration dans des projets existants](https://callstack.github.io/react-native-visionos-docs/docs/guides/integrate-into-existing-projects/)
- ğŸ“œ [Expo - Orchestrer des workflows avancÃ©s avec des builds personnalisÃ©s](https://expo.dev/blog/orchestrate-advanced-workflows-with-custom-builds) : Les builds personnalisÃ©s vous permettent d'exÃ©cuter des scripts (bash ou JS) avant ou aprÃ¨s les builds Expo, par exemple pour lancer des tests E2E, envoyer des notifications Ã  votre Ã©quipe...
- ğŸ“œ [ActivitÃ©s en direct iOS et React Native - exploiter les derniÃ¨res fonctionnalitÃ©s iOS pour afficher les donnÃ©es les plus rÃ©centes de votre app sans l'ouvrir](https://www.reactnative.university/blog/live-activities-unleashed) : Beaucoup plus d'apps devraient utiliser les Live Activities ! Les devs RN rencontrent un obstacle car elles doivent Ãªtre Ã©crites en Swift. Cette sÃ©rie en 3 parties dÃ©taille toutes les Ã©tapes nÃ©cessaires.
- ğŸ“œ [Limites d'erreur React Native - FonctionnalitÃ©, partielle et serveur](https://www.reactnative.university/blog/react-native-error-boundaries) : Les limites d'erreur restent sous-utilisÃ©es, pourtant chaque app React Native devrait en avoir au moins une (idÃ©alement plus). Cet article explique pourquoi et comment.
- ğŸ“œ [Augmentez vitesse et sÃ©curitÃ© avec les bibliothÃ¨ques crypto natives](https://www.callstack.com/blog/increase-speed-and-security-with-native-crypto-libraries)
- ğŸ“œ [RÃ©sumÃ© Morrow du rapport sur l'Ã©tat de React Native 2023](https://www.themorrow.digital/blog/our-summary-of-the-state-of-react-native-2023-report)
- ğŸ“¦ [Intercom-react-native 6.5 - DÃ©sormais avec plugin de configuration Expo](https://github.com/intercom/intercom-react-native/releases/tag/6.5.0)
- ğŸ“¦ [Uni Stack - Starter React Native avec Expo, Prisma, tRPC](https://www.uni-stack.dev/)
- ğŸ“¦ [Expo-foreground-actions - Lancer des actions qui continuent de s'exÃ©cuter pendant la pÃ©riode de grÃ¢ce aprÃ¨s changement d'app](https://github.com/Acetyld/expo-foreground-actions)
- ğŸ“¦ [React Native 0.74.0 RC 2](https://github.com/facebook/react-native/releases/tag/v0.74.0-rc.2)
- ğŸ™ï¸ [RNR 290 - L'enquÃªte sur l'Ã©tat de React Native avec BartÅ‚omiej Bukowski](https://reactnativeradio.com/episodes/the-state-of-react-native-survey-with-bartomiej-bukowski)
- ğŸ™ï¸ [Rocket Ship 32 - D'enseignant fauchÃ© Ã  ingÃ©nieur logiciel avec Zach Taylor](https://podcast.galaxies.dev/episodes/032-from-broke-teacher-to-software-engineer-with-zach-taylor)
- ğŸ¥ [Simon Grimm - Construire une app de dessin pour enfants avec React Native](https://www.youtube.com/watch?v=G5TjXRHoEno)
- ğŸ¥ [notJust Dev - CrÃ©ez votre propre blog avec React Native (pour Web & mobile)](https://www.youtube.com/watch?v=ewW6_baBXko)
- ğŸ“… [Chain React Appel Ã  confÃ©renciers ouvert jusqu'au 3 mai 2024](https://sessionize.com/chain-react-2024/)
- ğŸ“… [React Universe Conf 2024 - Tarif early bird se termine aujourd'hui](https://ti.to/RUC/react-universe-conf-2024)

---

## ğŸ”€ Autre {#other}

- ğŸ’¬ [Plan d'itÃ©ration TypeScript 5.5 - nouvelles mÃ©thodes Set, fusion d'extensions de configuration](https://github.com/microsoft/TypeScript/issues/57475)
- ğŸ“œ [Effective TypeScript - La face cachÃ©e des prÃ©dicats de type](https://effectivetypescript.com/2024/02/27/type-guards/)
- ğŸ“œ [Deno - PrÃ©sentation de JSR - le registre JavaScript](https://deno.com/blog/jsr_open_beta)
- ğŸ“œ [OpenJS lance une nouvelle collaboration pour amÃ©liorer l'interopÃ©rabilitÃ© des mÃ©tadonnÃ©es des packages JavaScript](https://socket.dev/blog/openjs-improve-interoperability-of-javascript-package-metadata)
- ğŸ“œ [Open Web Advocacy - Apple recule sur la suppression des applications web, mais le combat continue](https://open-web-advocacy.org/blog/apple-backs-off-killing-web-apps/)
- ğŸ“œ [Top 8 des mises Ã  jour rÃ©centes de V8 dans Node](https://blog.appsignal.com/2024/02/28/top-8-recent-v8-in-node-updates.html)
- ğŸ“¦ [FonctionnalitÃ©s WebKit dans Safari 17.44 - CSS @scope, align-content](https://webkit.org/blog/15063/webkit-features-in-safari-17-4/)
- ğŸ“¦ [Shiki-magic-move - Blocs de code animÃ©s en douceur](https://github.com/shikijs/shiki-magic-move)
- ğŸ“¦ [Parcel 2.12 - Macros dÃ©finies avec des attributs d'importation exÃ©cutÃ©s Ã  la compilation](https://parceljs.org/blog/v2-12-0/)
- ğŸ“¦ [Playwright 1.42 - Ã©tiquetage de tests, annotations des tests ignorÃ©s](https://github.com/microsoft/playwright/releases/tag/v1.42.0)

---

## ğŸ¤­ Divertissement {#fun}

[![alt](/emails/issues/176/meme.jpg)](https://twitter.com/sebastienlorber/status/1765373471645737153)

Ã€ plus ! ğŸ‘‹